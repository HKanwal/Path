{"ast":null,"code":"(function (global, factory) {\n  if (typeof define === \"function\" && define.amd) {\n    define(['exports', './GoogleApiComponent', './components/Marker', './components/InfoWindow', './components/HeatMap', './components/Polygon', './components/Polyline', 'react', 'prop-types', 'react-dom', './lib/String', './lib/cancelablePromise'], factory);\n  } else if (typeof exports !== \"undefined\") {\n    factory(exports, require('./GoogleApiComponent'), require('./components/Marker'), require('./components/InfoWindow'), require('./components/HeatMap'), require('./components/Polygon'), require('./components/Polyline'), require('react'), require('prop-types'), require('react-dom'), require('./lib/String'), require('./lib/cancelablePromise'));\n  } else {\n    var mod = {\n      exports: {}\n    };\n    factory(mod.exports, global.GoogleApiComponent, global.Marker, global.InfoWindow, global.HeatMap, global.Polygon, global.Polyline, global.react, global.propTypes, global.reactDom, global.String, global.cancelablePromise);\n    global.index = mod.exports;\n  }\n})(this, function (exports, _GoogleApiComponent, _Marker, _InfoWindow, _HeatMap, _Polygon, _Polyline, _react, _propTypes, _reactDom, _String, _cancelablePromise) {\n  'use strict';\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.Map = exports.Polyline = exports.Polygon = exports.HeatMap = exports.InfoWindow = exports.Marker = exports.GoogleApiWrapper = undefined;\n  Object.defineProperty(exports, 'GoogleApiWrapper', {\n    enumerable: true,\n    get: function () {\n      return _GoogleApiComponent.wrapper;\n    }\n  });\n  Object.defineProperty(exports, 'Marker', {\n    enumerable: true,\n    get: function () {\n      return _Marker.Marker;\n    }\n  });\n  Object.defineProperty(exports, 'InfoWindow', {\n    enumerable: true,\n    get: function () {\n      return _InfoWindow.InfoWindow;\n    }\n  });\n  Object.defineProperty(exports, 'HeatMap', {\n    enumerable: true,\n    get: function () {\n      return _HeatMap.HeatMap;\n    }\n  });\n  Object.defineProperty(exports, 'Polygon', {\n    enumerable: true,\n    get: function () {\n      return _Polygon.Polygon;\n    }\n  });\n  Object.defineProperty(exports, 'Polyline', {\n    enumerable: true,\n    get: function () {\n      return _Polyline.Polyline;\n    }\n  });\n\n  var _react2 = _interopRequireDefault(_react);\n\n  var _propTypes2 = _interopRequireDefault(_propTypes);\n\n  var _reactDom2 = _interopRequireDefault(_reactDom);\n\n  function _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : {\n      default: obj\n    };\n  }\n\n  function _classCallCheck(instance, Constructor) {\n    if (!(instance instanceof Constructor)) {\n      throw new TypeError(\"Cannot call a class as a function\");\n    }\n  }\n\n  var _createClass = function () {\n    function defineProperties(target, props) {\n      for (var i = 0; i < props.length; i++) {\n        var descriptor = props[i];\n        descriptor.enumerable = descriptor.enumerable || false;\n        descriptor.configurable = true;\n        if (\"value\" in descriptor) descriptor.writable = true;\n        Object.defineProperty(target, descriptor.key, descriptor);\n      }\n    }\n\n    return function (Constructor, protoProps, staticProps) {\n      if (protoProps) defineProperties(Constructor.prototype, protoProps);\n      if (staticProps) defineProperties(Constructor, staticProps);\n      return Constructor;\n    };\n  }();\n\n  function _possibleConstructorReturn(self, call) {\n    if (!self) {\n      throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n    }\n\n    return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n  }\n\n  function _inherits(subClass, superClass) {\n    if (typeof superClass !== \"function\" && superClass !== null) {\n      throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n    }\n\n    subClass.prototype = Object.create(superClass && superClass.prototype, {\n      constructor: {\n        value: subClass,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n    if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n  }\n\n  var mapStyles = {\n    container: {\n      position: 'absolute',\n      width: '100%',\n      height: '100%'\n    },\n    map: {\n      position: 'absolute',\n      left: 0,\n      right: 0,\n      bottom: 0,\n      top: 0\n    }\n  };\n  var evtNames = ['ready', 'click', 'dragend', 'recenter', 'bounds_changed', 'center_changed', 'dblclick', 'dragstart', 'heading_change', 'idle', 'maptypeid_changed', 'mousemove', 'mouseout', 'mouseover', 'projection_changed', 'resize', 'rightclick', 'tilesloaded', 'tilt_changed', 'zoom_changed'];\n\n  var Map = exports.Map = function (_React$Component) {\n    _inherits(Map, _React$Component);\n\n    function Map(props) {\n      _classCallCheck(this, Map);\n\n      var _this = _possibleConstructorReturn(this, (Map.__proto__ || Object.getPrototypeOf(Map)).call(this, props));\n\n      if (!props.hasOwnProperty('google')) {\n        throw new Error('You must include a `google` prop');\n      }\n\n      _this.listeners = {};\n      _this.state = {\n        currentLocation: {\n          lat: _this.props.initialCenter.lat,\n          lng: _this.props.initialCenter.lng\n        }\n      };\n      return _this;\n    }\n\n    _createClass(Map, [{\n      key: 'componentDidMount',\n      value: function componentDidMount() {\n        var _this2 = this;\n\n        if (this.props.centerAroundCurrentLocation) {\n          if (navigator && navigator.geolocation) {\n            this.geoPromise = (0, _cancelablePromise.makeCancelable)(new Promise(function (resolve, reject) {\n              navigator.geolocation.getCurrentPosition(resolve, reject);\n            }));\n            this.geoPromise.promise.then(function (pos) {\n              var coords = pos.coords;\n\n              _this2.setState({\n                currentLocation: {\n                  lat: coords.latitude,\n                  lng: coords.longitude\n                }\n              });\n            }).catch(function (e) {\n              return e;\n            });\n          }\n        }\n\n        this.loadMap();\n      }\n    }, {\n      key: 'componentDidUpdate',\n      value: function componentDidUpdate(prevProps, prevState) {\n        if (prevProps.google !== this.props.google) {\n          this.loadMap();\n        }\n\n        if (this.props.visible !== prevProps.visible) {\n          this.restyleMap();\n        }\n\n        if (this.props.zoom !== prevProps.zoom) {\n          this.map.setZoom(this.props.zoom);\n        }\n\n        if (this.props.center !== prevProps.center) {\n          this.setState({\n            currentLocation: this.props.center\n          });\n        }\n\n        if (prevState.currentLocation !== this.state.currentLocation) {\n          this.recenterMap();\n        }\n\n        if (this.props.bounds !== prevProps.bounds) {\n          this.map.fitBounds(this.props.bounds);\n        }\n      }\n    }, {\n      key: 'componentWillUnmount',\n      value: function componentWillUnmount() {\n        var _this3 = this;\n\n        var google = this.props.google;\n\n        if (this.geoPromise) {\n          this.geoPromise.cancel();\n        }\n\n        Object.keys(this.listeners).forEach(function (e) {\n          google.maps.event.removeListener(_this3.listeners[e]);\n        });\n      }\n    }, {\n      key: 'loadMap',\n      value: function loadMap() {\n        var _this4 = this;\n\n        if (this.props && this.props.google) {\n          var google = this.props.google;\n          var maps = google.maps;\n          var mapRef = this.refs.map;\n\n          var node = _reactDom2.default.findDOMNode(mapRef);\n\n          var curr = this.state.currentLocation;\n          var center = new maps.LatLng(curr.lat, curr.lng);\n          var mapTypeIds = this.props.google.maps.MapTypeId || {};\n          var mapTypeFromProps = String(this.props.mapType).toUpperCase();\n          var mapConfig = Object.assign({}, {\n            mapTypeId: mapTypeIds[mapTypeFromProps],\n            center: center,\n            zoom: this.props.zoom,\n            maxZoom: this.props.maxZoom,\n            minZoom: this.props.minZoom,\n            clickableIcons: !!this.props.clickableIcons,\n            disableDefaultUI: this.props.disableDefaultUI,\n            zoomControl: this.props.zoomControl,\n            mapTypeControl: this.props.mapTypeControl,\n            scaleControl: this.props.scaleControl,\n            streetViewControl: this.props.streetViewControl,\n            panControl: this.props.panControl,\n            rotateControl: this.props.rotateControl,\n            fullscreenControl: this.props.fullscreenControl,\n            scrollwheel: this.props.scrollwheel,\n            draggable: this.props.draggable,\n            keyboardShortcuts: this.props.keyboardShortcuts,\n            disableDoubleClickZoom: this.props.disableDoubleClickZoom,\n            noClear: this.props.noClear,\n            styles: this.props.styles,\n            gestureHandling: this.props.gestureHandling\n          });\n          Object.keys(mapConfig).forEach(function (key) {\n            // Allow to configure mapConfig with 'false'\n            if (mapConfig[key] === null) {\n              delete mapConfig[key];\n            }\n          });\n          this.map = new maps.Map(node, mapConfig);\n          evtNames.forEach(function (e) {\n            _this4.listeners[e] = _this4.map.addListener(e, _this4.handleEvent(e));\n          });\n          maps.event.trigger(this.map, 'ready');\n          this.forceUpdate();\n        }\n      }\n    }, {\n      key: 'handleEvent',\n      value: function handleEvent(evtName) {\n        var _this5 = this;\n\n        var timeout = void 0;\n        var handlerName = 'on' + (0, _String.camelize)(evtName);\n        return function (e) {\n          if (timeout) {\n            clearTimeout(timeout);\n            timeout = null;\n          }\n\n          timeout = setTimeout(function () {\n            if (_this5.props[handlerName]) {\n              _this5.props[handlerName](_this5.props, _this5.map, e);\n            }\n          }, 0);\n        };\n      }\n    }, {\n      key: 'recenterMap',\n      value: function recenterMap() {\n        var map = this.map;\n        var google = this.props.google;\n        if (!google) return;\n        var maps = google.maps;\n\n        if (map) {\n          var center = this.state.currentLocation;\n\n          if (!(center instanceof google.maps.LatLng)) {\n            center = new google.maps.LatLng(center.lat, center.lng);\n          } // map.panTo(center)\n\n\n          map.setCenter(center);\n          maps.event.trigger(map, 'recenter');\n        }\n      }\n    }, {\n      key: 'restyleMap',\n      value: function restyleMap() {\n        if (this.map) {\n          var google = this.props.google;\n          google.maps.event.trigger(this.map, 'resize');\n        }\n      }\n    }, {\n      key: 'renderChildren',\n      value: function renderChildren() {\n        var _this6 = this;\n\n        var children = this.props.children;\n        if (!children) return;\n        return _react2.default.Children.map(children, function (c) {\n          if (!c) return;\n          return _react2.default.cloneElement(c, {\n            map: _this6.map,\n            google: _this6.props.google,\n            mapCenter: _this6.state.currentLocation\n          });\n        });\n      }\n    }, {\n      key: 'render',\n      value: function render() {\n        var style = Object.assign({}, mapStyles.map, this.props.style, {\n          display: this.props.visible ? 'inherit' : 'none'\n        });\n        var containerStyles = Object.assign({}, mapStyles.container, this.props.containerStyle);\n        return _react2.default.createElement('div', {\n          style: containerStyles,\n          className: this.props.className\n        }, _react2.default.createElement('div', {\n          style: style,\n          ref: 'map'\n        }, 'Loading map...'), this.renderChildren());\n      }\n    }]);\n\n    return Map;\n  }(_react2.default.Component);\n\n  Map.propTypes = {\n    google: _propTypes2.default.object,\n    zoom: _propTypes2.default.number,\n    centerAroundCurrentLocation: _propTypes2.default.bool,\n    center: _propTypes2.default.object,\n    initialCenter: _propTypes2.default.object,\n    className: _propTypes2.default.string,\n    style: _propTypes2.default.object,\n    containerStyle: _propTypes2.default.object,\n    visible: _propTypes2.default.bool,\n    mapType: _propTypes2.default.string,\n    maxZoom: _propTypes2.default.number,\n    minZoom: _propTypes2.default.number,\n    clickableIcons: _propTypes2.default.bool,\n    disableDefaultUI: _propTypes2.default.bool,\n    zoomControl: _propTypes2.default.bool,\n    mapTypeControl: _propTypes2.default.bool,\n    scaleControl: _propTypes2.default.bool,\n    streetViewControl: _propTypes2.default.bool,\n    panControl: _propTypes2.default.bool,\n    rotateControl: _propTypes2.default.bool,\n    fullscreenControl: _propTypes2.default.bool,\n    scrollwheel: _propTypes2.default.bool,\n    draggable: _propTypes2.default.bool,\n    keyboardShortcuts: _propTypes2.default.bool,\n    disableDoubleClickZoom: _propTypes2.default.bool,\n    noClear: _propTypes2.default.bool,\n    styles: _propTypes2.default.array,\n    gestureHandling: _propTypes2.default.string,\n    bounds: _propTypes2.default.object\n  };\n  evtNames.forEach(function (e) {\n    return Map.propTypes[(0, _String.camelize)(e)] = _propTypes2.default.func;\n  });\n  Map.defaultProps = {\n    zoom: 14,\n    initialCenter: {\n      lat: 37.774929,\n      lng: -122.419416\n    },\n    center: {},\n    centerAroundCurrentLocation: false,\n    style: {},\n    containerStyle: {},\n    visible: true\n  };\n  exports.default = Map;\n});","map":{"version":3,"sources":["C:/Users/orrca/OneDrive/Documents/Term 2/2XB3/PATH/node_modules/google-maps-react/dist/index.js"],"names":["global","factory","define","amd","exports","require","mod","GoogleApiComponent","Marker","InfoWindow","HeatMap","Polygon","Polyline","react","propTypes","reactDom","String","cancelablePromise","index","_GoogleApiComponent","_Marker","_InfoWindow","_HeatMap","_Polygon","_Polyline","_react","_propTypes","_reactDom","_String","_cancelablePromise","Object","defineProperty","value","Map","GoogleApiWrapper","undefined","enumerable","get","wrapper","_react2","_interopRequireDefault","_propTypes2","_reactDom2","obj","__esModule","default","_classCallCheck","instance","Constructor","TypeError","_createClass","defineProperties","target","props","i","length","descriptor","configurable","writable","key","protoProps","staticProps","prototype","_possibleConstructorReturn","self","call","ReferenceError","_inherits","subClass","superClass","create","constructor","setPrototypeOf","__proto__","mapStyles","container","position","width","height","map","left","right","bottom","top","evtNames","_React$Component","_this","getPrototypeOf","hasOwnProperty","Error","listeners","state","currentLocation","lat","initialCenter","lng","componentDidMount","_this2","centerAroundCurrentLocation","navigator","geolocation","geoPromise","makeCancelable","Promise","resolve","reject","getCurrentPosition","promise","then","pos","coords","setState","latitude","longitude","catch","e","loadMap","componentDidUpdate","prevProps","prevState","google","visible","restyleMap","zoom","setZoom","center","recenterMap","bounds","fitBounds","componentWillUnmount","_this3","cancel","keys","forEach","maps","event","removeListener","_this4","mapRef","refs","node","findDOMNode","curr","LatLng","mapTypeIds","MapTypeId","mapTypeFromProps","mapType","toUpperCase","mapConfig","assign","mapTypeId","maxZoom","minZoom","clickableIcons","disableDefaultUI","zoomControl","mapTypeControl","scaleControl","streetViewControl","panControl","rotateControl","fullscreenControl","scrollwheel","draggable","keyboardShortcuts","disableDoubleClickZoom","noClear","styles","gestureHandling","addListener","handleEvent","trigger","forceUpdate","evtName","_this5","timeout","handlerName","camelize","clearTimeout","setTimeout","setCenter","renderChildren","_this6","children","Children","c","cloneElement","mapCenter","render","style","display","containerStyles","containerStyle","createElement","className","ref","Component","object","number","bool","string","array","func","defaultProps"],"mappings":"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","sourcesContent":["(function (global, factory) {\n  if (typeof define === \"function\" && define.amd) {\n    define(['exports', './GoogleApiComponent', './components/Marker', './components/InfoWindow', './components/HeatMap', './components/Polygon', './components/Polyline', 'react', 'prop-types', 'react-dom', './lib/String', './lib/cancelablePromise'], factory);\n  } else if (typeof exports !== \"undefined\") {\n    factory(exports, require('./GoogleApiComponent'), require('./components/Marker'), require('./components/InfoWindow'), require('./components/HeatMap'), require('./components/Polygon'), require('./components/Polyline'), require('react'), require('prop-types'), require('react-dom'), require('./lib/String'), require('./lib/cancelablePromise'));\n  } else {\n    var mod = {\n      exports: {}\n    };\n    factory(mod.exports, global.GoogleApiComponent, global.Marker, global.InfoWindow, global.HeatMap, global.Polygon, global.Polyline, global.react, global.propTypes, global.reactDom, global.String, global.cancelablePromise);\n    global.index = mod.exports;\n  }\n})(this, function (exports, _GoogleApiComponent, _Marker, _InfoWindow, _HeatMap, _Polygon, _Polyline, _react, _propTypes, _reactDom, _String, _cancelablePromise) {\n  'use strict';\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.Map = exports.Polyline = exports.Polygon = exports.HeatMap = exports.InfoWindow = exports.Marker = exports.GoogleApiWrapper = undefined;\n  Object.defineProperty(exports, 'GoogleApiWrapper', {\n    enumerable: true,\n    get: function () {\n      return _GoogleApiComponent.wrapper;\n    }\n  });\n  Object.defineProperty(exports, 'Marker', {\n    enumerable: true,\n    get: function () {\n      return _Marker.Marker;\n    }\n  });\n  Object.defineProperty(exports, 'InfoWindow', {\n    enumerable: true,\n    get: function () {\n      return _InfoWindow.InfoWindow;\n    }\n  });\n  Object.defineProperty(exports, 'HeatMap', {\n    enumerable: true,\n    get: function () {\n      return _HeatMap.HeatMap;\n    }\n  });\n  Object.defineProperty(exports, 'Polygon', {\n    enumerable: true,\n    get: function () {\n      return _Polygon.Polygon;\n    }\n  });\n  Object.defineProperty(exports, 'Polyline', {\n    enumerable: true,\n    get: function () {\n      return _Polyline.Polyline;\n    }\n  });\n\n  var _react2 = _interopRequireDefault(_react);\n\n  var _propTypes2 = _interopRequireDefault(_propTypes);\n\n  var _reactDom2 = _interopRequireDefault(_reactDom);\n\n  function _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : {\n      default: obj\n    };\n  }\n\n  function _classCallCheck(instance, Constructor) {\n    if (!(instance instanceof Constructor)) {\n      throw new TypeError(\"Cannot call a class as a function\");\n    }\n  }\n\n  var _createClass = function () {\n    function defineProperties(target, props) {\n      for (var i = 0; i < props.length; i++) {\n        var descriptor = props[i];\n        descriptor.enumerable = descriptor.enumerable || false;\n        descriptor.configurable = true;\n        if (\"value\" in descriptor) descriptor.writable = true;\n        Object.defineProperty(target, descriptor.key, descriptor);\n      }\n    }\n\n    return function (Constructor, protoProps, staticProps) {\n      if (protoProps) defineProperties(Constructor.prototype, protoProps);\n      if (staticProps) defineProperties(Constructor, staticProps);\n      return Constructor;\n    };\n  }();\n\n  function _possibleConstructorReturn(self, call) {\n    if (!self) {\n      throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n    }\n\n    return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n  }\n\n  function _inherits(subClass, superClass) {\n    if (typeof superClass !== \"function\" && superClass !== null) {\n      throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n    }\n\n    subClass.prototype = Object.create(superClass && superClass.prototype, {\n      constructor: {\n        value: subClass,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n    if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n  }\n\n  var mapStyles = {\n    container: {\n      position: 'absolute',\n      width: '100%',\n      height: '100%'\n    },\n    map: {\n      position: 'absolute',\n      left: 0,\n      right: 0,\n      bottom: 0,\n      top: 0\n    }\n  };\n\n  var evtNames = ['ready', 'click', 'dragend', 'recenter', 'bounds_changed', 'center_changed', 'dblclick', 'dragstart', 'heading_change', 'idle', 'maptypeid_changed', 'mousemove', 'mouseout', 'mouseover', 'projection_changed', 'resize', 'rightclick', 'tilesloaded', 'tilt_changed', 'zoom_changed'];\n\n  var Map = exports.Map = function (_React$Component) {\n    _inherits(Map, _React$Component);\n\n    function Map(props) {\n      _classCallCheck(this, Map);\n\n      var _this = _possibleConstructorReturn(this, (Map.__proto__ || Object.getPrototypeOf(Map)).call(this, props));\n\n      if (!props.hasOwnProperty('google')) {\n        throw new Error('You must include a `google` prop');\n      }\n\n      _this.listeners = {};\n      _this.state = {\n        currentLocation: {\n          lat: _this.props.initialCenter.lat,\n          lng: _this.props.initialCenter.lng\n        }\n      };\n      return _this;\n    }\n\n    _createClass(Map, [{\n      key: 'componentDidMount',\n      value: function componentDidMount() {\n        var _this2 = this;\n\n        if (this.props.centerAroundCurrentLocation) {\n          if (navigator && navigator.geolocation) {\n            this.geoPromise = (0, _cancelablePromise.makeCancelable)(new Promise(function (resolve, reject) {\n              navigator.geolocation.getCurrentPosition(resolve, reject);\n            }));\n\n            this.geoPromise.promise.then(function (pos) {\n              var coords = pos.coords;\n              _this2.setState({\n                currentLocation: {\n                  lat: coords.latitude,\n                  lng: coords.longitude\n                }\n              });\n            }).catch(function (e) {\n              return e;\n            });\n          }\n        }\n        this.loadMap();\n      }\n    }, {\n      key: 'componentDidUpdate',\n      value: function componentDidUpdate(prevProps, prevState) {\n        if (prevProps.google !== this.props.google) {\n          this.loadMap();\n        }\n        if (this.props.visible !== prevProps.visible) {\n          this.restyleMap();\n        }\n        if (this.props.zoom !== prevProps.zoom) {\n          this.map.setZoom(this.props.zoom);\n        }\n        if (this.props.center !== prevProps.center) {\n          this.setState({\n            currentLocation: this.props.center\n          });\n        }\n        if (prevState.currentLocation !== this.state.currentLocation) {\n          this.recenterMap();\n        }\n        if (this.props.bounds !== prevProps.bounds) {\n          this.map.fitBounds(this.props.bounds);\n        }\n      }\n    }, {\n      key: 'componentWillUnmount',\n      value: function componentWillUnmount() {\n        var _this3 = this;\n\n        var google = this.props.google;\n\n        if (this.geoPromise) {\n          this.geoPromise.cancel();\n        }\n        Object.keys(this.listeners).forEach(function (e) {\n          google.maps.event.removeListener(_this3.listeners[e]);\n        });\n      }\n    }, {\n      key: 'loadMap',\n      value: function loadMap() {\n        var _this4 = this;\n\n        if (this.props && this.props.google) {\n          var google = this.props.google;\n\n          var maps = google.maps;\n\n          var mapRef = this.refs.map;\n          var node = _reactDom2.default.findDOMNode(mapRef);\n          var curr = this.state.currentLocation;\n          var center = new maps.LatLng(curr.lat, curr.lng);\n\n          var mapTypeIds = this.props.google.maps.MapTypeId || {};\n          var mapTypeFromProps = String(this.props.mapType).toUpperCase();\n\n          var mapConfig = Object.assign({}, {\n            mapTypeId: mapTypeIds[mapTypeFromProps],\n            center: center,\n            zoom: this.props.zoom,\n            maxZoom: this.props.maxZoom,\n            minZoom: this.props.minZoom,\n            clickableIcons: !!this.props.clickableIcons,\n            disableDefaultUI: this.props.disableDefaultUI,\n            zoomControl: this.props.zoomControl,\n            mapTypeControl: this.props.mapTypeControl,\n            scaleControl: this.props.scaleControl,\n            streetViewControl: this.props.streetViewControl,\n            panControl: this.props.panControl,\n            rotateControl: this.props.rotateControl,\n            fullscreenControl: this.props.fullscreenControl,\n            scrollwheel: this.props.scrollwheel,\n            draggable: this.props.draggable,\n            keyboardShortcuts: this.props.keyboardShortcuts,\n            disableDoubleClickZoom: this.props.disableDoubleClickZoom,\n            noClear: this.props.noClear,\n            styles: this.props.styles,\n            gestureHandling: this.props.gestureHandling\n          });\n\n          Object.keys(mapConfig).forEach(function (key) {\n            // Allow to configure mapConfig with 'false'\n            if (mapConfig[key] === null) {\n              delete mapConfig[key];\n            }\n          });\n\n          this.map = new maps.Map(node, mapConfig);\n\n          evtNames.forEach(function (e) {\n            _this4.listeners[e] = _this4.map.addListener(e, _this4.handleEvent(e));\n          });\n          maps.event.trigger(this.map, 'ready');\n          this.forceUpdate();\n        }\n      }\n    }, {\n      key: 'handleEvent',\n      value: function handleEvent(evtName) {\n        var _this5 = this;\n\n        var timeout = void 0;\n        var handlerName = 'on' + (0, _String.camelize)(evtName);\n\n        return function (e) {\n          if (timeout) {\n            clearTimeout(timeout);\n            timeout = null;\n          }\n          timeout = setTimeout(function () {\n            if (_this5.props[handlerName]) {\n              _this5.props[handlerName](_this5.props, _this5.map, e);\n            }\n          }, 0);\n        };\n      }\n    }, {\n      key: 'recenterMap',\n      value: function recenterMap() {\n        var map = this.map;\n\n        var google = this.props.google;\n\n\n        if (!google) return;\n        var maps = google.maps;\n\n        if (map) {\n          var center = this.state.currentLocation;\n          if (!(center instanceof google.maps.LatLng)) {\n            center = new google.maps.LatLng(center.lat, center.lng);\n          }\n          // map.panTo(center)\n          map.setCenter(center);\n          maps.event.trigger(map, 'recenter');\n        }\n      }\n    }, {\n      key: 'restyleMap',\n      value: function restyleMap() {\n        if (this.map) {\n          var google = this.props.google;\n\n          google.maps.event.trigger(this.map, 'resize');\n        }\n      }\n    }, {\n      key: 'renderChildren',\n      value: function renderChildren() {\n        var _this6 = this;\n\n        var children = this.props.children;\n\n\n        if (!children) return;\n\n        return _react2.default.Children.map(children, function (c) {\n          if (!c) return;\n          return _react2.default.cloneElement(c, {\n            map: _this6.map,\n            google: _this6.props.google,\n            mapCenter: _this6.state.currentLocation\n          });\n        });\n      }\n    }, {\n      key: 'render',\n      value: function render() {\n        var style = Object.assign({}, mapStyles.map, this.props.style, {\n          display: this.props.visible ? 'inherit' : 'none'\n        });\n\n        var containerStyles = Object.assign({}, mapStyles.container, this.props.containerStyle);\n\n        return _react2.default.createElement(\n          'div',\n          { style: containerStyles, className: this.props.className },\n          _react2.default.createElement(\n            'div',\n            { style: style, ref: 'map' },\n            'Loading map...'\n          ),\n          this.renderChildren()\n        );\n      }\n    }]);\n\n    return Map;\n  }(_react2.default.Component);\n\n  Map.propTypes = {\n    google: _propTypes2.default.object,\n    zoom: _propTypes2.default.number,\n    centerAroundCurrentLocation: _propTypes2.default.bool,\n    center: _propTypes2.default.object,\n    initialCenter: _propTypes2.default.object,\n    className: _propTypes2.default.string,\n    style: _propTypes2.default.object,\n    containerStyle: _propTypes2.default.object,\n    visible: _propTypes2.default.bool,\n    mapType: _propTypes2.default.string,\n    maxZoom: _propTypes2.default.number,\n    minZoom: _propTypes2.default.number,\n    clickableIcons: _propTypes2.default.bool,\n    disableDefaultUI: _propTypes2.default.bool,\n    zoomControl: _propTypes2.default.bool,\n    mapTypeControl: _propTypes2.default.bool,\n    scaleControl: _propTypes2.default.bool,\n    streetViewControl: _propTypes2.default.bool,\n    panControl: _propTypes2.default.bool,\n    rotateControl: _propTypes2.default.bool,\n    fullscreenControl: _propTypes2.default.bool,\n    scrollwheel: _propTypes2.default.bool,\n    draggable: _propTypes2.default.bool,\n    keyboardShortcuts: _propTypes2.default.bool,\n    disableDoubleClickZoom: _propTypes2.default.bool,\n    noClear: _propTypes2.default.bool,\n    styles: _propTypes2.default.array,\n    gestureHandling: _propTypes2.default.string,\n    bounds: _propTypes2.default.object\n  };\n\n  evtNames.forEach(function (e) {\n    return Map.propTypes[(0, _String.camelize)(e)] = _propTypes2.default.func;\n  });\n\n  Map.defaultProps = {\n    zoom: 14,\n    initialCenter: {\n      lat: 37.774929,\n      lng: -122.419416\n    },\n    center: {},\n    centerAroundCurrentLocation: false,\n    style: {},\n    containerStyle: {},\n    visible: true\n  };\n\n  exports.default = Map;\n});"]},"metadata":{},"sourceType":"script"}