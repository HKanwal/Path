{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\orrca\\\\OneDrive\\\\Documents\\\\Term 2\\\\2XB3\\\\PATH\\\\src\\\\components\\\\pages\\\\Main.js\";\nimport React, { useState, useContext, useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport { Map, GoogleApiWrapper, Marker } from 'google-maps-react';\nimport { geolocated } from 'react-geolocated';\nimport MapContext from '../../context/maps/mapContext';\nimport AuthContext from '../../context/auth/authContext';\nimport { Chart } from 'react-charts';\n\nconst Main = ({\n  hazardRating,\n  path,\n  google,\n  coords\n}) => {\n  const mapContext = useContext(MapContext);\n  const {\n    getHazard,\n    getData\n  } = mapContext;\n  let data = [{\n    data: [[0, 1], [1, 2], [2, 4], [3, 2], [4, 7]]\n  }];\n  useEffect(() => {\n    data = getData();\n  });\n  const series = React.useMemo(() => ({\n    type: 'bubble',\n    showPoints: false\n  }), []);\n  const axes = React.useMemo(() => [{\n    primary: true,\n    type: 'linear',\n    position: 'bottom'\n  }, {\n    type: 'linear',\n    position: 'left'\n  }], []);\n  const {\n    latitude,\n    longitude\n  } = coords;\n  const [pos, setCoordinates] = useState({\n    lat: null,\n    long: null\n  });\n  const {\n    lat,\n    long\n  } = pos;\n  const mapStyles = {\n    width: '100%',\n    height: '100%'\n  };\n\n  const onChange = e => setCoordinates({ ...pos,\n    [e.target.name]: e.target.value\n  });\n\n  const [marker, setMarker] = useState({\n    curr: {\n      lat: latitude,\n      long: longitude\n    },\n    dest: {\n      lat: latitude,\n      long: longitude\n    }\n  });\n  const {\n    curr,\n    dest\n  } = marker;\n  const [car, setCar] = useState({\n    carModel: ''\n  });\n  const {\n    carModel\n  } = car;\n\n  const onChangeCar = e => setCar({ ...car,\n    [e.target.name]: e.target.value\n  });\n\n  const onSubmit = e => {\n    setMarker({ ...marker,\n      [e.target.name]: {\n        lat: lat,\n        long: long\n      }\n    });\n    getHazard(curr, dest, carModel);\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"grid-ver\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"grid-hor-f\",\n    style: {\n      paddingBottom: '2rem'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"grid-ver-t\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      verticalAlign: 'top'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    className: \"text-primary\",\n    style: {\n      fontSize: '3rem',\n      fontWeight: 'bolder'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 25\n    }\n  }, \"Car Model\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"email\",\n    name: \"carModel\",\n    value: carModel,\n    placeholder: \"e.g., Volkswagen Beetle\",\n    onChange: onChangeCar,\n    required: true,\n    style: {\n      marginLeft: 'auto',\n      textAlign: 'right',\n      width: '80%'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 25\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 21\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"grid-hor-f-c\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"card-small\",\n    style: {\n      textAlign: 'right',\n      paddingRight: '1rem'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"name\",\n    className: \"login-label\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 25\n    }\n  }, \"Latitude\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    name: \"lat\",\n    value: lat,\n    placeholder: \"e.g., 47.444\",\n    onChange: onChange,\n    required: true,\n    style: {\n      marginLeft: 'auto',\n      textAlign: 'right',\n      width: '70%'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 25\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"email\",\n    className: \"login-label\",\n    style: {\n      textAlign: 'right'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 25\n    }\n  }, \"Longitude\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"email\",\n    name: \"long\",\n    value: long,\n    placeholder: \"e.g., -122.176\",\n    onChange: onChange,\n    required: true,\n    style: {\n      marginLeft: 'auto',\n      textAlign: 'right',\n      width: '70%'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 25\n    }\n  }), /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: onSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"a\", {\n    href: \"#\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"submit\",\n    value: \"Set Destination\",\n    className: \"btn btn-primary btn-block\",\n    style: {\n      marginLeft: 'auto',\n      width: '8vw'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 33\n    }\n  })))), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      position: 'relative',\n      width: '32rem',\n      height: '25rem'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Map, {\n    google: google,\n    zoom: 8,\n    style: mapStyles,\n    initialCenter: {\n      lat: latitude,\n      lng: longitude\n    },\n    id: \"map\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 25\n    }\n  }), /*#__PURE__*/React.createElement(Marker, {\n    position: curr,\n    name: 'curr',\n    map: document.getElementById('map'),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 25\n    }\n  }), /*#__PURE__*/React.createElement(Marker, {\n    position: dest,\n    name: 'dest',\n    map: document.getElementById('map'),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 25\n    }\n  })))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"grid-hor\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 168,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      left: '-20rem'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 169,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    className: \"text-primary\",\n    style: {\n      fontSize: '3rem',\n      fontWeight: 'bolder'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 170,\n      columnNumber: 21\n    }\n  }, \"Hazard Rating\"), /*#__PURE__*/React.createElement(\"body\", {\n    style: {\n      fontSize: '2rem'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 171,\n      columnNumber: 21\n    }\n  }, hazardRating)), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 173,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    className: \"text-primary\",\n    style: {\n      fontSize: '3rem',\n      fontWeight: 'bolder'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 21\n    }\n  }, \"Graphical Representation\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"grid-hor\",\n    style: {\n      width: '32rem',\n      height: '25rem'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 175,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 180,\n      columnNumber: 25\n    }\n  }, \"Percent Chance of Crash\"), /*#__PURE__*/React.createElement(Chart, {\n    data: data,\n    series: series,\n    axes: axes,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 181,\n      columnNumber: 25\n    }\n  })), /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 183,\n      columnNumber: 21\n    }\n  }, \"Weather Value\"))));\n};\n\nMain.propTypes = {\n  hazardRating: PropTypes.number,\n  path: PropTypes.string\n};\nMain.defaultProps = {\n  hazardRating: 0,\n  path: ''\n};\nexport default geolocated({\n  positionOptions: {\n    enableHighAccuracy: true\n  },\n  userDecisionTimeout: 5000\n})(GoogleApiWrapper({\n  apiKey: 'AIzaSyCdN-PaaKG8Bh5xOhQLpWmAuGNX_0e3b2g'\n})(Main));","map":{"version":3,"sources":["C:/Users/orrca/OneDrive/Documents/Term 2/2XB3/PATH/src/components/pages/Main.js"],"names":["React","useState","useContext","useEffect","PropTypes","Map","GoogleApiWrapper","Marker","geolocated","MapContext","AuthContext","Chart","Main","hazardRating","path","google","coords","mapContext","getHazard","getData","data","series","useMemo","type","showPoints","axes","primary","position","latitude","longitude","pos","setCoordinates","lat","long","mapStyles","width","height","onChange","e","target","name","value","marker","setMarker","curr","dest","car","setCar","carModel","onChangeCar","onSubmit","paddingBottom","verticalAlign","fontSize","fontWeight","marginLeft","textAlign","paddingRight","lng","document","getElementById","left","propTypes","number","string","defaultProps","positionOptions","enableHighAccuracy","userDecisionTimeout","apiKey"],"mappings":"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","sourcesContent":["import React, { useState, useContext, useEffect } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Map, GoogleApiWrapper, Marker } from 'google-maps-react';\r\nimport { geolocated } from 'react-geolocated';\r\nimport MapContext from '../../context/maps/mapContext';\r\nimport AuthContext from '../../context/auth/authContext';\r\nimport { Chart } from 'react-charts';\r\n\r\n\r\nconst Main = ({ hazardRating, path, google, coords }) => {\r\n\r\n    const mapContext = useContext(MapContext);\r\n\r\n    const { getHazard, getData } = mapContext;\r\n\r\n    let data = [{\r\n        data: [[0,1], [1,2], [2,4], [3,2], [4,7]]\r\n    }];\r\n\r\n    useEffect(() => {\r\n        data = getData();\r\n    });\r\n\r\n    const series = React.useMemo(\r\n        () => ({\r\n            type: 'bubble',\r\n            showPoints: false\r\n        }),\r\n        []\r\n    )\r\n\r\n    const axes = React.useMemo(\r\n        () => [\r\n            { primary: true, type: 'linear', position: 'bottom' },\r\n            { type: 'linear', position: 'left' }\r\n        ],\r\n        []\r\n    )\r\n\r\n    const { latitude, longitude } = coords;\r\n\r\n    const [pos, setCoordinates] = useState ({\r\n        lat: null,\r\n        long: null\r\n    })\r\n\r\n    const { lat, long } = pos;\r\n\r\n    const mapStyles = {\r\n        width: '100%',\r\n        height: '100%'\r\n    };\r\n\r\n    const onChange = e => \r\n        setCoordinates({ ...pos, [e.target.name]: e.target.value });\r\n\r\n\r\n    const [marker, setMarker] = useState ({\r\n        curr: {\r\n            lat: latitude,\r\n            long: longitude\r\n        },\r\n        dest: {\r\n            lat: latitude,\r\n            long: longitude\r\n        }\r\n    });\r\n\r\n    const { curr, dest } = marker;\r\n\r\n    const [car, setCar] = useState ({\r\n        carModel: ''\r\n    })\r\n\r\n    const { carModel } = car;\r\n\r\n    const onChangeCar = e => \r\n        setCar({ ...car, [e.target.name]: e.target.value });\r\n\r\n    const onSubmit = e => {\r\n        setMarker({ ...marker, [e.target.name]: {lat: lat, long: long} });\r\n        getHazard(curr, dest, carModel);\r\n    }\r\n\r\n    return(\r\n        <div className='grid-ver'>\r\n            <div className='grid-hor-f' style={{ paddingBottom : '2rem' }}>\r\n                <div className='grid-ver-t'>\r\n                    <div style={{ verticalAlign: 'top' }}>\r\n                        <h1 className='text-primary' style={{ fontSize: '3rem', fontWeight: 'bolder' }}>Car Model</h1>\r\n                        <input\r\n                            type='email'\r\n                            name='carModel'\r\n                            value={carModel}\r\n                            placeholder='e.g., Volkswagen Beetle'\r\n                            onChange={onChangeCar}\r\n                            required\r\n                            style={{ marginLeft: 'auto', textAlign: 'right', width: '80%' }}\r\n                        />\r\n                    </div>\r\n                    <div />\r\n                </div>\r\n                <div className='grid-hor-f-c'>\r\n                    <div className='card-small' style={{ textAlign: 'right', paddingRight: '1rem' }}>\r\n                        <label\r\n                            htmlFor='name'\r\n                            className='login-label'\r\n                        >\r\n                            Latitude\r\n                        </label>\r\n                        <input\r\n                            type='text'\r\n                            name='lat'\r\n                            value={lat}\r\n                            placeholder='e.g., 47.444'\r\n                            onChange={onChange}\r\n                            required\r\n                            style={{ marginLeft: 'auto', textAlign: 'right', width: '70%' }}\r\n                        />\r\n                        <label\r\n                            htmlFor='email'\r\n                            className='login-label'\r\n                            style={{ textAlign: 'right' }}\r\n                        >\r\n                            Longitude\r\n                        </label>\r\n                        <input\r\n                            type='email'\r\n                            name='long'\r\n                            value={long}\r\n                            placeholder='e.g., -122.176'\r\n                            onChange={onChange}\r\n                            required\r\n                            style={{ marginLeft: 'auto', textAlign: 'right', width: '70%' }}\r\n                        />\r\n                        <form onSubmit={onSubmit}>\r\n                            <a href='#'>\r\n                                <input\r\n                                type='submit'\r\n                                value='Set Destination'\r\n                                className='btn btn-primary btn-block'\r\n                                style={{ marginLeft: 'auto', width: '8vw' }}\r\n                                />\r\n                            </a>\r\n                        </form>\r\n                    </div>\r\n                    <div style={{ position: 'relative', width: '32rem', height: '25rem' }}>\r\n                        <Map\r\n                            google={google}\r\n                            zoom={8}\r\n                            style={mapStyles}\r\n                            initialCenter={{ lat: latitude, lng: longitude }}\r\n                            id='map'\r\n                        />\r\n                        <Marker\r\n                            position={curr}\r\n                            name={'curr'}\r\n                            map={document.getElementById('map')}\r\n                        />\r\n                        <Marker \r\n                            position={dest}\r\n                            name={'dest'}\r\n                            map={document.getElementById('map')}\r\n                        />\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div className='grid-hor'>\r\n                <div style={{ left: '-20rem' }}>\r\n                    <h1 className='text-primary' style={{ fontSize: '3rem', fontWeight: 'bolder' }}>Hazard Rating</h1>\r\n                    <body style={{ fontSize: '2rem' }}>{hazardRating}</body>\r\n                </div>\r\n                <div>\r\n                    <h1 className='text-primary' style={{ fontSize: '3rem', fontWeight: 'bolder' }}>Graphical Representation</h1>\r\n                    <div className='grid-hor' style={{\r\n                        width: '32rem',\r\n                        height: '25rem'\r\n                    }}\r\n                    >\r\n                        <h2>Percent Chance of Crash</h2>\r\n                        <Chart data={data} series={series} axes={axes} />\r\n                    </div>\r\n                    <h2>Weather Value</h2>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nMain.propTypes = {\r\n    hazardRating: PropTypes.number,\r\n    path: PropTypes.string\r\n};\r\n\r\nMain.defaultProps = {\r\n    hazardRating: 0,\r\n    path: ''\r\n};\r\n\r\n\r\nexport default geolocated({\r\n    positionOptions: {\r\n        enableHighAccuracy: true\r\n    },\r\n    userDecisionTimeout: 5000\r\n})(GoogleApiWrapper({\r\n    apiKey: 'AIzaSyCdN-PaaKG8Bh5xOhQLpWmAuGNX_0e3b2g'\r\n})(Main));"]},"metadata":{},"sourceType":"module"}