{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nfunction _interopDefault(ex) {\n  return ex && typeof ex === 'object' && 'default' in ex ? ex['default'] : ex;\n}\n\nvar React = _interopDefault(require('react'));\n\nvar PropTypes = _interopDefault(require('prop-types'));\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(source, true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(source).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nfunction _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n\n  var target = _objectWithoutPropertiesLoose(source, excluded);\n\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (typeof call === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return _assertThisInitialized(self);\n}\n\nfunction _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest();\n}\n\nfunction _toConsumableArray(arr) {\n  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread();\n}\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) arr2[i] = arr[i];\n\n    return arr2;\n  }\n}\n\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nfunction _iterableToArray(iter) {\n  if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter);\n}\n\nfunction _iterableToArrayLimit(arr, i) {\n  if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === \"[object Arguments]\")) {\n    return;\n  }\n\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance\");\n}\n\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n}\n\nvar ChartContext = React.createContext();\nvar Utils = {\n  getStatus: getStatus,\n  getStatusStyle: getStatusStyle,\n  buildStyleGetters: buildStyleGetters,\n  getMultiAnchor: getMultiAnchor,\n  getClosestPoint: getClosestPoint,\n  normalizeGetter: normalizeGetter,\n  isValidPoint: isValidPoint,\n  getAxisByAxisID: getAxisByAxisID,\n  getAxisIndexByAxisID: getAxisIndexByAxisID,\n  sumObjBy: sumObjBy,\n  translateX: translateX,\n  translateY: translateY,\n  translate: translate,\n  identity: identity,\n  shallowDiff: shallowDiff\n};\n\nfunction getStatus(item, focused) {\n  var status = {\n    focused: false,\n    otherFocused: false\n  };\n\n  if (!focused) {\n    return status;\n  } // If the item is a datum\n\n\n  if (typeof item.primary !== \"undefined\") {\n    var length = focused.group.length;\n\n    for (var i = 0; i < length; i++) {\n      if (focused.group[i].seriesID === item.series.id && focused.group[i].index === item.index) {\n        status.focused = true;\n        break;\n      }\n    }\n\n    status.otherFocused = !status.focused; // For series\n  } else if (focused.series) {\n    status.focused = focused.series.id === item.id;\n    status.otherFocused = !status.focused;\n  }\n\n  return status;\n}\n\nfunction getStatusStyle(item, status, decorator, defaults) {\n  if (item.series) {\n    defaults = _objectSpread2({}, defaults, {}, item.series.style);\n  }\n\n  return materializeStyles(decorator(_objectSpread2({}, item, {}, status)), defaults);\n}\n\nfunction buildStyleGetters(series, defaults) {\n  series.getStatusStyle = function (focused, decorator) {\n    var status = getStatus(series, focused);\n    series.style = getStatusStyle(series, status, decorator, defaults);\n    return series.style;\n  }; // We also need to decorate each datum in the same fashion\n\n\n  series.datums.forEach(function (datum) {\n    datum.getStatusStyle = function (focused, decorator) {\n      var status = getStatus(datum, focused);\n      datum.style = getStatusStyle(datum, status, decorator, defaults);\n      return datum.style;\n    };\n  });\n}\n\nfunction getMultiAnchor(_ref) {\n  var anchor = _ref.anchor,\n      points = _ref.points,\n      gridWidth = _ref.gridWidth,\n      gridHeight = _ref.gridHeight;\n\n  var invalid = function invalid() {\n    throw new Error(\"\".concat(JSON.stringify(anchor), \" is not a valid tooltip anchor option. You should use a single anchor option or 2 non-conflicting anchor options.\"));\n  };\n\n  var x;\n  var y;\n  var xMin = points[0].anchor.x;\n  var xMax = points[0].anchor.x;\n  var yMin = points[0].anchor.y;\n  var yMax = points[0].anchor.y;\n  points.forEach(function (point) {\n    xMin = Math.min(point.anchor.x, xMin);\n    xMax = Math.max(point.anchor.x, xMax);\n    yMin = Math.min(point.anchor.y, yMin);\n    yMax = Math.max(point.anchor.y, yMax);\n  });\n\n  if (anchor.length > 2) {\n    return invalid();\n  }\n\n  anchor = anchor.sort(function (a) {\n    return a.includes(\"center\") || a.includes(\"Center\") ? 1 : -1;\n  });\n\n  for (var i = 0; i < anchor.length; i++) {\n    var anchorPart = anchor[i]; // Horizontal Positioning\n\n    if ([\"left\", \"right\", \"gridLeft\", \"gridRight\"].includes(anchorPart)) {\n      if (typeof x !== \"undefined\") {\n        invalid();\n      }\n\n      if (anchorPart === \"left\") {\n        x = xMin;\n      } else if (anchorPart === \"right\") {\n        x = xMax;\n      } else if (anchorPart === \"gridLeft\") {\n        x = 0;\n      } else if (anchorPart === \"gridRight\") {\n        x = gridWidth;\n      } else {\n        invalid();\n      }\n    } // Vertical Positioning\n\n\n    if ([\"top\", \"bottom\", \"gridTop\", \"gridBottom\"].includes(anchorPart)) {\n      if (typeof y !== \"undefined\") {\n        invalid();\n      }\n\n      if (anchorPart === \"top\") {\n        y = yMin;\n      } else if (anchorPart === \"bottom\") {\n        y = yMax;\n      } else if (anchorPart === \"gridTop\") {\n        y = 0;\n      } else if (anchorPart === \"gridBottom\") {\n        y = gridHeight;\n      } else {\n        invalid();\n      }\n    } // Center Positioning\n\n\n    if ([\"center\", \"gridCenter\"].includes(anchorPart)) {\n      if (anchorPart === \"center\") {\n        if (typeof y === \"undefined\") {\n          y = (yMin + yMax) / 2;\n        }\n\n        if (typeof x === \"undefined\") {\n          x = (xMin + xMax) / 2;\n        }\n      } else if (anchorPart === \"gridCenter\") {\n        if (typeof y === \"undefined\") {\n          y = gridHeight / 2;\n        }\n\n        if (typeof x === \"undefined\") {\n          x = gridWidth / 2;\n        }\n      } else {\n        invalid();\n      }\n    } // Auto center the remainder if there is only one anchorPart listed\n\n\n    if (anchor.length === 1) {\n      if (anchor[0].includes(\"grid\")) {\n        anchor.push(\"gridCenter\");\n      } else {\n        anchor.push(\"center\");\n      }\n    }\n  }\n\n  return {\n    x: x,\n    y: y\n  };\n}\n\nfunction getClosestPoint(position, datums) {\n  if (!datums || !position || !datums.length) {\n    return;\n  }\n\n  var closestDistance = Infinity;\n  var closestDatum = datums[0];\n  datums.forEach(function (datum) {\n    datum.boundingPoints.forEach(function (pointerPoint) {\n      var distance = Math.sqrt(Math.pow(pointerPoint.x - position.x, 2) + Math.pow(pointerPoint.y - position.y, 2));\n\n      if (distance < closestDistance) {\n        closestDistance = distance;\n        closestDatum = datum;\n      }\n    });\n  });\n  return closestDatum;\n}\n\nfunction normalizeColor(style, defaults) {\n  return _objectSpread2({}, style, {\n    stroke: style.stroke || style.color || defaults.stroke || defaults.color,\n    fill: style.fill || style.color || defaults.fill || defaults.color\n  });\n}\n\nvar elementTypes = [\"area\", \"line\", \"rectangle\", \"circle\"];\n\nfunction materializeStyles() {\n  var style = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var defaults = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  style = normalizeColor(style, defaults);\n\n  for (var i = 0; i < elementTypes.length; i++) {\n    var type = elementTypes[i];\n    style[type] = style[type] ? materializeStyles(style[type], defaults) : {};\n  }\n\n  return style;\n}\n\nfunction normalizeGetter(getter) {\n  if (typeof getter === \"function\") {\n    return getter;\n  }\n\n  return function (d) {\n    return get(d, getter);\n  };\n}\n\nfunction get(obj, path, def) {\n  if (typeof obj === \"function\") {\n    try {\n      return obj();\n    } catch (e) {\n      return path;\n    }\n  }\n\n  if (!path) {\n    return obj;\n  }\n\n  var pathObj = makePathArray(path);\n  var val;\n\n  try {\n    val = pathObj.reduce(function (current, pathPart) {\n      return current[pathPart];\n    }, obj);\n  } catch (e) {// do nothing\n  }\n\n  return typeof val !== \"undefined\" ? val : def;\n}\n\nfunction makePathArray(obj) {\n  return flattenDeep(obj).join(\".\").replace(\"[\", \".\").replace(\"]\", \"\").split(\".\");\n}\n\nfunction flattenDeep(arr) {\n  var newArr = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n\n  if (!Array.isArray(arr)) {\n    newArr.push(arr);\n  } else {\n    for (var i = 0; i < arr.length; i++) {\n      flattenDeep(arr[i], newArr);\n    }\n  }\n\n  return newArr;\n}\n\nfunction isValidPoint(d) {\n  if (d === null) {\n    return false;\n  }\n\n  if (typeof d === \"undefined\") {\n    return false;\n  }\n\n  if (typeof d === \"string\" && d === \"null\") {\n    return false;\n  }\n\n  return true;\n}\n\nfunction getAxisByAxisID(axes, AxisID) {\n  return axes.find(function (d) {\n    return d.id === AxisID;\n  }) || axes[0];\n}\n\nfunction getAxisIndexByAxisID(axes, AxisID) {\n  var index = axes.findIndex(function (d) {\n    return d.id === AxisID;\n  });\n  return index > -1 ? index : 0;\n}\n\nfunction sumObjBy(obj, str) {\n  return Object.keys(obj).map(function (key) {\n    return obj[key];\n  }).reduce(function (prev, curr) {\n    return prev + curr[str] || 0;\n  }, 0);\n}\n\nfunction translateX(x) {\n  return \"translate3d(\".concat(Math.round(x), \"px, 0, 0)\");\n}\n\nfunction translateY(y) {\n  return \"translate3d(0, \".concat(Math.round(y), \"px, 0)\");\n}\n\nfunction translate(x, y) {\n  return \"translate3d(\".concat(Math.round(x), \"px, \").concat(Math.round(y), \"px, 0)\");\n}\n\nfunction identity(d) {\n  return d;\n}\n\nfunction shallowDiff(a, b) {\n  var aKeys = Object.keys(a);\n  var bKeys = Object.keys(b);\n\n  if (aKeys.length !== bKeys.length) {\n    return true;\n  }\n\n  return Object.keys(a).some(function (key) {\n    if (a[key] !== b[key]) {\n      return true;\n    }\n  });\n}\n\nvar t = [\"width\", \"height\", \"top\", \"right\", \"bottom\", \"left\"],\n    n = function (n, e) {\n  return void 0 === n && (n = {}), void 0 === e && (e = {}), t.some(function (t) {\n    return n[t] !== e[t];\n  });\n};\n\nfunction observeRect(t, e) {\n  var o,\n      i,\n      r = function () {\n    var u = t.getBoundingClientRect();\n    n(u, o) && e(o = u), i = requestAnimationFrame(r);\n  };\n\n  return {\n    observe: r,\n    unobserve: function () {\n      cancelAnimationFrame(i);\n    }\n  };\n}\n\nfunction onResize(element, fn) {\n  var observer = observeRect(element, fn);\n  observer.observe();\n  return observer.unobserve;\n}\n\nfunction useHyperResponsive(ref) {\n  var _React$useState = React.useState({\n    width: 0,\n    height: 0\n  }),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      _React$useState2$ = _React$useState2[0],\n      width = _React$useState2$.width,\n      height = _React$useState2$.height,\n      setState = _React$useState2[1];\n\n  var dimsRef = React.useRef();\n  dimsRef.current = {\n    width: width,\n    height: height\n  };\n  var resize = React.useCallback(function () {\n    if (!ref.current) {\n      return;\n    }\n\n    var computed = window.getComputedStyle(ref.current.parentElement);\n    var paddingTop = computed.paddingTop,\n        paddingBottom = computed.paddingBottom,\n        paddingLeft = computed.paddingLeft,\n        paddingRight = computed.paddingRight,\n        boxSizing = computed.boxSizing,\n        borderTopWidth = computed.borderTopWidth,\n        borderLeftWidth = computed.borderLeftWidth,\n        borderRightWidth = computed.borderRightWidth,\n        borderBottomWidth = computed.borderBottomWidth;\n    var newWidth = computed.width,\n        newHeight = computed.height;\n    newWidth = parseInt(newWidth);\n    newHeight = parseInt(newHeight);\n\n    if (boxSizing === \"border-box\") {\n      newWidth -= parseInt(paddingLeft);\n      newWidth -= parseInt(paddingRight);\n      newHeight -= parseInt(paddingTop);\n      newHeight -= parseInt(paddingBottom);\n      newWidth -= parseInt(borderLeftWidth);\n      newWidth -= parseInt(borderRightWidth);\n      newHeight -= parseInt(borderTopWidth);\n      newHeight -= parseInt(borderBottomWidth);\n    }\n\n    if (newWidth !== dimsRef.current.width || newHeight !== dimsRef.current.height) {\n      setState(function () {\n        return {\n          width: newWidth,\n          height: newHeight\n        };\n      });\n    }\n  }, [ref]);\n  React.useEffect(function () {\n    var stopListening = onResize(ref.current.parentElement, resize);\n    return function () {\n      stopListening();\n    };\n  }, [ref, resize]);\n  return [{\n    width: width,\n    height: height\n  }];\n}\n\nfunction useLatestRef(latest) {\n  var ref = React.useRef();\n  ref.current = latest;\n  return ref;\n}\n\nfunction useLatest(obj) {\n  var when = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n  var ref = React.useRef();\n\n  if (when) {\n    ref.current = obj;\n  }\n\n  return ref.current;\n}\n\nfunction usePrevious(val) {\n  var ref = React.useRef();\n  React.useEffect(function () {\n    ref.current = val;\n  }, [val]);\n  return ref.current;\n}\n\nvar commonjsGlobal = typeof globalThis !== 'undefined' ? globalThis : typeof window !== 'undefined' ? window : typeof global !== 'undefined' ? global : typeof self !== 'undefined' ? self : {};\n\nfunction createCommonjsModule(fn, module) {\n  return module = {\n    exports: {}\n  }, fn(module, module.exports), module.exports;\n}\n\nvar performanceNow = createCommonjsModule(function (module) {\n  // Generated by CoffeeScript 1.12.2\n  (function () {\n    var getNanoSeconds, hrtime, loadTime, moduleLoadTime, nodeLoadTime, upTime;\n\n    if (typeof performance !== \"undefined\" && performance !== null && performance.now) {\n      module.exports = function () {\n        return performance.now();\n      };\n    } else if (typeof process !== \"undefined\" && process !== null && process.hrtime) {\n      module.exports = function () {\n        return (getNanoSeconds() - nodeLoadTime) / 1e6;\n      };\n\n      hrtime = process.hrtime;\n\n      getNanoSeconds = function () {\n        var hr;\n        hr = hrtime();\n        return hr[0] * 1e9 + hr[1];\n      };\n\n      moduleLoadTime = getNanoSeconds();\n      upTime = process.uptime() * 1e9;\n      nodeLoadTime = moduleLoadTime - upTime;\n    } else if (Date.now) {\n      module.exports = function () {\n        return Date.now() - loadTime;\n      };\n\n      loadTime = Date.now();\n    } else {\n      module.exports = function () {\n        return new Date().getTime() - loadTime;\n      };\n\n      loadTime = new Date().getTime();\n    }\n  }).call(commonjsGlobal);\n});\nvar root = typeof window === 'undefined' ? commonjsGlobal : window,\n    vendors = ['moz', 'webkit'],\n    suffix = 'AnimationFrame',\n    raf = root['request' + suffix],\n    caf = root['cancel' + suffix] || root['cancelRequest' + suffix];\n\nfor (var i = 0; !raf && i < vendors.length; i++) {\n  raf = root[vendors[i] + 'Request' + suffix];\n  caf = root[vendors[i] + 'Cancel' + suffix] || root[vendors[i] + 'CancelRequest' + suffix];\n} // Some versions of FF have rAF but not cAF\n\n\nif (!raf || !caf) {\n  var last = 0,\n      id = 0,\n      queue = [],\n      frameDuration = 1000 / 60;\n\n  raf = function (callback) {\n    if (queue.length === 0) {\n      var _now = performanceNow(),\n          next = Math.max(0, frameDuration - (_now - last));\n\n      last = next + _now;\n      setTimeout(function () {\n        var cp = queue.slice(0); // Clear queue here to prevent\n        // callbacks from appending listeners\n        // to the current frame's queue\n\n        queue.length = 0;\n\n        for (var i = 0; i < cp.length; i++) {\n          if (!cp[i].cancelled) {\n            try {\n              cp[i].callback(last);\n            } catch (e) {\n              setTimeout(function () {\n                throw e;\n              }, 0);\n            }\n          }\n        }\n      }, Math.round(next));\n    }\n\n    queue.push({\n      handle: ++id,\n      callback: callback,\n      cancelled: false\n    });\n    return id;\n  };\n\n  caf = function (handle) {\n    for (var i = 0; i < queue.length; i++) {\n      if (queue[i].handle === handle) {\n        queue[i].cancelled = true;\n      }\n    }\n  };\n}\n\nvar raf_1 = function (fn) {\n  // Wrap in a new function to prevent\n  // `cancel` potentially being assigned\n  // to the native rAF function\n  return raf.call(root, fn);\n};\n\nvar cancel = function () {\n  caf.apply(root, arguments);\n};\n\nvar polyfill = function (object) {\n  if (!object) {\n    object = root;\n  }\n\n  object.requestAnimationFrame = raf;\n  object.cancelAnimationFrame = caf;\n};\n\nraf_1.cancel = cancel;\nraf_1.polyfill = polyfill;\nvar defaultStyle = {\n  strokeWidth: 0,\n  fill: \"#333\",\n  opacity: 1,\n  rx: 0,\n  ry: 0\n};\n\nfunction Rectangle(_ref) {\n  var style = _ref.style,\n      _ref$opacity = _ref.opacity,\n      x1 = _ref.x1,\n      y1 = _ref.y1,\n      x2 = _ref.x2,\n      y2 = _ref.y2,\n      rest = _objectWithoutProperties(_ref, [\"style\", \"opacity\", \"x1\", \"y1\", \"x2\", \"y2\"]);\n\n  var resolvedStyle = _objectSpread2({}, defaultStyle, {}, style);\n\n  var xStart = Math.min(x1, x2);\n  var yStart = Math.min(y1, y2);\n  var xEnd = Math.max(x1, x2);\n  var yEnd = Math.max(y1, y2);\n  var height = Math.max(yEnd - yStart, 0);\n  var width = Math.max(xEnd - xStart, 0);\n  return React.createElement(\"rect\", _extends({}, rest, {\n    x: xStart,\n    y: yStart,\n    width: width,\n    height: height,\n    style: resolvedStyle\n  }));\n}\n\nfunction constant(x) {\n  return function () {\n    return x;\n  };\n}\n\nfunction x(d) {\n  return d[0];\n}\n\nfunction y(d) {\n  return d[1];\n}\n\nfunction RedBlackTree() {\n  this._ = null; // root node\n}\n\nfunction RedBlackNode(node) {\n  node.U = // parent node\n  node.C = // color - true for red, false for black\n  node.L = // left node\n  node.R = // right node\n  node.P = // previous node\n  node.N = null; // next node\n}\n\nRedBlackTree.prototype = {\n  constructor: RedBlackTree,\n  insert: function (after, node) {\n    var parent, grandpa, uncle;\n\n    if (after) {\n      node.P = after;\n      node.N = after.N;\n      if (after.N) after.N.P = node;\n      after.N = node;\n\n      if (after.R) {\n        after = after.R;\n\n        while (after.L) after = after.L;\n\n        after.L = node;\n      } else {\n        after.R = node;\n      }\n\n      parent = after;\n    } else if (this._) {\n      after = RedBlackFirst(this._);\n      node.P = null;\n      node.N = after;\n      after.P = after.L = node;\n      parent = after;\n    } else {\n      node.P = node.N = null;\n      this._ = node;\n      parent = null;\n    }\n\n    node.L = node.R = null;\n    node.U = parent;\n    node.C = true;\n    after = node;\n\n    while (parent && parent.C) {\n      grandpa = parent.U;\n\n      if (parent === grandpa.L) {\n        uncle = grandpa.R;\n\n        if (uncle && uncle.C) {\n          parent.C = uncle.C = false;\n          grandpa.C = true;\n          after = grandpa;\n        } else {\n          if (after === parent.R) {\n            RedBlackRotateLeft(this, parent);\n            after = parent;\n            parent = after.U;\n          }\n\n          parent.C = false;\n          grandpa.C = true;\n          RedBlackRotateRight(this, grandpa);\n        }\n      } else {\n        uncle = grandpa.L;\n\n        if (uncle && uncle.C) {\n          parent.C = uncle.C = false;\n          grandpa.C = true;\n          after = grandpa;\n        } else {\n          if (after === parent.L) {\n            RedBlackRotateRight(this, parent);\n            after = parent;\n            parent = after.U;\n          }\n\n          parent.C = false;\n          grandpa.C = true;\n          RedBlackRotateLeft(this, grandpa);\n        }\n      }\n\n      parent = after.U;\n    }\n\n    this._.C = false;\n  },\n  remove: function (node) {\n    if (node.N) node.N.P = node.P;\n    if (node.P) node.P.N = node.N;\n    node.N = node.P = null;\n    var parent = node.U,\n        sibling,\n        left = node.L,\n        right = node.R,\n        next,\n        red;\n    if (!left) next = right;else if (!right) next = left;else next = RedBlackFirst(right);\n\n    if (parent) {\n      if (parent.L === node) parent.L = next;else parent.R = next;\n    } else {\n      this._ = next;\n    }\n\n    if (left && right) {\n      red = next.C;\n      next.C = node.C;\n      next.L = left;\n      left.U = next;\n\n      if (next !== right) {\n        parent = next.U;\n        next.U = node.U;\n        node = next.R;\n        parent.L = node;\n        next.R = right;\n        right.U = next;\n      } else {\n        next.U = parent;\n        parent = next;\n        node = next.R;\n      }\n    } else {\n      red = node.C;\n      node = next;\n    }\n\n    if (node) node.U = parent;\n    if (red) return;\n\n    if (node && node.C) {\n      node.C = false;\n      return;\n    }\n\n    do {\n      if (node === this._) break;\n\n      if (node === parent.L) {\n        sibling = parent.R;\n\n        if (sibling.C) {\n          sibling.C = false;\n          parent.C = true;\n          RedBlackRotateLeft(this, parent);\n          sibling = parent.R;\n        }\n\n        if (sibling.L && sibling.L.C || sibling.R && sibling.R.C) {\n          if (!sibling.R || !sibling.R.C) {\n            sibling.L.C = false;\n            sibling.C = true;\n            RedBlackRotateRight(this, sibling);\n            sibling = parent.R;\n          }\n\n          sibling.C = parent.C;\n          parent.C = sibling.R.C = false;\n          RedBlackRotateLeft(this, parent);\n          node = this._;\n          break;\n        }\n      } else {\n        sibling = parent.L;\n\n        if (sibling.C) {\n          sibling.C = false;\n          parent.C = true;\n          RedBlackRotateRight(this, parent);\n          sibling = parent.L;\n        }\n\n        if (sibling.L && sibling.L.C || sibling.R && sibling.R.C) {\n          if (!sibling.L || !sibling.L.C) {\n            sibling.R.C = false;\n            sibling.C = true;\n            RedBlackRotateLeft(this, sibling);\n            sibling = parent.L;\n          }\n\n          sibling.C = parent.C;\n          parent.C = sibling.L.C = false;\n          RedBlackRotateRight(this, parent);\n          node = this._;\n          break;\n        }\n      }\n\n      sibling.C = true;\n      node = parent;\n      parent = parent.U;\n    } while (!node.C);\n\n    if (node) node.C = false;\n  }\n};\n\nfunction RedBlackRotateLeft(tree, node) {\n  var p = node,\n      q = node.R,\n      parent = p.U;\n\n  if (parent) {\n    if (parent.L === p) parent.L = q;else parent.R = q;\n  } else {\n    tree._ = q;\n  }\n\n  q.U = parent;\n  p.U = q;\n  p.R = q.L;\n  if (p.R) p.R.U = p;\n  q.L = p;\n}\n\nfunction RedBlackRotateRight(tree, node) {\n  var p = node,\n      q = node.L,\n      parent = p.U;\n\n  if (parent) {\n    if (parent.L === p) parent.L = q;else parent.R = q;\n  } else {\n    tree._ = q;\n  }\n\n  q.U = parent;\n  p.U = q;\n  p.L = q.R;\n  if (p.L) p.L.U = p;\n  q.R = p;\n}\n\nfunction RedBlackFirst(node) {\n  while (node.L) node = node.L;\n\n  return node;\n}\n\nfunction createEdge(left, right, v0, v1) {\n  var edge = [null, null],\n      index = edges.push(edge) - 1;\n  edge.left = left;\n  edge.right = right;\n  if (v0) setEdgeEnd(edge, left, right, v0);\n  if (v1) setEdgeEnd(edge, right, left, v1);\n  cells[left.index].halfedges.push(index);\n  cells[right.index].halfedges.push(index);\n  return edge;\n}\n\nfunction createBorderEdge(left, v0, v1) {\n  var edge = [v0, v1];\n  edge.left = left;\n  return edge;\n}\n\nfunction setEdgeEnd(edge, left, right, vertex) {\n  if (!edge[0] && !edge[1]) {\n    edge[0] = vertex;\n    edge.left = left;\n    edge.right = right;\n  } else if (edge.left === right) {\n    edge[1] = vertex;\n  } else {\n    edge[0] = vertex;\n  }\n} // Liang–Barsky line clipping.\n\n\nfunction clipEdge(edge, x0, y0, x1, y1) {\n  var a = edge[0],\n      b = edge[1],\n      ax = a[0],\n      ay = a[1],\n      bx = b[0],\n      by = b[1],\n      t0 = 0,\n      t1 = 1,\n      dx = bx - ax,\n      dy = by - ay,\n      r;\n  r = x0 - ax;\n  if (!dx && r > 0) return;\n  r /= dx;\n\n  if (dx < 0) {\n    if (r < t0) return;\n    if (r < t1) t1 = r;\n  } else if (dx > 0) {\n    if (r > t1) return;\n    if (r > t0) t0 = r;\n  }\n\n  r = x1 - ax;\n  if (!dx && r < 0) return;\n  r /= dx;\n\n  if (dx < 0) {\n    if (r > t1) return;\n    if (r > t0) t0 = r;\n  } else if (dx > 0) {\n    if (r < t0) return;\n    if (r < t1) t1 = r;\n  }\n\n  r = y0 - ay;\n  if (!dy && r > 0) return;\n  r /= dy;\n\n  if (dy < 0) {\n    if (r < t0) return;\n    if (r < t1) t1 = r;\n  } else if (dy > 0) {\n    if (r > t1) return;\n    if (r > t0) t0 = r;\n  }\n\n  r = y1 - ay;\n  if (!dy && r < 0) return;\n  r /= dy;\n\n  if (dy < 0) {\n    if (r > t1) return;\n    if (r > t0) t0 = r;\n  } else if (dy > 0) {\n    if (r < t0) return;\n    if (r < t1) t1 = r;\n  }\n\n  if (!(t0 > 0) && !(t1 < 1)) return true; // TODO Better check?\n\n  if (t0 > 0) edge[0] = [ax + t0 * dx, ay + t0 * dy];\n  if (t1 < 1) edge[1] = [ax + t1 * dx, ay + t1 * dy];\n  return true;\n}\n\nfunction connectEdge(edge, x0, y0, x1, y1) {\n  var v1 = edge[1];\n  if (v1) return true;\n  var v0 = edge[0],\n      left = edge.left,\n      right = edge.right,\n      lx = left[0],\n      ly = left[1],\n      rx = right[0],\n      ry = right[1],\n      fx = (lx + rx) / 2,\n      fy = (ly + ry) / 2,\n      fm,\n      fb;\n\n  if (ry === ly) {\n    if (fx < x0 || fx >= x1) return;\n\n    if (lx > rx) {\n      if (!v0) v0 = [fx, y0];else if (v0[1] >= y1) return;\n      v1 = [fx, y1];\n    } else {\n      if (!v0) v0 = [fx, y1];else if (v0[1] < y0) return;\n      v1 = [fx, y0];\n    }\n  } else {\n    fm = (lx - rx) / (ry - ly);\n    fb = fy - fm * fx;\n\n    if (fm < -1 || fm > 1) {\n      if (lx > rx) {\n        if (!v0) v0 = [(y0 - fb) / fm, y0];else if (v0[1] >= y1) return;\n        v1 = [(y1 - fb) / fm, y1];\n      } else {\n        if (!v0) v0 = [(y1 - fb) / fm, y1];else if (v0[1] < y0) return;\n        v1 = [(y0 - fb) / fm, y0];\n      }\n    } else {\n      if (ly < ry) {\n        if (!v0) v0 = [x0, fm * x0 + fb];else if (v0[0] >= x1) return;\n        v1 = [x1, fm * x1 + fb];\n      } else {\n        if (!v0) v0 = [x1, fm * x1 + fb];else if (v0[0] < x0) return;\n        v1 = [x0, fm * x0 + fb];\n      }\n    }\n  }\n\n  edge[0] = v0;\n  edge[1] = v1;\n  return true;\n}\n\nfunction clipEdges(x0, y0, x1, y1) {\n  var i = edges.length,\n      edge;\n\n  while (i--) {\n    if (!connectEdge(edge = edges[i], x0, y0, x1, y1) || !clipEdge(edge, x0, y0, x1, y1) || !(Math.abs(edge[0][0] - edge[1][0]) > epsilon || Math.abs(edge[0][1] - edge[1][1]) > epsilon)) {\n      delete edges[i];\n    }\n  }\n}\n\nfunction createCell(site) {\n  return cells[site.index] = {\n    site: site,\n    halfedges: []\n  };\n}\n\nfunction cellHalfedgeAngle(cell, edge) {\n  var site = cell.site,\n      va = edge.left,\n      vb = edge.right;\n  if (site === vb) vb = va, va = site;\n  if (vb) return Math.atan2(vb[1] - va[1], vb[0] - va[0]);\n  if (site === va) va = edge[1], vb = edge[0];else va = edge[0], vb = edge[1];\n  return Math.atan2(va[0] - vb[0], vb[1] - va[1]);\n}\n\nfunction cellHalfedgeStart(cell, edge) {\n  return edge[+(edge.left !== cell.site)];\n}\n\nfunction cellHalfedgeEnd(cell, edge) {\n  return edge[+(edge.left === cell.site)];\n}\n\nfunction sortCellHalfedges() {\n  for (var i = 0, n = cells.length, cell, halfedges, j, m; i < n; ++i) {\n    if ((cell = cells[i]) && (m = (halfedges = cell.halfedges).length)) {\n      var index = new Array(m),\n          array = new Array(m);\n\n      for (j = 0; j < m; ++j) index[j] = j, array[j] = cellHalfedgeAngle(cell, edges[halfedges[j]]);\n\n      index.sort(function (i, j) {\n        return array[j] - array[i];\n      });\n\n      for (j = 0; j < m; ++j) array[j] = halfedges[index[j]];\n\n      for (j = 0; j < m; ++j) halfedges[j] = array[j];\n    }\n  }\n}\n\nfunction clipCells(x0, y0, x1, y1) {\n  var nCells = cells.length,\n      iCell,\n      cell,\n      site,\n      iHalfedge,\n      halfedges,\n      nHalfedges,\n      start,\n      startX,\n      startY,\n      end,\n      endX,\n      endY,\n      cover = true;\n\n  for (iCell = 0; iCell < nCells; ++iCell) {\n    if (cell = cells[iCell]) {\n      site = cell.site;\n      halfedges = cell.halfedges;\n      iHalfedge = halfedges.length; // Remove any dangling clipped edges.\n\n      while (iHalfedge--) {\n        if (!edges[halfedges[iHalfedge]]) {\n          halfedges.splice(iHalfedge, 1);\n        }\n      } // Insert any border edges as necessary.\n\n\n      iHalfedge = 0, nHalfedges = halfedges.length;\n\n      while (iHalfedge < nHalfedges) {\n        end = cellHalfedgeEnd(cell, edges[halfedges[iHalfedge]]), endX = end[0], endY = end[1];\n        start = cellHalfedgeStart(cell, edges[halfedges[++iHalfedge % nHalfedges]]), startX = start[0], startY = start[1];\n\n        if (Math.abs(endX - startX) > epsilon || Math.abs(endY - startY) > epsilon) {\n          halfedges.splice(iHalfedge, 0, edges.push(createBorderEdge(site, end, Math.abs(endX - x0) < epsilon && y1 - endY > epsilon ? [x0, Math.abs(startX - x0) < epsilon ? startY : y1] : Math.abs(endY - y1) < epsilon && x1 - endX > epsilon ? [Math.abs(startY - y1) < epsilon ? startX : x1, y1] : Math.abs(endX - x1) < epsilon && endY - y0 > epsilon ? [x1, Math.abs(startX - x1) < epsilon ? startY : y0] : Math.abs(endY - y0) < epsilon && endX - x0 > epsilon ? [Math.abs(startY - y0) < epsilon ? startX : x0, y0] : null)) - 1);\n          ++nHalfedges;\n        }\n      }\n\n      if (nHalfedges) cover = false;\n    }\n  } // If there weren’t any edges, have the closest site cover the extent.\n  // It doesn’t matter which corner of the extent we measure!\n\n\n  if (cover) {\n    var dx,\n        dy,\n        d2,\n        dc = Infinity;\n\n    for (iCell = 0, cover = null; iCell < nCells; ++iCell) {\n      if (cell = cells[iCell]) {\n        site = cell.site;\n        dx = site[0] - x0;\n        dy = site[1] - y0;\n        d2 = dx * dx + dy * dy;\n        if (d2 < dc) dc = d2, cover = cell;\n      }\n    }\n\n    if (cover) {\n      var v00 = [x0, y0],\n          v01 = [x0, y1],\n          v11 = [x1, y1],\n          v10 = [x1, y0];\n      cover.halfedges.push(edges.push(createBorderEdge(site = cover.site, v00, v01)) - 1, edges.push(createBorderEdge(site, v01, v11)) - 1, edges.push(createBorderEdge(site, v11, v10)) - 1, edges.push(createBorderEdge(site, v10, v00)) - 1);\n    }\n  } // Lastly delete any cells with no edges; these were entirely clipped.\n\n\n  for (iCell = 0; iCell < nCells; ++iCell) {\n    if (cell = cells[iCell]) {\n      if (!cell.halfedges.length) {\n        delete cells[iCell];\n      }\n    }\n  }\n}\n\nvar circlePool = [];\nvar firstCircle;\n\nfunction Circle() {\n  RedBlackNode(this);\n  this.x = this.y = this.arc = this.site = this.cy = null;\n}\n\nfunction attachCircle(arc) {\n  var lArc = arc.P,\n      rArc = arc.N;\n  if (!lArc || !rArc) return;\n  var lSite = lArc.site,\n      cSite = arc.site,\n      rSite = rArc.site;\n  if (lSite === rSite) return;\n  var bx = cSite[0],\n      by = cSite[1],\n      ax = lSite[0] - bx,\n      ay = lSite[1] - by,\n      cx = rSite[0] - bx,\n      cy = rSite[1] - by;\n  var d = 2 * (ax * cy - ay * cx);\n  if (d >= -epsilon2) return;\n  var ha = ax * ax + ay * ay,\n      hc = cx * cx + cy * cy,\n      x = (cy * ha - ay * hc) / d,\n      y = (ax * hc - cx * ha) / d;\n  var circle = circlePool.pop() || new Circle();\n  circle.arc = arc;\n  circle.site = cSite;\n  circle.x = x + bx;\n  circle.y = (circle.cy = y + by) + Math.sqrt(x * x + y * y); // y bottom\n\n  arc.circle = circle;\n  var before = null,\n      node = circles._;\n\n  while (node) {\n    if (circle.y < node.y || circle.y === node.y && circle.x <= node.x) {\n      if (node.L) node = node.L;else {\n        before = node.P;\n        break;\n      }\n    } else {\n      if (node.R) node = node.R;else {\n        before = node;\n        break;\n      }\n    }\n  }\n\n  circles.insert(before, circle);\n  if (!before) firstCircle = circle;\n}\n\nfunction detachCircle(arc) {\n  var circle = arc.circle;\n\n  if (circle) {\n    if (!circle.P) firstCircle = circle.N;\n    circles.remove(circle);\n    circlePool.push(circle);\n    RedBlackNode(circle);\n    arc.circle = null;\n  }\n}\n\nvar beachPool = [];\n\nfunction Beach() {\n  RedBlackNode(this);\n  this.edge = this.site = this.circle = null;\n}\n\nfunction createBeach(site) {\n  var beach = beachPool.pop() || new Beach();\n  beach.site = site;\n  return beach;\n}\n\nfunction detachBeach(beach) {\n  detachCircle(beach);\n  beaches.remove(beach);\n  beachPool.push(beach);\n  RedBlackNode(beach);\n}\n\nfunction removeBeach(beach) {\n  var circle = beach.circle,\n      x = circle.x,\n      y = circle.cy,\n      vertex = [x, y],\n      previous = beach.P,\n      next = beach.N,\n      disappearing = [beach];\n  detachBeach(beach);\n  var lArc = previous;\n\n  while (lArc.circle && Math.abs(x - lArc.circle.x) < epsilon && Math.abs(y - lArc.circle.cy) < epsilon) {\n    previous = lArc.P;\n    disappearing.unshift(lArc);\n    detachBeach(lArc);\n    lArc = previous;\n  }\n\n  disappearing.unshift(lArc);\n  detachCircle(lArc);\n  var rArc = next;\n\n  while (rArc.circle && Math.abs(x - rArc.circle.x) < epsilon && Math.abs(y - rArc.circle.cy) < epsilon) {\n    next = rArc.N;\n    disappearing.push(rArc);\n    detachBeach(rArc);\n    rArc = next;\n  }\n\n  disappearing.push(rArc);\n  detachCircle(rArc);\n  var nArcs = disappearing.length,\n      iArc;\n\n  for (iArc = 1; iArc < nArcs; ++iArc) {\n    rArc = disappearing[iArc];\n    lArc = disappearing[iArc - 1];\n    setEdgeEnd(rArc.edge, lArc.site, rArc.site, vertex);\n  }\n\n  lArc = disappearing[0];\n  rArc = disappearing[nArcs - 1];\n  rArc.edge = createEdge(lArc.site, rArc.site, null, vertex);\n  attachCircle(lArc);\n  attachCircle(rArc);\n}\n\nfunction addBeach(site) {\n  var x = site[0],\n      directrix = site[1],\n      lArc,\n      rArc,\n      dxl,\n      dxr,\n      node = beaches._;\n\n  while (node) {\n    dxl = leftBreakPoint(node, directrix) - x;\n    if (dxl > epsilon) node = node.L;else {\n      dxr = x - rightBreakPoint(node, directrix);\n\n      if (dxr > epsilon) {\n        if (!node.R) {\n          lArc = node;\n          break;\n        }\n\n        node = node.R;\n      } else {\n        if (dxl > -epsilon) {\n          lArc = node.P;\n          rArc = node;\n        } else if (dxr > -epsilon) {\n          lArc = node;\n          rArc = node.N;\n        } else {\n          lArc = rArc = node;\n        }\n\n        break;\n      }\n    }\n  }\n\n  createCell(site);\n  var newArc = createBeach(site);\n  beaches.insert(lArc, newArc);\n  if (!lArc && !rArc) return;\n\n  if (lArc === rArc) {\n    detachCircle(lArc);\n    rArc = createBeach(lArc.site);\n    beaches.insert(newArc, rArc);\n    newArc.edge = rArc.edge = createEdge(lArc.site, newArc.site);\n    attachCircle(lArc);\n    attachCircle(rArc);\n    return;\n  }\n\n  if (!rArc) {\n    // && lArc\n    newArc.edge = createEdge(lArc.site, newArc.site);\n    return;\n  } // else lArc !== rArc\n\n\n  detachCircle(lArc);\n  detachCircle(rArc);\n  var lSite = lArc.site,\n      ax = lSite[0],\n      ay = lSite[1],\n      bx = site[0] - ax,\n      by = site[1] - ay,\n      rSite = rArc.site,\n      cx = rSite[0] - ax,\n      cy = rSite[1] - ay,\n      d = 2 * (bx * cy - by * cx),\n      hb = bx * bx + by * by,\n      hc = cx * cx + cy * cy,\n      vertex = [(cy * hb - by * hc) / d + ax, (bx * hc - cx * hb) / d + ay];\n  setEdgeEnd(rArc.edge, lSite, rSite, vertex);\n  newArc.edge = createEdge(lSite, site, null, vertex);\n  rArc.edge = createEdge(site, rSite, null, vertex);\n  attachCircle(lArc);\n  attachCircle(rArc);\n}\n\nfunction leftBreakPoint(arc, directrix) {\n  var site = arc.site,\n      rfocx = site[0],\n      rfocy = site[1],\n      pby2 = rfocy - directrix;\n  if (!pby2) return rfocx;\n  var lArc = arc.P;\n  if (!lArc) return -Infinity;\n  site = lArc.site;\n  var lfocx = site[0],\n      lfocy = site[1],\n      plby2 = lfocy - directrix;\n  if (!plby2) return lfocx;\n  var hl = lfocx - rfocx,\n      aby2 = 1 / pby2 - 1 / plby2,\n      b = hl / plby2;\n  if (aby2) return (-b + Math.sqrt(b * b - 2 * aby2 * (hl * hl / (-2 * plby2) - lfocy + plby2 / 2 + rfocy - pby2 / 2))) / aby2 + rfocx;\n  return (rfocx + lfocx) / 2;\n}\n\nfunction rightBreakPoint(arc, directrix) {\n  var rArc = arc.N;\n  if (rArc) return leftBreakPoint(rArc, directrix);\n  var site = arc.site;\n  return site[1] === directrix ? site[0] : Infinity;\n}\n\nvar epsilon = 1e-6;\nvar epsilon2 = 1e-12;\nvar beaches;\nvar cells;\nvar circles;\nvar edges;\n\nfunction triangleArea(a, b, c) {\n  return (a[0] - c[0]) * (b[1] - a[1]) - (a[0] - b[0]) * (c[1] - a[1]);\n}\n\nfunction lexicographic(a, b) {\n  return b[1] - a[1] || b[0] - a[0];\n}\n\nfunction Diagram(sites, extent) {\n  var site = sites.sort(lexicographic).pop(),\n      x,\n      y,\n      circle;\n  edges = [];\n  cells = new Array(sites.length);\n  beaches = new RedBlackTree();\n  circles = new RedBlackTree();\n\n  while (true) {\n    circle = firstCircle;\n\n    if (site && (!circle || site[1] < circle.y || site[1] === circle.y && site[0] < circle.x)) {\n      if (site[0] !== x || site[1] !== y) {\n        addBeach(site);\n        x = site[0], y = site[1];\n      }\n\n      site = sites.pop();\n    } else if (circle) {\n      removeBeach(circle.arc);\n    } else {\n      break;\n    }\n  }\n\n  sortCellHalfedges();\n\n  if (extent) {\n    var x0 = +extent[0][0],\n        y0 = +extent[0][1],\n        x1 = +extent[1][0],\n        y1 = +extent[1][1];\n    clipEdges(x0, y0, x1, y1);\n    clipCells(x0, y0, x1, y1);\n  }\n\n  this.edges = edges;\n  this.cells = cells;\n  beaches = circles = edges = cells = null;\n}\n\nDiagram.prototype = {\n  constructor: Diagram,\n  polygons: function () {\n    var edges = this.edges;\n    return this.cells.map(function (cell) {\n      var polygon = cell.halfedges.map(function (i) {\n        return cellHalfedgeStart(cell, edges[i]);\n      });\n      polygon.data = cell.site.data;\n      return polygon;\n    });\n  },\n  triangles: function () {\n    var triangles = [],\n        edges = this.edges;\n    this.cells.forEach(function (cell, i) {\n      if (!(m = (halfedges = cell.halfedges).length)) return;\n      var site = cell.site,\n          halfedges,\n          j = -1,\n          m,\n          s0,\n          e1 = edges[halfedges[m - 1]],\n          s1 = e1.left === site ? e1.right : e1.left;\n\n      while (++j < m) {\n        s0 = s1;\n        e1 = edges[halfedges[j]];\n        s1 = e1.left === site ? e1.right : e1.left;\n\n        if (s0 && s1 && i < s0.index && i < s1.index && triangleArea(site, s0, s1) < 0) {\n          triangles.push([site.data, s0.data, s1.data]);\n        }\n      }\n    });\n    return triangles;\n  },\n  links: function () {\n    return this.edges.filter(function (edge) {\n      return edge.right;\n    }).map(function (edge) {\n      return {\n        source: edge.left.data,\n        target: edge.right.data\n      };\n    });\n  },\n  find: function (x, y, radius) {\n    var that = this,\n        i0,\n        i1 = that._found || 0,\n        n = that.cells.length,\n        cell; // Use the previously-found cell, or start with an arbitrary one.\n\n    while (!(cell = that.cells[i1])) if (++i1 >= n) return null;\n\n    var dx = x - cell.site[0],\n        dy = y - cell.site[1],\n        d2 = dx * dx + dy * dy; // Traverse the half-edges to find a closer cell, if any.\n\n    do {\n      cell = that.cells[i0 = i1], i1 = null;\n      cell.halfedges.forEach(function (e) {\n        var edge = that.edges[e],\n            v = edge.left;\n        if ((v === cell.site || !v) && !(v = edge.right)) return;\n        var vx = x - v[0],\n            vy = y - v[1],\n            v2 = vx * vx + vy * vy;\n        if (v2 < d2) d2 = v2, i1 = v.index;\n      });\n    } while (i1 !== null);\n\n    that._found = i0;\n    return radius == null || d2 <= radius * radius ? cell.site : null;\n  }\n};\n\nfunction voronoi() {\n  var x$1 = x,\n      y$1 = y,\n      extent = null;\n\n  function voronoi(data) {\n    return new Diagram(data.map(function (d, i) {\n      var s = [Math.round(x$1(d, i, data) / epsilon) * epsilon, Math.round(y$1(d, i, data) / epsilon) * epsilon];\n      s.index = i;\n      s.data = d;\n      return s;\n    }), extent);\n  }\n\n  voronoi.polygons = function (data) {\n    return voronoi(data).polygons();\n  };\n\n  voronoi.links = function (data) {\n    return voronoi(data).links();\n  };\n\n  voronoi.triangles = function (data) {\n    return voronoi(data).triangles();\n  };\n\n  voronoi.x = function (_) {\n    return arguments.length ? (x$1 = typeof _ === \"function\" ? _ : constant(+_), voronoi) : x$1;\n  };\n\n  voronoi.y = function (_) {\n    return arguments.length ? (y$1 = typeof _ === \"function\" ? _ : constant(+_), voronoi) : y$1;\n  };\n\n  voronoi.extent = function (_) {\n    return arguments.length ? (extent = _ == null ? null : [[+_[0][0], +_[0][1]], [+_[1][0], +_[1][1]]], voronoi) : extent && [[extent[0][0], extent[0][1]], [extent[1][0], extent[1][1]]];\n  };\n\n  voronoi.size = function (_) {\n    return arguments.length ? (extent = _ == null ? null : [[0, 0], [+_[0], +_[1]]], voronoi) : extent && [extent[1][0] - extent[0][0], extent[1][1] - extent[0][1]];\n  };\n\n  return voronoi;\n}\n\nvar pi = Math.PI,\n    tau = 2 * pi,\n    epsilon$1 = 1e-6,\n    tauEpsilon = tau - epsilon$1;\n\nfunction Path() {\n  this._x0 = this._y0 = // start of current subpath\n  this._x1 = this._y1 = null; // end of current subpath\n\n  this._ = \"\";\n}\n\nfunction path() {\n  return new Path();\n}\n\nPath.prototype = path.prototype = {\n  constructor: Path,\n  moveTo: function (x, y) {\n    this._ += \"M\" + (this._x0 = this._x1 = +x) + \",\" + (this._y0 = this._y1 = +y);\n  },\n  closePath: function () {\n    if (this._x1 !== null) {\n      this._x1 = this._x0, this._y1 = this._y0;\n      this._ += \"Z\";\n    }\n  },\n  lineTo: function (x, y) {\n    this._ += \"L\" + (this._x1 = +x) + \",\" + (this._y1 = +y);\n  },\n  quadraticCurveTo: function (x1, y1, x, y) {\n    this._ += \"Q\" + +x1 + \",\" + +y1 + \",\" + (this._x1 = +x) + \",\" + (this._y1 = +y);\n  },\n  bezierCurveTo: function (x1, y1, x2, y2, x, y) {\n    this._ += \"C\" + +x1 + \",\" + +y1 + \",\" + +x2 + \",\" + +y2 + \",\" + (this._x1 = +x) + \",\" + (this._y1 = +y);\n  },\n  arcTo: function (x1, y1, x2, y2, r) {\n    x1 = +x1, y1 = +y1, x2 = +x2, y2 = +y2, r = +r;\n    var x0 = this._x1,\n        y0 = this._y1,\n        x21 = x2 - x1,\n        y21 = y2 - y1,\n        x01 = x0 - x1,\n        y01 = y0 - y1,\n        l01_2 = x01 * x01 + y01 * y01; // Is the radius negative? Error.\n\n    if (r < 0) throw new Error(\"negative radius: \" + r); // Is this path empty? Move to (x1,y1).\n\n    if (this._x1 === null) {\n      this._ += \"M\" + (this._x1 = x1) + \",\" + (this._y1 = y1);\n    } // Or, is (x1,y1) coincident with (x0,y0)? Do nothing.\n    else if (!(l01_2 > epsilon$1)) ; // Or, are (x0,y0), (x1,y1) and (x2,y2) collinear?\n      // Equivalently, is (x1,y1) coincident with (x2,y2)?\n      // Or, is the radius zero? Line to (x1,y1).\n      else if (!(Math.abs(y01 * x21 - y21 * x01) > epsilon$1) || !r) {\n          this._ += \"L\" + (this._x1 = x1) + \",\" + (this._y1 = y1);\n        } // Otherwise, draw an arc!\n        else {\n            var x20 = x2 - x0,\n                y20 = y2 - y0,\n                l21_2 = x21 * x21 + y21 * y21,\n                l20_2 = x20 * x20 + y20 * y20,\n                l21 = Math.sqrt(l21_2),\n                l01 = Math.sqrt(l01_2),\n                l = r * Math.tan((pi - Math.acos((l21_2 + l01_2 - l20_2) / (2 * l21 * l01))) / 2),\n                t01 = l / l01,\n                t21 = l / l21; // If the start tangent is not coincident with (x0,y0), line to.\n\n            if (Math.abs(t01 - 1) > epsilon$1) {\n              this._ += \"L\" + (x1 + t01 * x01) + \",\" + (y1 + t01 * y01);\n            }\n\n            this._ += \"A\" + r + \",\" + r + \",0,0,\" + +(y01 * x20 > x01 * y20) + \",\" + (this._x1 = x1 + t21 * x21) + \",\" + (this._y1 = y1 + t21 * y21);\n          }\n  },\n  arc: function (x, y, r, a0, a1, ccw) {\n    x = +x, y = +y, r = +r, ccw = !!ccw;\n    var dx = r * Math.cos(a0),\n        dy = r * Math.sin(a0),\n        x0 = x + dx,\n        y0 = y + dy,\n        cw = 1 ^ ccw,\n        da = ccw ? a0 - a1 : a1 - a0; // Is the radius negative? Error.\n\n    if (r < 0) throw new Error(\"negative radius: \" + r); // Is this path empty? Move to (x0,y0).\n\n    if (this._x1 === null) {\n      this._ += \"M\" + x0 + \",\" + y0;\n    } // Or, is (x0,y0) not coincident with the previous point? Line to (x0,y0).\n    else if (Math.abs(this._x1 - x0) > epsilon$1 || Math.abs(this._y1 - y0) > epsilon$1) {\n        this._ += \"L\" + x0 + \",\" + y0;\n      } // Is this arc empty? We’re done.\n\n\n    if (!r) return; // Does the angle go the wrong way? Flip the direction.\n\n    if (da < 0) da = da % tau + tau; // Is this a complete circle? Draw two arcs to complete the circle.\n\n    if (da > tauEpsilon) {\n      this._ += \"A\" + r + \",\" + r + \",0,1,\" + cw + \",\" + (x - dx) + \",\" + (y - dy) + \"A\" + r + \",\" + r + \",0,1,\" + cw + \",\" + (this._x1 = x0) + \",\" + (this._y1 = y0);\n    } // Is this arc non-empty? Draw an arc!\n    else if (da > epsilon$1) {\n        this._ += \"A\" + r + \",\" + r + \",0,\" + +(da >= pi) + \",\" + cw + \",\" + (this._x1 = x + r * Math.cos(a1)) + \",\" + (this._y1 = y + r * Math.sin(a1));\n      }\n  },\n  rect: function (x, y, w, h) {\n    this._ += \"M\" + (this._x0 = this._x1 = +x) + \",\" + (this._y0 = this._y1 = +y) + \"h\" + +w + \"v\" + +h + \"h\" + -w + \"Z\";\n  },\n  toString: function () {\n    return this._;\n  }\n};\n\nfunction constant$1(x) {\n  return function constant() {\n    return x;\n  };\n}\n\nvar epsilon$2 = 1e-12;\n\nfunction Linear(context) {\n  this._context = context;\n}\n\nLinear.prototype = {\n  areaStart: function () {\n    this._line = 0;\n  },\n  areaEnd: function () {\n    this._line = NaN;\n  },\n  lineStart: function () {\n    this._point = 0;\n  },\n  lineEnd: function () {\n    if (this._line || this._line !== 0 && this._point === 1) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function (x, y) {\n    x = +x, y = +y;\n\n    switch (this._point) {\n      case 0:\n        this._point = 1;\n        this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y);\n        break;\n\n      case 1:\n        this._point = 2;\n      // proceed\n\n      default:\n        this._context.lineTo(x, y);\n\n        break;\n    }\n  }\n};\n\nfunction curveLinear(context) {\n  return new Linear(context);\n}\n\nfunction x$1(p) {\n  return p[0];\n}\n\nfunction y$1(p) {\n  return p[1];\n}\n\nfunction line() {\n  var x = x$1,\n      y = y$1,\n      defined = constant$1(true),\n      context = null,\n      curve = curveLinear,\n      output = null;\n\n  function line(data) {\n    var i,\n        n = data.length,\n        d,\n        defined0 = false,\n        buffer;\n    if (context == null) output = curve(buffer = path());\n\n    for (i = 0; i <= n; ++i) {\n      if (!(i < n && defined(d = data[i], i, data)) === defined0) {\n        if (defined0 = !defined0) output.lineStart();else output.lineEnd();\n      }\n\n      if (defined0) output.point(+x(d, i, data), +y(d, i, data));\n    }\n\n    if (buffer) return output = null, buffer + \"\" || null;\n  }\n\n  line.x = function (_) {\n    return arguments.length ? (x = typeof _ === \"function\" ? _ : constant$1(+_), line) : x;\n  };\n\n  line.y = function (_) {\n    return arguments.length ? (y = typeof _ === \"function\" ? _ : constant$1(+_), line) : y;\n  };\n\n  line.defined = function (_) {\n    return arguments.length ? (defined = typeof _ === \"function\" ? _ : constant$1(!!_), line) : defined;\n  };\n\n  line.curve = function (_) {\n    return arguments.length ? (curve = _, context != null && (output = curve(context)), line) : curve;\n  };\n\n  line.context = function (_) {\n    return arguments.length ? (_ == null ? context = output = null : output = curve(context = _), line) : context;\n  };\n\n  return line;\n}\n\nfunction area() {\n  var x0 = x$1,\n      x1 = null,\n      y0 = constant$1(0),\n      y1 = y$1,\n      defined = constant$1(true),\n      context = null,\n      curve = curveLinear,\n      output = null;\n\n  function area(data) {\n    var i,\n        j,\n        k,\n        n = data.length,\n        d,\n        defined0 = false,\n        buffer,\n        x0z = new Array(n),\n        y0z = new Array(n);\n    if (context == null) output = curve(buffer = path());\n\n    for (i = 0; i <= n; ++i) {\n      if (!(i < n && defined(d = data[i], i, data)) === defined0) {\n        if (defined0 = !defined0) {\n          j = i;\n          output.areaStart();\n          output.lineStart();\n        } else {\n          output.lineEnd();\n          output.lineStart();\n\n          for (k = i - 1; k >= j; --k) {\n            output.point(x0z[k], y0z[k]);\n          }\n\n          output.lineEnd();\n          output.areaEnd();\n        }\n      }\n\n      if (defined0) {\n        x0z[i] = +x0(d, i, data), y0z[i] = +y0(d, i, data);\n        output.point(x1 ? +x1(d, i, data) : x0z[i], y1 ? +y1(d, i, data) : y0z[i]);\n      }\n    }\n\n    if (buffer) return output = null, buffer + \"\" || null;\n  }\n\n  function arealine() {\n    return line().defined(defined).curve(curve).context(context);\n  }\n\n  area.x = function (_) {\n    return arguments.length ? (x0 = typeof _ === \"function\" ? _ : constant$1(+_), x1 = null, area) : x0;\n  };\n\n  area.x0 = function (_) {\n    return arguments.length ? (x0 = typeof _ === \"function\" ? _ : constant$1(+_), area) : x0;\n  };\n\n  area.x1 = function (_) {\n    return arguments.length ? (x1 = _ == null ? null : typeof _ === \"function\" ? _ : constant$1(+_), area) : x1;\n  };\n\n  area.y = function (_) {\n    return arguments.length ? (y0 = typeof _ === \"function\" ? _ : constant$1(+_), y1 = null, area) : y0;\n  };\n\n  area.y0 = function (_) {\n    return arguments.length ? (y0 = typeof _ === \"function\" ? _ : constant$1(+_), area) : y0;\n  };\n\n  area.y1 = function (_) {\n    return arguments.length ? (y1 = _ == null ? null : typeof _ === \"function\" ? _ : constant$1(+_), area) : y1;\n  };\n\n  area.lineX0 = area.lineY0 = function () {\n    return arealine().x(x0).y(y0);\n  };\n\n  area.lineY1 = function () {\n    return arealine().x(x0).y(y1);\n  };\n\n  area.lineX1 = function () {\n    return arealine().x(x1).y(y0);\n  };\n\n  area.defined = function (_) {\n    return arguments.length ? (defined = typeof _ === \"function\" ? _ : constant$1(!!_), area) : defined;\n  };\n\n  area.curve = function (_) {\n    return arguments.length ? (curve = _, context != null && (output = curve(context)), area) : curve;\n  };\n\n  area.context = function (_) {\n    return arguments.length ? (_ == null ? context = output = null : output = curve(context = _), area) : context;\n  };\n\n  return area;\n}\n\nfunction noop() {}\n\nfunction point(that, x, y) {\n  that._context.bezierCurveTo((2 * that._x0 + that._x1) / 3, (2 * that._y0 + that._y1) / 3, (that._x0 + 2 * that._x1) / 3, (that._y0 + 2 * that._y1) / 3, (that._x0 + 4 * that._x1 + x) / 6, (that._y0 + 4 * that._y1 + y) / 6);\n}\n\nfunction Basis(context) {\n  this._context = context;\n}\n\nBasis.prototype = {\n  areaStart: function () {\n    this._line = 0;\n  },\n  areaEnd: function () {\n    this._line = NaN;\n  },\n  lineStart: function () {\n    this._x0 = this._x1 = this._y0 = this._y1 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function () {\n    switch (this._point) {\n      case 3:\n        point(this, this._x1, this._y1);\n      // proceed\n\n      case 2:\n        this._context.lineTo(this._x1, this._y1);\n\n        break;\n    }\n\n    if (this._line || this._line !== 0 && this._point === 1) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function (x, y) {\n    x = +x, y = +y;\n\n    switch (this._point) {\n      case 0:\n        this._point = 1;\n        this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y);\n        break;\n\n      case 1:\n        this._point = 2;\n        break;\n\n      case 2:\n        this._point = 3;\n\n        this._context.lineTo((5 * this._x0 + this._x1) / 6, (5 * this._y0 + this._y1) / 6);\n\n      // proceed\n\n      default:\n        point(this, x, y);\n        break;\n    }\n\n    this._x0 = this._x1, this._x1 = x;\n    this._y0 = this._y1, this._y1 = y;\n  }\n};\n\nfunction basis(context) {\n  return new Basis(context);\n}\n\nfunction BasisClosed(context) {\n  this._context = context;\n}\n\nBasisClosed.prototype = {\n  areaStart: noop,\n  areaEnd: noop,\n  lineStart: function () {\n    this._x0 = this._x1 = this._x2 = this._x3 = this._x4 = this._y0 = this._y1 = this._y2 = this._y3 = this._y4 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function () {\n    switch (this._point) {\n      case 1:\n        {\n          this._context.moveTo(this._x2, this._y2);\n\n          this._context.closePath();\n\n          break;\n        }\n\n      case 2:\n        {\n          this._context.moveTo((this._x2 + 2 * this._x3) / 3, (this._y2 + 2 * this._y3) / 3);\n\n          this._context.lineTo((this._x3 + 2 * this._x2) / 3, (this._y3 + 2 * this._y2) / 3);\n\n          this._context.closePath();\n\n          break;\n        }\n\n      case 3:\n        {\n          this.point(this._x2, this._y2);\n          this.point(this._x3, this._y3);\n          this.point(this._x4, this._y4);\n          break;\n        }\n    }\n  },\n  point: function (x, y) {\n    x = +x, y = +y;\n\n    switch (this._point) {\n      case 0:\n        this._point = 1;\n        this._x2 = x, this._y2 = y;\n        break;\n\n      case 1:\n        this._point = 2;\n        this._x3 = x, this._y3 = y;\n        break;\n\n      case 2:\n        this._point = 3;\n        this._x4 = x, this._y4 = y;\n\n        this._context.moveTo((this._x0 + 4 * this._x1 + x) / 6, (this._y0 + 4 * this._y1 + y) / 6);\n\n        break;\n\n      default:\n        point(this, x, y);\n        break;\n    }\n\n    this._x0 = this._x1, this._x1 = x;\n    this._y0 = this._y1, this._y1 = y;\n  }\n};\n\nfunction basisClosed(context) {\n  return new BasisClosed(context);\n}\n\nfunction BasisOpen(context) {\n  this._context = context;\n}\n\nBasisOpen.prototype = {\n  areaStart: function () {\n    this._line = 0;\n  },\n  areaEnd: function () {\n    this._line = NaN;\n  },\n  lineStart: function () {\n    this._x0 = this._x1 = this._y0 = this._y1 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function () {\n    if (this._line || this._line !== 0 && this._point === 3) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function (x, y) {\n    x = +x, y = +y;\n\n    switch (this._point) {\n      case 0:\n        this._point = 1;\n        break;\n\n      case 1:\n        this._point = 2;\n        break;\n\n      case 2:\n        this._point = 3;\n        var x0 = (this._x0 + 4 * this._x1 + x) / 6,\n            y0 = (this._y0 + 4 * this._y1 + y) / 6;\n        this._line ? this._context.lineTo(x0, y0) : this._context.moveTo(x0, y0);\n        break;\n\n      case 3:\n        this._point = 4;\n      // proceed\n\n      default:\n        point(this, x, y);\n        break;\n    }\n\n    this._x0 = this._x1, this._x1 = x;\n    this._y0 = this._y1, this._y1 = y;\n  }\n};\n\nfunction basisOpen(context) {\n  return new BasisOpen(context);\n}\n\nfunction Bundle(context, beta) {\n  this._basis = new Basis(context);\n  this._beta = beta;\n}\n\nBundle.prototype = {\n  lineStart: function () {\n    this._x = [];\n    this._y = [];\n\n    this._basis.lineStart();\n  },\n  lineEnd: function () {\n    var x = this._x,\n        y = this._y,\n        j = x.length - 1;\n\n    if (j > 0) {\n      var x0 = x[0],\n          y0 = y[0],\n          dx = x[j] - x0,\n          dy = y[j] - y0,\n          i = -1,\n          t;\n\n      while (++i <= j) {\n        t = i / j;\n\n        this._basis.point(this._beta * x[i] + (1 - this._beta) * (x0 + t * dx), this._beta * y[i] + (1 - this._beta) * (y0 + t * dy));\n      }\n    }\n\n    this._x = this._y = null;\n\n    this._basis.lineEnd();\n  },\n  point: function (x, y) {\n    this._x.push(+x);\n\n    this._y.push(+y);\n  }\n};\n\nvar bundle = function custom(beta) {\n  function bundle(context) {\n    return beta === 1 ? new Basis(context) : new Bundle(context, beta);\n  }\n\n  bundle.beta = function (beta) {\n    return custom(+beta);\n  };\n\n  return bundle;\n}(0.85);\n\nfunction point$1(that, x, y) {\n  that._context.bezierCurveTo(that._x1 + that._k * (that._x2 - that._x0), that._y1 + that._k * (that._y2 - that._y0), that._x2 + that._k * (that._x1 - x), that._y2 + that._k * (that._y1 - y), that._x2, that._y2);\n}\n\nfunction Cardinal(context, tension) {\n  this._context = context;\n  this._k = (1 - tension) / 6;\n}\n\nCardinal.prototype = {\n  areaStart: function () {\n    this._line = 0;\n  },\n  areaEnd: function () {\n    this._line = NaN;\n  },\n  lineStart: function () {\n    this._x0 = this._x1 = this._x2 = this._y0 = this._y1 = this._y2 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function () {\n    switch (this._point) {\n      case 2:\n        this._context.lineTo(this._x2, this._y2);\n\n        break;\n\n      case 3:\n        point$1(this, this._x1, this._y1);\n        break;\n    }\n\n    if (this._line || this._line !== 0 && this._point === 1) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function (x, y) {\n    x = +x, y = +y;\n\n    switch (this._point) {\n      case 0:\n        this._point = 1;\n        this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y);\n        break;\n\n      case 1:\n        this._point = 2;\n        this._x1 = x, this._y1 = y;\n        break;\n\n      case 2:\n        this._point = 3;\n      // proceed\n\n      default:\n        point$1(this, x, y);\n        break;\n    }\n\n    this._x0 = this._x1, this._x1 = this._x2, this._x2 = x;\n    this._y0 = this._y1, this._y1 = this._y2, this._y2 = y;\n  }\n};\n\nvar cardinal = function custom(tension) {\n  function cardinal(context) {\n    return new Cardinal(context, tension);\n  }\n\n  cardinal.tension = function (tension) {\n    return custom(+tension);\n  };\n\n  return cardinal;\n}(0);\n\nfunction CardinalClosed(context, tension) {\n  this._context = context;\n  this._k = (1 - tension) / 6;\n}\n\nCardinalClosed.prototype = {\n  areaStart: noop,\n  areaEnd: noop,\n  lineStart: function () {\n    this._x0 = this._x1 = this._x2 = this._x3 = this._x4 = this._x5 = this._y0 = this._y1 = this._y2 = this._y3 = this._y4 = this._y5 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function () {\n    switch (this._point) {\n      case 1:\n        {\n          this._context.moveTo(this._x3, this._y3);\n\n          this._context.closePath();\n\n          break;\n        }\n\n      case 2:\n        {\n          this._context.lineTo(this._x3, this._y3);\n\n          this._context.closePath();\n\n          break;\n        }\n\n      case 3:\n        {\n          this.point(this._x3, this._y3);\n          this.point(this._x4, this._y4);\n          this.point(this._x5, this._y5);\n          break;\n        }\n    }\n  },\n  point: function (x, y) {\n    x = +x, y = +y;\n\n    switch (this._point) {\n      case 0:\n        this._point = 1;\n        this._x3 = x, this._y3 = y;\n        break;\n\n      case 1:\n        this._point = 2;\n\n        this._context.moveTo(this._x4 = x, this._y4 = y);\n\n        break;\n\n      case 2:\n        this._point = 3;\n        this._x5 = x, this._y5 = y;\n        break;\n\n      default:\n        point$1(this, x, y);\n        break;\n    }\n\n    this._x0 = this._x1, this._x1 = this._x2, this._x2 = x;\n    this._y0 = this._y1, this._y1 = this._y2, this._y2 = y;\n  }\n};\n\nvar cardinalClosed = function custom(tension) {\n  function cardinal(context) {\n    return new CardinalClosed(context, tension);\n  }\n\n  cardinal.tension = function (tension) {\n    return custom(+tension);\n  };\n\n  return cardinal;\n}(0);\n\nfunction CardinalOpen(context, tension) {\n  this._context = context;\n  this._k = (1 - tension) / 6;\n}\n\nCardinalOpen.prototype = {\n  areaStart: function () {\n    this._line = 0;\n  },\n  areaEnd: function () {\n    this._line = NaN;\n  },\n  lineStart: function () {\n    this._x0 = this._x1 = this._x2 = this._y0 = this._y1 = this._y2 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function () {\n    if (this._line || this._line !== 0 && this._point === 3) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function (x, y) {\n    x = +x, y = +y;\n\n    switch (this._point) {\n      case 0:\n        this._point = 1;\n        break;\n\n      case 1:\n        this._point = 2;\n        break;\n\n      case 2:\n        this._point = 3;\n        this._line ? this._context.lineTo(this._x2, this._y2) : this._context.moveTo(this._x2, this._y2);\n        break;\n\n      case 3:\n        this._point = 4;\n      // proceed\n\n      default:\n        point$1(this, x, y);\n        break;\n    }\n\n    this._x0 = this._x1, this._x1 = this._x2, this._x2 = x;\n    this._y0 = this._y1, this._y1 = this._y2, this._y2 = y;\n  }\n};\n\nvar cardinalOpen = function custom(tension) {\n  function cardinal(context) {\n    return new CardinalOpen(context, tension);\n  }\n\n  cardinal.tension = function (tension) {\n    return custom(+tension);\n  };\n\n  return cardinal;\n}(0);\n\nfunction point$2(that, x, y) {\n  var x1 = that._x1,\n      y1 = that._y1,\n      x2 = that._x2,\n      y2 = that._y2;\n\n  if (that._l01_a > epsilon$2) {\n    var a = 2 * that._l01_2a + 3 * that._l01_a * that._l12_a + that._l12_2a,\n        n = 3 * that._l01_a * (that._l01_a + that._l12_a);\n    x1 = (x1 * a - that._x0 * that._l12_2a + that._x2 * that._l01_2a) / n;\n    y1 = (y1 * a - that._y0 * that._l12_2a + that._y2 * that._l01_2a) / n;\n  }\n\n  if (that._l23_a > epsilon$2) {\n    var b = 2 * that._l23_2a + 3 * that._l23_a * that._l12_a + that._l12_2a,\n        m = 3 * that._l23_a * (that._l23_a + that._l12_a);\n    x2 = (x2 * b + that._x1 * that._l23_2a - x * that._l12_2a) / m;\n    y2 = (y2 * b + that._y1 * that._l23_2a - y * that._l12_2a) / m;\n  }\n\n  that._context.bezierCurveTo(x1, y1, x2, y2, that._x2, that._y2);\n}\n\nfunction CatmullRom(context, alpha) {\n  this._context = context;\n  this._alpha = alpha;\n}\n\nCatmullRom.prototype = {\n  areaStart: function () {\n    this._line = 0;\n  },\n  areaEnd: function () {\n    this._line = NaN;\n  },\n  lineStart: function () {\n    this._x0 = this._x1 = this._x2 = this._y0 = this._y1 = this._y2 = NaN;\n    this._l01_a = this._l12_a = this._l23_a = this._l01_2a = this._l12_2a = this._l23_2a = this._point = 0;\n  },\n  lineEnd: function () {\n    switch (this._point) {\n      case 2:\n        this._context.lineTo(this._x2, this._y2);\n\n        break;\n\n      case 3:\n        this.point(this._x2, this._y2);\n        break;\n    }\n\n    if (this._line || this._line !== 0 && this._point === 1) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function (x, y) {\n    x = +x, y = +y;\n\n    if (this._point) {\n      var x23 = this._x2 - x,\n          y23 = this._y2 - y;\n      this._l23_a = Math.sqrt(this._l23_2a = Math.pow(x23 * x23 + y23 * y23, this._alpha));\n    }\n\n    switch (this._point) {\n      case 0:\n        this._point = 1;\n        this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y);\n        break;\n\n      case 1:\n        this._point = 2;\n        break;\n\n      case 2:\n        this._point = 3;\n      // proceed\n\n      default:\n        point$2(this, x, y);\n        break;\n    }\n\n    this._l01_a = this._l12_a, this._l12_a = this._l23_a;\n    this._l01_2a = this._l12_2a, this._l12_2a = this._l23_2a;\n    this._x0 = this._x1, this._x1 = this._x2, this._x2 = x;\n    this._y0 = this._y1, this._y1 = this._y2, this._y2 = y;\n  }\n};\n\nvar catmullRom = function custom(alpha) {\n  function catmullRom(context) {\n    return alpha ? new CatmullRom(context, alpha) : new Cardinal(context, 0);\n  }\n\n  catmullRom.alpha = function (alpha) {\n    return custom(+alpha);\n  };\n\n  return catmullRom;\n}(0.5);\n\nfunction CatmullRomClosed(context, alpha) {\n  this._context = context;\n  this._alpha = alpha;\n}\n\nCatmullRomClosed.prototype = {\n  areaStart: noop,\n  areaEnd: noop,\n  lineStart: function () {\n    this._x0 = this._x1 = this._x2 = this._x3 = this._x4 = this._x5 = this._y0 = this._y1 = this._y2 = this._y3 = this._y4 = this._y5 = NaN;\n    this._l01_a = this._l12_a = this._l23_a = this._l01_2a = this._l12_2a = this._l23_2a = this._point = 0;\n  },\n  lineEnd: function () {\n    switch (this._point) {\n      case 1:\n        {\n          this._context.moveTo(this._x3, this._y3);\n\n          this._context.closePath();\n\n          break;\n        }\n\n      case 2:\n        {\n          this._context.lineTo(this._x3, this._y3);\n\n          this._context.closePath();\n\n          break;\n        }\n\n      case 3:\n        {\n          this.point(this._x3, this._y3);\n          this.point(this._x4, this._y4);\n          this.point(this._x5, this._y5);\n          break;\n        }\n    }\n  },\n  point: function (x, y) {\n    x = +x, y = +y;\n\n    if (this._point) {\n      var x23 = this._x2 - x,\n          y23 = this._y2 - y;\n      this._l23_a = Math.sqrt(this._l23_2a = Math.pow(x23 * x23 + y23 * y23, this._alpha));\n    }\n\n    switch (this._point) {\n      case 0:\n        this._point = 1;\n        this._x3 = x, this._y3 = y;\n        break;\n\n      case 1:\n        this._point = 2;\n\n        this._context.moveTo(this._x4 = x, this._y4 = y);\n\n        break;\n\n      case 2:\n        this._point = 3;\n        this._x5 = x, this._y5 = y;\n        break;\n\n      default:\n        point$2(this, x, y);\n        break;\n    }\n\n    this._l01_a = this._l12_a, this._l12_a = this._l23_a;\n    this._l01_2a = this._l12_2a, this._l12_2a = this._l23_2a;\n    this._x0 = this._x1, this._x1 = this._x2, this._x2 = x;\n    this._y0 = this._y1, this._y1 = this._y2, this._y2 = y;\n  }\n};\n\nvar catmullRomClosed = function custom(alpha) {\n  function catmullRom(context) {\n    return alpha ? new CatmullRomClosed(context, alpha) : new CardinalClosed(context, 0);\n  }\n\n  catmullRom.alpha = function (alpha) {\n    return custom(+alpha);\n  };\n\n  return catmullRom;\n}(0.5);\n\nfunction CatmullRomOpen(context, alpha) {\n  this._context = context;\n  this._alpha = alpha;\n}\n\nCatmullRomOpen.prototype = {\n  areaStart: function () {\n    this._line = 0;\n  },\n  areaEnd: function () {\n    this._line = NaN;\n  },\n  lineStart: function () {\n    this._x0 = this._x1 = this._x2 = this._y0 = this._y1 = this._y2 = NaN;\n    this._l01_a = this._l12_a = this._l23_a = this._l01_2a = this._l12_2a = this._l23_2a = this._point = 0;\n  },\n  lineEnd: function () {\n    if (this._line || this._line !== 0 && this._point === 3) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function (x, y) {\n    x = +x, y = +y;\n\n    if (this._point) {\n      var x23 = this._x2 - x,\n          y23 = this._y2 - y;\n      this._l23_a = Math.sqrt(this._l23_2a = Math.pow(x23 * x23 + y23 * y23, this._alpha));\n    }\n\n    switch (this._point) {\n      case 0:\n        this._point = 1;\n        break;\n\n      case 1:\n        this._point = 2;\n        break;\n\n      case 2:\n        this._point = 3;\n        this._line ? this._context.lineTo(this._x2, this._y2) : this._context.moveTo(this._x2, this._y2);\n        break;\n\n      case 3:\n        this._point = 4;\n      // proceed\n\n      default:\n        point$2(this, x, y);\n        break;\n    }\n\n    this._l01_a = this._l12_a, this._l12_a = this._l23_a;\n    this._l01_2a = this._l12_2a, this._l12_2a = this._l23_2a;\n    this._x0 = this._x1, this._x1 = this._x2, this._x2 = x;\n    this._y0 = this._y1, this._y1 = this._y2, this._y2 = y;\n  }\n};\n\nvar catmullRomOpen = function custom(alpha) {\n  function catmullRom(context) {\n    return alpha ? new CatmullRomOpen(context, alpha) : new CardinalOpen(context, 0);\n  }\n\n  catmullRom.alpha = function (alpha) {\n    return custom(+alpha);\n  };\n\n  return catmullRom;\n}(0.5);\n\nfunction LinearClosed(context) {\n  this._context = context;\n}\n\nLinearClosed.prototype = {\n  areaStart: noop,\n  areaEnd: noop,\n  lineStart: function () {\n    this._point = 0;\n  },\n  lineEnd: function () {\n    if (this._point) this._context.closePath();\n  },\n  point: function (x, y) {\n    x = +x, y = +y;\n    if (this._point) this._context.lineTo(x, y);else this._point = 1, this._context.moveTo(x, y);\n  }\n};\n\nfunction linearClosed(context) {\n  return new LinearClosed(context);\n}\n\nfunction sign(x) {\n  return x < 0 ? -1 : 1;\n} // Calculate the slopes of the tangents (Hermite-type interpolation) based on\n// the following paper: Steffen, M. 1990. A Simple Method for Monotonic\n// Interpolation in One Dimension. Astronomy and Astrophysics, Vol. 239, NO.\n// NOV(II), P. 443, 1990.\n\n\nfunction slope3(that, x2, y2) {\n  var h0 = that._x1 - that._x0,\n      h1 = x2 - that._x1,\n      s0 = (that._y1 - that._y0) / (h0 || h1 < 0 && -0),\n      s1 = (y2 - that._y1) / (h1 || h0 < 0 && -0),\n      p = (s0 * h1 + s1 * h0) / (h0 + h1);\n  return (sign(s0) + sign(s1)) * Math.min(Math.abs(s0), Math.abs(s1), 0.5 * Math.abs(p)) || 0;\n} // Calculate a one-sided slope.\n\n\nfunction slope2(that, t) {\n  var h = that._x1 - that._x0;\n  return h ? (3 * (that._y1 - that._y0) / h - t) / 2 : t;\n} // According to https://en.wikipedia.org/wiki/Cubic_Hermite_spline#Representations\n// \"you can express cubic Hermite interpolation in terms of cubic Bézier curves\n// with respect to the four values p0, p0 + m0 / 3, p1 - m1 / 3, p1\".\n\n\nfunction point$3(that, t0, t1) {\n  var x0 = that._x0,\n      y0 = that._y0,\n      x1 = that._x1,\n      y1 = that._y1,\n      dx = (x1 - x0) / 3;\n\n  that._context.bezierCurveTo(x0 + dx, y0 + dx * t0, x1 - dx, y1 - dx * t1, x1, y1);\n}\n\nfunction MonotoneX(context) {\n  this._context = context;\n}\n\nMonotoneX.prototype = {\n  areaStart: function () {\n    this._line = 0;\n  },\n  areaEnd: function () {\n    this._line = NaN;\n  },\n  lineStart: function () {\n    this._x0 = this._x1 = this._y0 = this._y1 = this._t0 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function () {\n    switch (this._point) {\n      case 2:\n        this._context.lineTo(this._x1, this._y1);\n\n        break;\n\n      case 3:\n        point$3(this, this._t0, slope2(this, this._t0));\n        break;\n    }\n\n    if (this._line || this._line !== 0 && this._point === 1) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function (x, y) {\n    var t1 = NaN;\n    x = +x, y = +y;\n    if (x === this._x1 && y === this._y1) return; // Ignore coincident points.\n\n    switch (this._point) {\n      case 0:\n        this._point = 1;\n        this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y);\n        break;\n\n      case 1:\n        this._point = 2;\n        break;\n\n      case 2:\n        this._point = 3;\n        point$3(this, slope2(this, t1 = slope3(this, x, y)), t1);\n        break;\n\n      default:\n        point$3(this, this._t0, t1 = slope3(this, x, y));\n        break;\n    }\n\n    this._x0 = this._x1, this._x1 = x;\n    this._y0 = this._y1, this._y1 = y;\n    this._t0 = t1;\n  }\n};\n\nfunction MonotoneY(context) {\n  this._context = new ReflectContext(context);\n}\n\n(MonotoneY.prototype = Object.create(MonotoneX.prototype)).point = function (x, y) {\n  MonotoneX.prototype.point.call(this, y, x);\n};\n\nfunction ReflectContext(context) {\n  this._context = context;\n}\n\nReflectContext.prototype = {\n  moveTo: function (x, y) {\n    this._context.moveTo(y, x);\n  },\n  closePath: function () {\n    this._context.closePath();\n  },\n  lineTo: function (x, y) {\n    this._context.lineTo(y, x);\n  },\n  bezierCurveTo: function (x1, y1, x2, y2, x, y) {\n    this._context.bezierCurveTo(y1, x1, y2, x2, y, x);\n  }\n};\n\nfunction monotoneX(context) {\n  return new MonotoneX(context);\n}\n\nfunction monotoneY(context) {\n  return new MonotoneY(context);\n}\n\nfunction Natural(context) {\n  this._context = context;\n}\n\nNatural.prototype = {\n  areaStart: function () {\n    this._line = 0;\n  },\n  areaEnd: function () {\n    this._line = NaN;\n  },\n  lineStart: function () {\n    this._x = [];\n    this._y = [];\n  },\n  lineEnd: function () {\n    var x = this._x,\n        y = this._y,\n        n = x.length;\n\n    if (n) {\n      this._line ? this._context.lineTo(x[0], y[0]) : this._context.moveTo(x[0], y[0]);\n\n      if (n === 2) {\n        this._context.lineTo(x[1], y[1]);\n      } else {\n        var px = controlPoints(x),\n            py = controlPoints(y);\n\n        for (var i0 = 0, i1 = 1; i1 < n; ++i0, ++i1) {\n          this._context.bezierCurveTo(px[0][i0], py[0][i0], px[1][i0], py[1][i0], x[i1], y[i1]);\n        }\n      }\n    }\n\n    if (this._line || this._line !== 0 && n === 1) this._context.closePath();\n    this._line = 1 - this._line;\n    this._x = this._y = null;\n  },\n  point: function (x, y) {\n    this._x.push(+x);\n\n    this._y.push(+y);\n  }\n}; // See https://www.particleincell.com/2012/bezier-splines/ for derivation.\n\nfunction controlPoints(x) {\n  var i,\n      n = x.length - 1,\n      m,\n      a = new Array(n),\n      b = new Array(n),\n      r = new Array(n);\n  a[0] = 0, b[0] = 2, r[0] = x[0] + 2 * x[1];\n\n  for (i = 1; i < n - 1; ++i) a[i] = 1, b[i] = 4, r[i] = 4 * x[i] + 2 * x[i + 1];\n\n  a[n - 1] = 2, b[n - 1] = 7, r[n - 1] = 8 * x[n - 1] + x[n];\n\n  for (i = 1; i < n; ++i) m = a[i] / b[i - 1], b[i] -= m, r[i] -= m * r[i - 1];\n\n  a[n - 1] = r[n - 1] / b[n - 1];\n\n  for (i = n - 2; i >= 0; --i) a[i] = (r[i] - a[i + 1]) / b[i];\n\n  b[n - 1] = (x[n] + a[n - 1]) / 2;\n\n  for (i = 0; i < n - 1; ++i) b[i] = 2 * x[i + 1] - a[i + 1];\n\n  return [a, b];\n}\n\nfunction natural(context) {\n  return new Natural(context);\n}\n\nfunction Step(context, t) {\n  this._context = context;\n  this._t = t;\n}\n\nStep.prototype = {\n  areaStart: function () {\n    this._line = 0;\n  },\n  areaEnd: function () {\n    this._line = NaN;\n  },\n  lineStart: function () {\n    this._x = this._y = NaN;\n    this._point = 0;\n  },\n  lineEnd: function () {\n    if (0 < this._t && this._t < 1 && this._point === 2) this._context.lineTo(this._x, this._y);\n    if (this._line || this._line !== 0 && this._point === 1) this._context.closePath();\n    if (this._line >= 0) this._t = 1 - this._t, this._line = 1 - this._line;\n  },\n  point: function (x, y) {\n    x = +x, y = +y;\n\n    switch (this._point) {\n      case 0:\n        this._point = 1;\n        this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y);\n        break;\n\n      case 1:\n        this._point = 2;\n      // proceed\n\n      default:\n        {\n          if (this._t <= 0) {\n            this._context.lineTo(this._x, y);\n\n            this._context.lineTo(x, y);\n          } else {\n            var x1 = this._x * (1 - this._t) + x * this._t;\n\n            this._context.lineTo(x1, this._y);\n\n            this._context.lineTo(x1, y);\n          }\n\n          break;\n        }\n    }\n\n    this._x = x, this._y = y;\n  }\n};\n\nfunction step(context) {\n  return new Step(context, 0.5);\n}\n\nfunction stepBefore(context) {\n  return new Step(context, 0);\n}\n\nfunction stepAfter(context) {\n  return new Step(context, 1);\n}\n\nvar defaultStyle$1 = {\n  strokeWidth: 2,\n  stroke: \"#6b6b6b\",\n  fill: \"transparent\",\n  opacity: 1\n};\n\nfunction Path$1(_ref) {\n  var style = _ref.style,\n      rest = _objectWithoutProperties(_ref, [\"style\"]);\n\n  var resolvedStyle = _objectSpread2({}, defaultStyle$1, {}, style);\n\n  return React.createElement(\"path\", _extends({}, rest, {\n    style: resolvedStyle\n  }));\n}\n\nvar lineFn = line();\n\nvar VoronoiElement = function VoronoiElement(_ref) {\n  var children = _ref.children,\n      rest = _objectWithoutProperties(_ref, [\"children\"]);\n\n  return React.createElement(\"g\", _extends({\n    className: \"Voronoi\"\n  }, rest), children);\n};\n\nfunction Voronoi() {\n  var _React$useContext = React.useContext(ChartContext),\n      _React$useContext2 = _slicedToArray(_React$useContext, 2),\n      _React$useContext2$ = _React$useContext2[0],\n      stackData = _React$useContext2$.stackData,\n      primaryAxes = _React$useContext2$.primaryAxes,\n      secondaryAxes = _React$useContext2$.secondaryAxes,\n      showVoronoi = _React$useContext2$.showVoronoi,\n      width = _React$useContext2$.width,\n      height = _React$useContext2$.height,\n      gridWidth = _React$useContext2$.gridWidth,\n      gridHeight = _React$useContext2$.gridHeight,\n      setChartState = _React$useContext2[1];\n\n  var onHover = React.useCallback(function (datum) {\n    return setChartState(function (state) {\n      return _objectSpread2({}, state, {\n        focused: datum\n      });\n    });\n  }, [setChartState]);\n  return React.useMemo(function () {\n    // Don't render until we have all dependencies\n    if (!stackData || !primaryAxes.length || !secondaryAxes.length || !width || !height) {\n      return null;\n    }\n\n    var extent = [[0, 0], [gridWidth, gridHeight]]; // if (type === 'pie') {\n    //   const primaryAxis = primaryAxes[0]\n    //   return (\n    //     <VoronoiElement\n    //       style={{\n    //         transform: Utils.translate(primaryAxis.width /\n    //           2, primaryAxis.height / 2)\n    //       }}\n    //     >\n    //       {stackData.map(series => (\n    //         <React.Fragment key={series.index}>\n    //           {series.datums.map((datum, i) => {\n    //             const arc = makeArc()\n    //               .startAngle(datum.arcData.startAngle)\n    //               .endAngle(datum.arcData.endAngle)\n    //               .padAngle(0)\n    //               .padRadius(0)\n    //               .innerRadius(\n    //                 !series.index\n    //                   ? 0\n    //                   : datum.arcData.innerRadius -\n    //                       datum.arcData.seriesPaddingRadius / 2\n    //               )\n    //               .outerRadius(\n    //                 series.index === stackData.length - 1\n    //                   ? Math.max(primaryAxis.width, primaryAxis.height)\n    //                   : datum.arcData.outerRadius +\n    //                       datum.arcData.seriesPaddingRadius / 2\n    //               )\n    //               .cornerRadius(0)\n    //             return (\n    //               <Path\n    //                 key={i}\n    //                 d={arc()}\n    //                 className='action-voronoi'\n    //                 onMouseEnter={() => onHover([datum])}\n    //                 style={{\n    //                   fill: 'rgba(0,0,0,.2)',\n    //                   stroke: 'rgba(255,255,255,.5)',\n    //                   opacity: showVoronoi ? 1 : 0\n    //                 }}\n    //               />\n    //             )\n    //           })}\n    //         </React.Fragment>\n    //       ))}\n    //     </VoronoiElement>\n    //   )\n    // }\n\n    var vor;\n    var polygons = null;\n    var voronoiData = [];\n    stackData.forEach(function (series) {\n      series.datums.filter(function (d) {\n        return d.defined;\n      }).forEach(function (datum) {\n        datum.boundingPoints.forEach(function (boundingPoint) {\n          if (typeof datum.x !== \"number\" || typeof datum.y !== \"number\" || Number.isNaN(datum.y) || Number.isNaN(datum.x)) {\n            return;\n          }\n\n          voronoiData.push({\n            x: boundingPoint.x,\n            y: boundingPoint.y,\n            datum: datum\n          });\n        });\n      });\n    });\n    vor = voronoi().x(function (d) {\n      return d.x;\n    }).y(function (d) {\n      return d.y;\n    }).extent(extent)(voronoiData);\n    polygons = vor.polygons();\n    return React.createElement(VoronoiElement, null, polygons.map(function (points, i) {\n      var path = lineFn(points);\n      return React.createElement(Path$1, {\n        key: i,\n        d: path,\n        className: \"action-voronoi\",\n        onMouseEnter: function onMouseEnter(e) {\n          return onHover(points.data.datum);\n        },\n        onMouseLeave: function onMouseLeave(e) {\n          return onHover(null);\n        },\n        style: {\n          fill: \"rgba(0,0,0,.2)\",\n          stroke: \"rgba(255,255,255,.5)\",\n          opacity: showVoronoi ? 1 : 0\n        }\n      });\n    }));\n  }, [gridHeight, gridWidth, height, onHover, primaryAxes.length, secondaryAxes.length, showVoronoi, stackData, width]);\n}\n\nvar defaultStyle$2 = {\n  strokeWidth: 1,\n  fill: \"transparent\",\n  opacity: 1\n};\n\nvar Line = /*#__PURE__*/function (_React$Component) {\n  _inherits(Line, _React$Component);\n\n  function Line() {\n    _classCallCheck(this, Line);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(Line).apply(this, arguments));\n  }\n\n  _createClass(Line, [{\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n          style = _this$props.style,\n          rest = _objectWithoutProperties(_this$props, [\"style\"]);\n\n      var resolvedStyle = _objectSpread2({}, defaultStyle$2, {}, style);\n\n      return React.createElement(\"line\", _extends({}, rest, {\n        style: resolvedStyle\n      }));\n    }\n  }]);\n\n  return Line;\n}(React.Component);\n\nvar defaultStyle$3 = {\n  fontFamily: \"Helvetica\",\n  fontSize: 10,\n  opacity: 1\n};\n\nfunction Text(_ref) {\n  var style = _ref.style,\n      _ref$opacity = _ref.opacity,\n      rest = _objectWithoutProperties(_ref, [\"style\", \"opacity\"]);\n\n  var resolvedStyle = _objectSpread2({}, defaultStyle$3, {}, style);\n\n  return React.createElement(\"text\", _extends({}, rest, {\n    style: resolvedStyle\n  }));\n}\n\nvar Group = React.forwardRef(function Group(props, ref) {\n  return React.createElement(\"g\", _extends({}, props, {\n    ref: ref\n  }));\n});\nvar positionTop = \"top\";\nvar positionRight = \"right\";\nvar positionBottom = \"bottom\";\nvar positionLeft = \"left\";\nvar groupingSingle = \"single\";\nvar groupingSeries = \"series\";\nvar groupingPrimary = \"primary\";\nvar groupingSecondary = \"secondary\";\nvar alignAuto = \"auto\";\nvar alignRight = \"right\";\nvar alignTopRight = \"topRight\";\nvar alignBottomRight = \"bottomRight\";\nvar alignLeft = \"left\";\nvar alignTopLeft = \"topLeft\";\nvar alignBottomLeft = \"bottomLeft\";\nvar alignTop = \"top\";\nvar alignBottom = \"bottom\";\nvar axisTypeOrdinal = \"ordinal\";\nvar axisTypeTime = \"time\";\nvar axisTypeUtc = \"utc\";\nvar axisTypeLinear = \"linear\";\nvar axisTypeLog = \"log\";\nvar anchorPointer = \"pointer\";\nvar anchorClosest = \"closest\";\nvar anchorCenter = \"center\";\nvar anchorTop = \"top\";\nvar anchorBottom = \"bottom\";\nvar anchorLeft = \"left\";\nvar anchorRight = \"right\";\nvar anchorGridTop = \"gridTop\";\nvar anchorGridBottom = \"gridBottom\";\nvar anchorGridLeft = \"gridLeft\";\nvar anchorGridRight = \"gridRight\";\nvar focusAuto = \"auto\";\nvar focusClosest = \"closest\";\nvar focusElement = \"element\";\nvar defaultStyles = {\n  line: {\n    strokeWidth: \"1\",\n    fill: \"transparent\"\n  },\n  tick: {\n    fontSize: 10,\n    fontFamily: \"sans-serif\"\n  }\n};\n\nvar radiansToDegrees = function radiansToDegrees(r) {\n  return r * (180 / Math.PI);\n};\n\nfunction AxisLinear(_ref) {\n  var id = _ref.id,\n      type = _ref.type,\n      position = _ref.position,\n      tickSizeInner = _ref.tickSizeInner,\n      tickSizeOuter = _ref.tickSizeOuter,\n      show = _ref.show,\n      showGrid = _ref.showGrid,\n      showTicks = _ref.showTicks,\n      styles = _ref.styles,\n      maxLabelRotation = _ref.maxLabelRotation,\n      labelRotationStep = _ref.labelRotationStep,\n      tickPadding = _ref.tickPadding,\n      ticks = _ref.ticks,\n      tickCount = _ref.tickCount,\n      minTickCount = _ref.minTickCount,\n      maxTickCount = _ref.maxTickCount,\n      scale = _ref.scale,\n      scaleMax = _ref.max,\n      transform = _ref.transform,\n      vertical = _ref.vertical,\n      format = _ref.format,\n      _ref$range = _slicedToArray(_ref.range, 2),\n      range0 = _ref$range[0],\n      range1 = _ref$range[1],\n      directionMultiplier = _ref.directionMultiplier,\n      tickOffset = _ref.tickOffset,\n      gridOffset = _ref.gridOffset,\n      spacing = _ref.spacing;\n\n  var _React$useState = React.useState(0),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      rotation = _React$useState2[0],\n      setRotation = _React$useState2[1];\n\n  var _React$useContext = React.useContext(ChartContext),\n      _React$useContext2 = _slicedToArray(_React$useContext, 2),\n      _React$useContext2$ = _React$useContext2[0],\n      gridWidth = _React$useContext2$.gridWidth,\n      gridHeight = _React$useContext2$.gridHeight,\n      dark = _React$useContext2$.dark,\n      axisDimensions = _React$useContext2$.axisDimensions,\n      setChartState = _React$useContext2[1];\n\n  var elRef = React.useRef();\n  var visibleLabelStepRef = React.useRef();\n  var measureDimensions = React.useCallback(function () {\n    if (!elRef.current) {\n      if (axisDimensions[position] && axisDimensions[position][id]) {\n        // If the entire axis is hidden, then we need to remove the axis dimensions\n        setChartState(function (state) {\n          var newAxes = state.axisDimensions[position] || {};\n          delete newAxes[id];\n          return _objectSpread2({}, state, {\n            axisDimensions: _objectSpread2({}, state.axisDimensions, _defineProperty({}, position, newAxes))\n          });\n        });\n      }\n\n      return;\n    }\n\n    var labelDims = Array.apply(void 0, _toConsumableArray(elRef.current.querySelectorAll(\".tickLabel\"))).map(function (el) {\n      var rect = el.getBoundingClientRect();\n      return {\n        width: rect.width,\n        height: rect.height\n      };\n    });\n    var tickSpace = !vertical ? gridWidth : gridHeight;\n    var calculatedTickCount = tickCount;\n    var width = 0;\n    var height = 0;\n    var top = 0;\n    var bottom = 0;\n    var left = 0;\n    var right = 0;\n    var smallestTickGap = 100000; // This is just a ridiculously large tick spacing that would never happen (hopefully)\n    // First find the dimensions of each tick\n\n    var tickDims = Array.apply(void 0, _toConsumableArray(elRef.current.querySelectorAll(\".tick\"))).map(function (el) {\n      return el.getBoundingClientRect();\n    }); // Then, determine the smallest gap in ticks on the axis\n\n    tickDims.reduce(function (prev, current) {\n      if (prev) {\n        var gap = vertical ? current.top - prev.top : current.left - prev.left;\n        smallestTickGap = gap < smallestTickGap ? gap : smallestTickGap;\n      }\n\n      return current;\n    }, false);\n    var firstLabelDim = labelDims[0] || {\n      width: 0,\n      height: 0\n    };\n    var lastLabelDim = labelDims[labelDims.length - 1] || {\n      width: 0,\n      height: 0\n    }; // Then determine the largest label\n\n    var largestLabel = _objectSpread2({}, firstLabelDim, {\n      _overflow: 0\n    }); // Determine the largest label on the axis\n\n\n    labelDims.forEach(function (labelDim) {\n      labelDim._overflow = !vertical ? labelDim.width : labelDim.height - smallestTickGap;\n\n      if (labelDim._overflow > 0 && labelDim._overflow > largestLabel._overflow) {\n        largestLabel = labelDim;\n      }\n    });\n    var largestLabelSize = !vertical ? largestLabel.width : largestLabel.height; // We need to detect auto tick mode\n\n    if ((vertical || type !== \"ordinal\") && tickCount === \"auto\") {\n      // if it's on, determine how many ticks we could display if they were all flat\n      // How many ticks can we fit in the available axis space?\n      calculatedTickCount = Math.max(minTickCount, Math.min(Math.floor((tickSpace + largestLabelSize - tickPadding) / (largestLabelSize + tickPadding * 2)), maxTickCount));\n    } else if (!vertical) {\n      // Otherwise, if it's horizontal, then we need to determine axis rotation\n      // This is the raw mathematical rotation, using acosign and radians\n      // (some tricky stuff I found on some geomoetry forum. Can't remember where though)\n      var newRotation = Math.min(Math.max(Math.abs(radiansToDegrees(Math.acos(smallestTickGap / (largestLabel.width + tickPadding)))), 0), maxLabelRotation); // Make sure the rotation isn't NaN\n\n      newRotation = Number.isNaN(newRotation) ? 0 : newRotation; // Round the rotation to the nearest rotationStep\n\n      newRotation = Math.ceil(Math.ceil(newRotation / labelRotationStep) * labelRotationStep);\n\n      if (newRotation === 0 || newRotation === maxLabelRotation || Math.abs(newRotation) - Math.abs(rotation) > 5) {\n        setRotation(function () {\n          return position === \"top\" ? -newRotation : newRotation;\n        });\n      }\n    }\n\n    var newVisibleLabelStep = Math.ceil(tickPadding / smallestTickGap);\n\n    if (visibleLabelStepRef.current !== newVisibleLabelStep) {\n      visibleLabelStepRef.current = newVisibleLabelStep;\n    }\n\n    if (!vertical) {\n      // Add width overflow from the first and last ticks\n      // const leftWidth = firstLabelDim.width\n      // const rightWidth = lastLabelDim.width\n      // if (rotation) {\n      //   right = tickPadding\n      //   left = Math.abs(Math.ceil(Math.cos(rotation) * leftWidth)) - barSize / 2\n      // } else {\n      //   left = Math.ceil(leftWidth / 2)\n      //   right = Math.ceil(rightWidth / 2)\n      // }\n      height = Math.max(tickSizeInner, tickSizeOuter) + // Add tick size\n      tickPadding + // Add tick padding\n      // Add the height of the largest label\n      Math.max.apply(Math, _toConsumableArray(labelDims.map(function (d) {\n        return Math.ceil(d.height);\n      })));\n    } else {\n      // Add height overflow from the first and last ticks\n      top = Math.ceil(firstLabelDim.height / 2);\n      bottom = Math.ceil(lastLabelDim.height / 2);\n      width = Math.max(tickSizeInner, tickSizeOuter) + // Add tick size\n      tickPadding + // Add tick padding\n      // Add the width of the largest label\n      Math.max.apply(Math, _toConsumableArray(labelDims.map(function (d) {\n        return Math.ceil(d.width);\n      })));\n    }\n\n    var newDimensions = {\n      width: width,\n      height: height,\n      top: top,\n      bottom: bottom,\n      left: left,\n      right: right,\n      tickCount: calculatedTickCount\n    }; // Only update the axisDimensions if something has changed\n\n    if (!axisDimensions || !axisDimensions[position] || !axisDimensions[position][id] || Object.keys(newDimensions).some(function (key) {\n      return newDimensions[key] !== axisDimensions[position][id][key];\n    })) {\n      setChartState(function (state) {\n        return _objectSpread2({}, state, {\n          axisDimensions: _objectSpread2({}, state.axisDimensions, _defineProperty({}, position, _objectSpread2({}, state.axisDimensions[position] || {}, _defineProperty({}, id, newDimensions))))\n        });\n      });\n    }\n  }, [axisDimensions, gridHeight, gridWidth, id, labelRotationStep, maxLabelRotation, maxTickCount, minTickCount, position, rotation, setChartState, tickCount, tickPadding, tickSizeInner, tickSizeOuter, type, vertical]);\n  var previousRotation = usePrevious(rotation); // Measure after if needed\n\n  React.useLayoutEffect(function () {\n    if (previousRotation === rotation) {\n      measureDimensions();\n    }\n  }, [axisDimensions, id, measureDimensions, position, previousRotation, rotation]); // Measure after if needed\n\n  React.useEffect(function () {\n    if (previousRotation !== rotation) {\n      measureDimensions();\n    }\n  }, [axisDimensions, id, measureDimensions, position, previousRotation, rotation]);\n  return React.useMemo(function () {\n    // Not ready? Render null\n    if (!show) {\n      return null;\n    }\n\n    var axisPath;\n\n    if (vertical) {\n      if (position === positionLeft) {\n        axisPath = \"\\n        M \".concat(-tickSizeOuter, \", \").concat(range0, \"\\n        H 0\\n        V \").concat(range1, \"\\n        H \").concat(-tickSizeOuter, \"\\n      \");\n      } else {\n        axisPath = \"\\n        M \".concat(tickSizeOuter, \", \").concat(range0, \"\\n        H 0\\n        V \").concat(range1, \"\\n        H \").concat(tickSizeOuter, \"\\n      \");\n      }\n    } else if (position === positionBottom) {\n      axisPath = \"\\n        M 0, \".concat(tickSizeOuter, \"\\n        V 0\\n        H \").concat(range1, \"\\n        V \").concat(tickSizeOuter, \"\\n      \");\n    } else {\n      axisPath = \"\\n        M 0, \".concat(-tickSizeOuter, \"\\n        V 0\\n        H \").concat(range1, \"\\n        V \").concat(-tickSizeOuter, \"\\n              \");\n    }\n\n    var showGridLine;\n\n    if (typeof showGrid === \"boolean\") {\n      showGridLine = showGrid;\n    } else if (type === axisTypeOrdinal) {\n      showGridLine = false;\n    } else {\n      showGridLine = true;\n    } // Combine default styles with style props\n\n\n    var axisStyles = _objectSpread2({}, defaultStyles, {}, styles);\n\n    return React.createElement(Group, {\n      ref: elRef,\n      className: \"Axis\",\n      style: {\n        pointerEvents: \"none\",\n        transform: position === positionRight ? Utils.translateX(gridWidth) : position === positionBottom ? Utils.translateY(gridHeight) : undefined\n      }\n    }, React.createElement(Path$1, {\n      className: \"domain\",\n      d: axisPath,\n      style: _objectSpread2({\n        stroke: dark ? \"rgba(255,255,255, .1)\" : \"rgba(0,0,0, .1)\"\n      }, axisStyles.line)\n    }), React.createElement(Group, {\n      className: \"ticks\",\n      style: {}\n    }, ticks.map(function (tick, i) {\n      return React.createElement(Group, {\n        key: [String(tick), i].join(\"_\"),\n        className: \"tick\",\n        style: {\n          transform: transform(scale(tick) || 0)\n        }\n      }, showGridLine && React.createElement(Line, {\n        className: \"gridLine\",\n        x1: vertical ? 0 : gridOffset,\n        x2: vertical ? scaleMax : gridOffset,\n        y1: vertical ? gridOffset : 0,\n        y2: vertical ? gridOffset : scaleMax,\n        style: _objectSpread2({\n          stroke: dark ? \"rgba(255,255,255, .1)\" : \"rgba(0,0,0, .1)\",\n          strokeWidth: 1\n        }, axisStyles.line)\n      }), showTicks ? React.createElement(\"g\", {\n        className: \"labelGroup\"\n      }, React.createElement(Line, {\n        className: \"tickline\",\n        x1: vertical ? 0 : tickOffset,\n        x2: vertical ? directionMultiplier * tickSizeInner : tickOffset,\n        y1: vertical ? tickOffset : 0,\n        y2: vertical ? tickOffset : directionMultiplier * tickSizeInner,\n        style: _objectSpread2({\n          stroke: dark ? \"rgba(255,255,255, .1)\" : \"rgba(0,0,0, .1)\",\n          strokeWidth: 1\n        }, axisStyles.line)\n      }), React.createElement(Text, {\n        className: \"tickLabel\",\n        style: _objectSpread2({\n          fill: dark ? \"white\" : \"black\"\n        }, axisStyles.tick, {\n          transform: \"\".concat(Utils.translate(vertical ? directionMultiplier * spacing : tickOffset, vertical ? tickOffset : directionMultiplier * spacing), \" rotate(\").concat(-rotation, \"deg)\")\n        }),\n        dominantBaseline: rotation ? \"central\" : position === positionBottom ? \"hanging\" : position === positionTop ? \"alphabetic\" : \"central\",\n        textAnchor: rotation ? \"end\" : position === positionRight ? \"start\" : position === positionLeft ? \"end\" : \"middle\"\n      }, format(tick, i))) : null);\n    })));\n  }, [dark, directionMultiplier, format, gridHeight, gridOffset, gridWidth, position, range0, range1, rotation, scale, scaleMax, show, showGrid, showTicks, spacing, styles, tickOffset, tickSizeInner, tickSizeOuter, ticks, transform, type, vertical]);\n}\n\nvar Axis = /*#__PURE__*/function (_React$Component) {\n  _inherits(Axis, _React$Component);\n\n  function Axis() {\n    _classCallCheck(this, Axis);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(Axis).apply(this, arguments));\n  }\n\n  _createClass(Axis, [{\n    key: \"render\",\n    value: function render() {\n      var type = this.props.type; // if (type === 'pie') {\n      //   return <AxisPie {...this.props} />\n      // }\n\n      return React.createElement(AxisLinear, this.props);\n    }\n  }]);\n\n  return Axis;\n}(React.Component);\n\nvar triangleSize = 7;\n\nvar getBackgroundColor = function getBackgroundColor(dark) {\n  return dark ? \"rgba(255,255,255,.9)\" : \"rgba(0, 26, 39, 0.9)\";\n};\n\nfunction Tooltip() {\n  var _React$useContext = React.useContext(ChartContext),\n      _React$useContext2 = _slicedToArray(_React$useContext, 1),\n      chartState = _React$useContext2[0];\n\n  var primaryAxes = chartState.primaryAxes,\n      secondaryAxes = chartState.secondaryAxes,\n      gridX = chartState.gridX,\n      gridY = chartState.gridY,\n      gridWidth = chartState.gridWidth,\n      gridHeight = chartState.gridHeight,\n      dark = chartState.dark,\n      focused = chartState.focused,\n      latestFocused = chartState.latestFocused,\n      getDatumStyle = chartState.getDatumStyle,\n      tooltip = chartState.tooltip;\n  var elRef = React.useRef();\n  var tooltipElRef = React.useRef();\n  var previousShowRef = React.useRef();\n\n  var _ref = tooltip || {},\n      align = _ref.align,\n      alignPriority = _ref.alignPriority,\n      padding = _ref.padding,\n      tooltipArrowPadding = _ref.tooltipArrowPadding,\n      arrowPosition = _ref.arrowPosition,\n      render = _ref.render,\n      anchor = _ref.anchor,\n      show = _ref.show;\n\n  var _React$useState = React.useState(align || \"auto\"),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      finalAlign = _React$useState2[0],\n      setFinalAlign = _React$useState2[1];\n\n  React.useEffect(function () {\n    previousShowRef.current = show;\n  }, [show]);\n  React.useLayoutEffect(function () {\n    if (align !== \"auto\" || !elRef.current || !show || !anchor) {\n      return;\n    }\n\n    var space = {\n      left: Infinity,\n      top: Infinity,\n      right: Infinity,\n      bottom: Infinity\n    };\n    var container = elRef.current;\n    var gridDims = container.getBoundingClientRect();\n    var tooltipDims = tooltipElRef.current.getBoundingClientRect();\n\n    while (container !== document.body) {\n      container = container.parentElement;\n\n      var _window$getComputedSt = window.getComputedStyle(container),\n          overflowX = _window$getComputedSt.overflowX,\n          overflowY = _window$getComputedSt.overflowY;\n\n      if (container === document.body || [overflowX, overflowY].find(function (d) {\n        return [\"auto\", \"hidden\"].includes(d);\n      })) {\n        var containerDims = container.getBoundingClientRect();\n        var left = gridDims.left - containerDims.left + anchor.x;\n        var top = gridDims.top - containerDims.top + anchor.y;\n        var right = containerDims.width - left;\n        var bottom = containerDims.height - top;\n        space.left = Math.min(space.left, left);\n        space.top = Math.min(space.top, top);\n        space.right = Math.min(space.right, right);\n        space.bottom = Math.min(space.bottom, bottom);\n      }\n    }\n\n    var resolvedAlign = null;\n    alignPriority.forEach(function (priority) {\n      if (resolvedAlign) {\n        return;\n      }\n\n      var fits = {\n        left: space.left - tooltipArrowPadding - padding - anchor.horizontalPadding > tooltipDims.width,\n        right: space.right - tooltipArrowPadding - padding - anchor.horizontalPadding > tooltipDims.width,\n        top: space.top - tooltipArrowPadding - padding - anchor.verticalPadding > tooltipDims.height && space.left > tooltipDims.width / 2,\n        bottom: space.bottom - tooltipArrowPadding - padding - anchor.verticalPadding > tooltipDims.height,\n        centeredFromLeft: space.left > tooltipDims.width / 2,\n        centeredFromRight: space.right > tooltipDims.width / 2,\n        centeredFromTop: space.top > tooltipDims.height / 2,\n        centeredFromBottom: space.bottom > tooltipDims.height / 2\n      };\n\n      if (priority === \"left\") {\n        if (fits.left && fits.centeredFromTop && fits.centeredFromBottom) {\n          resolvedAlign = priority;\n        }\n      } else if (priority === \"right\") {\n        if (fits.right && fits.centeredFromTop && fits.centeredFromBottom) {\n          resolvedAlign = priority;\n        }\n      } else if (priority === \"top\") {\n        if (fits.top && fits.centeredFromLeft && fits.centeredFromRight) {\n          resolvedAlign = priority;\n        }\n      } else if (priority === \"bottom\") {\n        if (fits.bottom && fits.centeredFromLeft && fits.centeredFromRight) {\n          resolvedAlign = priority;\n        }\n      } else if (priority === \"topLeft\") {\n        if (fits.top && fits.left) {\n          resolvedAlign = priority;\n        }\n      } else if (priority === \"topRight\") {\n        if (fits.top && fits.right) {\n          resolvedAlign = priority;\n        }\n      } else if (priority === \"bottomLeft\") {\n        if (fits.bottom && fits.left) {\n          resolvedAlign = priority;\n        }\n      } else if (priority === \"bottomRight\") {\n        if (fits.bottom && fits.right) {\n          resolvedAlign = priority;\n        }\n      }\n    });\n\n    if (resolvedAlign !== finalAlign) {\n      setFinalAlign(resolvedAlign);\n    }\n  }, [align, alignPriority, anchor, finalAlign, padding, show, tooltipArrowPadding]);\n\n  if (!tooltip) {\n    return null;\n  }\n\n  var resolvedFocused = focused || latestFocused;\n  var alignX = 0;\n  var alignY = -50;\n  var triangleStyles = {};\n  var backgroundColor = getBackgroundColor(dark);\n  var resolvedArrowPosition = arrowPosition;\n\n  if (finalAlign === \"top\") {\n    alignX = -50;\n    alignY = -100;\n  } else if (finalAlign === \"topRight\") {\n    alignX = 0;\n    alignY = -100;\n  } else if (finalAlign === \"right\") {\n    alignX = 0;\n    alignY = -50;\n  } else if (finalAlign === \"bottomRight\") {\n    alignX = 0;\n    alignY = 0;\n  } else if (finalAlign === \"bottom\") {\n    alignX = -50;\n    alignY = 0;\n  } else if (finalAlign === \"bottomLeft\") {\n    alignX = -100;\n    alignY = 0;\n  } else if (finalAlign === \"left\") {\n    alignX = -100;\n    alignY = -50;\n  } else if (finalAlign === \"topLeft\") {\n    alignX = -100;\n    alignY = -100;\n  } else if (finalAlign === \"center\") {\n    alignX = -50;\n    alignY = -50;\n  }\n\n  if (!resolvedArrowPosition) {\n    if (finalAlign === \"left\") {\n      resolvedArrowPosition = \"right\";\n    } else if (finalAlign === \"right\") {\n      resolvedArrowPosition = \"left\";\n    } else if (finalAlign === \"top\") {\n      resolvedArrowPosition = \"bottom\";\n    } else if (finalAlign === \"bottom\") {\n      resolvedArrowPosition = \"top\";\n    } else if (finalAlign === \"topRight\") {\n      resolvedArrowPosition = \"bottomLeft\";\n    } else if (finalAlign === \"bottomRight\") {\n      resolvedArrowPosition = \"topLeft\";\n    } else if (finalAlign === \"topLeft\") {\n      resolvedArrowPosition = \"bottomRight\";\n    } else if (finalAlign === \"bottomLeft\") {\n      resolvedArrowPosition = \"topRight\";\n    }\n  }\n\n  if (resolvedArrowPosition === \"bottom\") {\n    triangleStyles = {\n      top: \"100%\",\n      left: \"50%\",\n      transform: \"translate3d(-50%, 0%, 0)\",\n      borderLeft: \"\".concat(triangleSize * 0.8, \"px solid transparent\"),\n      borderRight: \"\".concat(triangleSize * 0.8, \"px solid transparent\"),\n      borderTop: \"\".concat(triangleSize, \"px solid \").concat(backgroundColor)\n    };\n  } else if (resolvedArrowPosition === \"top\") {\n    triangleStyles = {\n      top: \"0%\",\n      left: \"50%\",\n      transform: \"translate3d(-50%, -100%, 0)\",\n      borderLeft: \"\".concat(triangleSize * 0.8, \"px solid transparent\"),\n      borderRight: \"\".concat(triangleSize * 0.8, \"px solid transparent\"),\n      borderBottom: \"\".concat(triangleSize, \"px solid \").concat(backgroundColor)\n    };\n  } else if (resolvedArrowPosition === \"right\") {\n    triangleStyles = {\n      top: \"50%\",\n      left: \"100%\",\n      transform: \"translate3d(0%, -50%, 0)\",\n      borderTop: \"\".concat(triangleSize * 0.8, \"px solid transparent\"),\n      borderBottom: \"\".concat(triangleSize * 0.8, \"px solid transparent\"),\n      borderLeft: \"\".concat(triangleSize, \"px solid \").concat(backgroundColor)\n    };\n  } else if (resolvedArrowPosition === \"left\") {\n    triangleStyles = {\n      top: \"50%\",\n      left: \"0%\",\n      transform: \"translate3d(-100%, -50%, 0)\",\n      borderTop: \"\".concat(triangleSize * 0.8, \"px solid transparent\"),\n      borderBottom: \"\".concat(triangleSize * 0.8, \"px solid transparent\"),\n      borderRight: \"\".concat(triangleSize, \"px solid \").concat(backgroundColor)\n    };\n  } else if (resolvedArrowPosition === \"topRight\") {\n    triangleStyles = {\n      top: \"0%\",\n      left: \"100%\",\n      transform: \"translate3d(-50%, -50%, 0) rotate(-45deg)\",\n      borderTop: \"\".concat(triangleSize * 0.8, \"px solid transparent\"),\n      borderBottom: \"\".concat(triangleSize * 0.8, \"px solid transparent\"),\n      borderLeft: \"\".concat(triangleSize * 2, \"px solid \").concat(backgroundColor)\n    };\n  } else if (resolvedArrowPosition === \"bottomRight\") {\n    triangleStyles = {\n      top: \"100%\",\n      left: \"100%\",\n      transform: \"translate3d(-50%, -50%, 0) rotate(45deg)\",\n      borderTop: \"\".concat(triangleSize * 0.8, \"px solid transparent\"),\n      borderBottom: \"\".concat(triangleSize * 0.8, \"px solid transparent\"),\n      borderLeft: \"\".concat(triangleSize * 2, \"px solid \").concat(backgroundColor)\n    };\n  } else if (resolvedArrowPosition === \"topLeft\") {\n    triangleStyles = {\n      top: \"0%\",\n      left: \"0%\",\n      transform: \"translate3d(-50%, -50%, 0) rotate(45deg)\",\n      borderTop: \"\".concat(triangleSize * 0.8, \"px solid transparent\"),\n      borderBottom: \"\".concat(triangleSize * 0.8, \"px solid transparent\"),\n      borderRight: \"\".concat(triangleSize * 2, \"px solid \").concat(backgroundColor)\n    };\n  } else if (resolvedArrowPosition === \"bottomLeft\") {\n    triangleStyles = {\n      top: \"100%\",\n      left: \"0%\",\n      transform: \"translate3d(-50%, -50%, 0) rotate(-45deg)\",\n      borderTop: \"\".concat(triangleSize * 0.8, \"px solid transparent\"),\n      borderBottom: \"\".concat(triangleSize * 0.8, \"px solid transparent\"),\n      borderRight: \"\".concat(triangleSize * 2, \"px solid \").concat(backgroundColor)\n    };\n  } else {\n    triangleStyles = {\n      opacity: 0\n    };\n  }\n\n  var primaryAxis = Utils.getAxisByAxisID(primaryAxes, resolvedFocused ? resolvedFocused.series.primaryAxisID : null);\n  var secondaryAxis = Utils.getAxisByAxisID(secondaryAxes, resolvedFocused ? resolvedFocused.series.secondaryAxisID : null);\n  var resolvedHorizontalPadding = padding + anchor.horizontalPadding;\n  var resolvedVerticalPadding = padding + anchor.verticalPadding;\n\n  var renderProps = _objectSpread2({}, chartState, {}, chartState.tooltip, {\n    datum: resolvedFocused,\n    getStyle: function getStyle(datum) {\n      return datum.getStatusStyle(resolvedFocused, getDatumStyle);\n    },\n    primaryAxis: primaryAxis,\n    secondaryAxis: secondaryAxis\n  });\n\n  var renderedChildren = React.createElement(render, renderProps);\n  var animateCoords;\n\n  if (previousShowRef.current === show) {\n    animateCoords = true;\n  }\n\n  return React.createElement(\"div\", {\n    className: \"tooltip-wrap\",\n    style: {\n      pointerEvents: \"none\",\n      position: \"absolute\",\n      left: \"\".concat(gridX, \"px\"),\n      top: \"\".concat(gridY, \"px\"),\n      width: \"\".concat(gridWidth, \"px\"),\n      height: \"\".concat(gridHeight, \"px\"),\n      opacity: show ? 1 : 0,\n      transition: \"all .3s ease\"\n    },\n    ref: function ref(el) {\n      elRef.current = el;\n    }\n  }, React.createElement(\"div\", {\n    style: {\n      position: \"absolute\",\n      left: 0,\n      top: 0,\n      transform: Utils.translate(anchor.x, anchor.y),\n      transition: animateCoords ? \"all .2s ease\" : \"opacity .2s ease\"\n    }\n  }, React.createElement(\"div\", {\n    style: {\n      transform: \"translate3d(\".concat(alignX, \"%, \").concat(alignY, \"%, 0)\"),\n      padding: \"\".concat(tooltipArrowPadding + resolvedVerticalPadding, \"px \").concat(tooltipArrowPadding + resolvedHorizontalPadding, \"px\"),\n      width: \"auto\",\n      transition: \"all .2s ease\"\n    }\n  }, React.createElement(\"div\", {\n    ref: function ref(el) {\n      tooltipElRef.current = el;\n    },\n    style: {\n      fontSize: \"12px\",\n      padding: \"5px\",\n      background: getBackgroundColor(dark),\n      color: dark ? \"black\" : \"white\",\n      borderRadius: \"3px\",\n      position: \"relative\"\n    }\n  }, React.createElement(\"div\", {\n    style: _objectSpread2({\n      position: \"absolute\",\n      width: 0,\n      height: 0\n    }, triangleStyles, {\n      transition: animateCoords ? \"all .2s ease\" : \"none\"\n    })\n  }), renderedChildren))));\n}\n\nvar getLineBackgroundColor = function getLineBackgroundColor(dark) {\n  return dark ? \"rgba(255,255,255,.3)\" : \"rgba(0, 26, 39, 0.3)\";\n};\n\nvar getBackgroundColor$1 = function getBackgroundColor(dark) {\n  return dark ? \"rgba(255,255,255,.9)\" : \"rgba(0, 26, 39, 0.9)\";\n};\n\nfunction Cursor(_ref) {\n  var primary = _ref.primary;\n\n  var _React$useContext = React.useContext(ChartContext),\n      _React$useContext2 = _slicedToArray(_React$useContext, 1),\n      _React$useContext2$ = _React$useContext2[0],\n      primaryCursor = _React$useContext2$.primaryCursor,\n      secondaryCursor = _React$useContext2$.secondaryCursor,\n      focused = _React$useContext2$.focused,\n      latestFocused = _React$useContext2$.latestFocused,\n      gridX = _React$useContext2$.gridX,\n      gridY = _React$useContext2$.gridY,\n      dark = _React$useContext2$.dark;\n\n  var resolvedFocused = focused || latestFocused;\n  var cursor = primary ? primaryCursor : secondaryCursor;\n\n  var _ref2 = cursor || {},\n      showLine = _ref2.showLine,\n      showLabel = _ref2.showLabel,\n      resolvedValue = _ref2.resolvedValue,\n      snap = _ref2.snap,\n      render = _ref2.render,\n      axis = _ref2.axis,\n      siblingAxis = _ref2.siblingAxis,\n      resolvedShow = _ref2.resolvedShow;\n\n  var latestValue = useLatest(resolvedValue, typeof resolvedValue !== \"undefined\");\n  var previousShowRef = React.useRef();\n  React.useEffect(function () {\n    previousShowRef.current = resolvedShow;\n  }, [resolvedShow]);\n\n  if (!cursor) {\n    return null;\n  } // Should we animate?\n\n\n  var animated = snap || axis.type === \"ordinal\"; // Get the sibling range\n\n  var siblingRange = siblingAxis.scale.range();\n  var x;\n  var y;\n  var x1;\n  var x2;\n  var y1;\n  var y2;\n  var alignPctX;\n  var alignPctY; // Vertical alignment\n\n  if (axis.vertical) {\n    y = axis.scale(latestValue);\n    x1 = siblingRange[0];\n    x2 = siblingRange[1];\n    y1 = y - 1;\n    y2 = y + axis.cursorSize + 1;\n\n    if (axis.position === \"left\") {\n      alignPctX = -100;\n      alignPctY = -50;\n    } else {\n      alignPctX = 0;\n      alignPctY = -50;\n    }\n  } else {\n    x = axis.scale(latestValue);\n    x1 = x - 1;\n    x2 = x + axis.cursorSize + 1;\n    y1 = siblingRange[0];\n    y2 = siblingRange[1];\n\n    if (axis.position === \"top\") {\n      alignPctX = -500;\n      alignPctY = -100;\n    } else {\n      alignPctX = -50;\n      alignPctY = 0;\n    }\n  }\n\n  var renderProps = _objectSpread2({}, cursor);\n\n  renderProps.formattedValue = String(axis.vertical ? typeof latestValue !== \"undefined\" ? axis.format(axis.stacked && !primary && resolvedFocused ? resolvedFocused.totalValue : latestValue) : \"\" : typeof latestValue !== \"undefined\" ? axis.format(axis.stacked && !primary && resolvedFocused ? resolvedFocused.totalValue : latestValue) : \"\");\n  var lineStartX = Math.min(x1, x2);\n  var lineStartY = Math.min(y1, y2);\n  var lineEndX = Math.max(x1, x2);\n  var lineEndY = Math.max(y1, y2);\n  var bubbleX = axis.vertical && axis.RTL ? lineEndX : x1 + (!axis.vertical ? (x2 - x1) / 2 : 0) + (!axis.vertical ? 1 : 0);\n  var bubbleY = !axis.vertical && axis.RTL ? lineStartY : y1 + (axis.vertical ? (y2 - y1) / 2 : 0) + (axis.vertical ? 1 : 0);\n  var lineHeight = Math.max(lineEndY - lineStartY, 0);\n  var lineWidth = Math.max(lineEndX - lineStartX, 0);\n  var animateCoords;\n\n  if (previousShowRef.current === resolvedShow) {\n    animateCoords = true;\n  }\n\n  var renderedChildren = render(renderProps);\n  return React.createElement(\"div\", {\n    style: {\n      pointerEvents: \"none\",\n      position: \"absolute\",\n      top: 0,\n      left: 0,\n      transform: Utils.translate(gridX, gridY),\n      opacity: resolvedShow ? 1 : 0,\n      transition: \"all .3s ease\"\n    },\n    className: \"Cursor\"\n  }, showLine ? React.createElement(\"div\", {\n    style: {\n      position: \"absolute\",\n      top: 0,\n      left: 0,\n      transform: Utils.translate(lineStartX, lineStartY),\n      width: \"\".concat(lineWidth, \"px\"),\n      height: \"\".concat(lineHeight, \"px\"),\n      background: getLineBackgroundColor(dark),\n      transition: animated && animateCoords ? \"all .2s ease\" : \"opacity .2s ease\"\n    }\n  }) : null, showLabel ? React.createElement(\"div\", {\n    style: {\n      position: \"absolute\",\n      top: 0,\n      left: 0,\n      transform: Utils.translate(bubbleX, bubbleY),\n      transition: animated && animateCoords ? \"all .2s ease\" : \"opacity .2s ease\"\n    }\n  }, React.createElement(\"div\", {\n    style: {\n      padding: \"5px\",\n      fontSize: \"10px\",\n      background: getBackgroundColor$1(dark),\n      color: getBackgroundColor$1(!dark),\n      borderRadius: \"3px\",\n      position: \"relative\",\n      transform: \"translate3d(\".concat(alignPctX, \"%, \").concat(alignPctY, \"%, 0)\"),\n      whiteSpace: \"nowrap\"\n    }\n  }, renderedChildren)) : null);\n}\n\nfunction Brush() {\n  var _React$useContext = React.useContext(ChartContext),\n      _React$useContext2 = _slicedToArray(_React$useContext, 1),\n      _React$useContext2$ = _React$useContext2[0],\n      pointer = _React$useContext2$.pointer,\n      brush = _React$useContext2$.brush,\n      gridX = _React$useContext2$.gridX,\n      gridY = _React$useContext2$.gridY,\n      gridHeight = _React$useContext2$.gridHeight,\n      dark = _React$useContext2$.dark;\n\n  if (!brush) {\n    return null;\n  }\n\n  return React.createElement(\"div\", {\n    className: \"Brush\",\n    style: {\n      pointerEvents: \"none\",\n      position: \"absolute\",\n      left: 0,\n      top: 0,\n      transform: Utils.translate(gridX, gridY),\n      opacity: pointer.dragging ? Math.abs(pointer.sourceX - pointer.x) < 20 ? 0.5 : 1 : 0\n    }\n  }, React.createElement(\"div\", {\n    style: _objectSpread2({\n      position: \"absolute\",\n      transform: Utils.translate(Math.min(pointer.x, pointer.sourceX), 0),\n      width: \"\".concat(Math.abs(pointer.x - pointer.sourceX), \"px\"),\n      height: \"\".concat(gridHeight, \"px\"),\n      background: dark ? \"rgba(255,255,255,.3)\" : \"rgba(0, 26, 39, 0.3)\"\n    }, brush.style)\n  }));\n}\n\nBrush.defaultProps = {\n  onSelect: function onSelect() {}\n};\nvar ChartInner = React.forwardRef(function ChartInner(_ref, ref) {\n  var className = _ref.className,\n      _ref$style = _ref.style,\n      style = _ref$style === void 0 ? {} : _ref$style,\n      rest = _objectWithoutProperties(_ref, [\"className\", \"style\"]);\n\n  var _React$useContext = React.useContext(ChartContext),\n      _React$useContext2 = _slicedToArray(_React$useContext, 1),\n      chartState = _React$useContext2[0];\n\n  var _React$useContext3 = React.useContext(ChartContext),\n      _React$useContext4 = _slicedToArray(_React$useContext3, 2),\n      _React$useContext4$ = _React$useContext4[0],\n      width = _React$useContext4$.width,\n      height = _React$useContext4$.height,\n      offset = _React$useContext4$.offset,\n      gridX = _React$useContext4$.gridX,\n      gridY = _React$useContext4$.gridY,\n      stackData = _React$useContext4$.stackData,\n      primaryAxes = _React$useContext4$.primaryAxes,\n      secondaryAxes = _React$useContext4$.secondaryAxes,\n      renderSVG = _React$useContext4$.renderSVG,\n      onClick = _React$useContext4$.onClick,\n      seriesOptions = _React$useContext4$.seriesOptions,\n      getSeriesOrder = _React$useContext4$.getSeriesOrder,\n      focused = _React$useContext4$.focused,\n      setChartState = _React$useContext4[1];\n\n  var svgRef = React.useRef();\n  React.useLayoutEffect(function () {\n    if (!svgRef.current) {\n      return;\n    }\n\n    var current = svgRef.current.getBoundingClientRect();\n\n    if (current.left !== offset.left || current.top !== offset.top) {\n      setChartState(function (state) {\n        return _objectSpread2({}, state, {\n          offset: {\n            left: current.left,\n            top: current.top\n          }\n        });\n      });\n    }\n  });\n\n  var _onMouseLeave = function onMouseLeave(e) {\n    setChartState(function (state) {\n      return _objectSpread2({}, state, {\n        focused: null\n      });\n    });\n    setChartState(function (state) {\n      return _objectSpread2({}, state, {\n        pointer: _objectSpread2({}, state.pointer, {\n          active: false\n        })\n      });\n    });\n  };\n\n  var rafRef = React.useRef();\n\n  var _onMouseMove = function onMouseMove(e) {\n    if (rafRef.current) {\n      raf_1.cancel(rafRef.current);\n    }\n\n    rafRef.current = raf_1(function () {\n      rafRef.current = null;\n      var clientX = e.clientX,\n          clientY = e.clientY;\n      setChartState(function (state) {\n        var x = clientX - offset.left - gridX;\n        var y = clientY - offset.top - gridY;\n\n        var pointer = _objectSpread2({}, state.pointer, {\n          active: true,\n          x: x,\n          y: y,\n          dragging: state.pointer && state.pointer.down\n        });\n\n        return _objectSpread2({}, state, {\n          pointer: pointer\n        });\n      });\n    });\n  };\n\n  var onMouseUp = function onMouseUp() {\n    document.removeEventListener(\"mouseup\", onMouseUp);\n    document.removeEventListener(\"mousemove\", _onMouseMove);\n    setChartState(function (state) {\n      return _objectSpread2({}, state, {\n        pointer: _objectSpread2({}, state.pointer, {\n          down: false,\n          dragging: false,\n          released: {\n            x: state.pointer.x,\n            y: state.pointer.y\n          }\n        })\n      });\n    });\n  };\n\n  var _onMouseDown = function onMouseDown() {\n    document.addEventListener(\"mouseup\", onMouseUp);\n    document.addEventListener(\"mousemove\", _onMouseMove);\n    setChartState(function (state) {\n      return _objectSpread2({}, state, {\n        pointer: _objectSpread2({}, state.pointer, {\n          sourceX: state.pointer.x,\n          sourceY: state.pointer.y,\n          down: true\n        })\n      });\n    });\n  }; // Reverse the stack order for proper z-indexing\n\n\n  var reversedStackData = _toConsumableArray(stackData).reverse();\n\n  var orderedStackData = getSeriesOrder(reversedStackData);\n  var focusedSeriesIndex = focused ? orderedStackData.findIndex(function (series) {\n    return series.id === focused.series.id;\n  }) : -1; // Bring focused series to the front\n\n  var focusOrderedStackData = focused ? [].concat(_toConsumableArray(orderedStackData.slice(0, focusedSeriesIndex)), _toConsumableArray(orderedStackData.slice(focusedSeriesIndex + 1)), [orderedStackData[focusedSeriesIndex]]) : orderedStackData;\n  var stacks = focusOrderedStackData.map(function (stack) {\n    return React.createElement(stack.Component, _extends({\n      key: stack.id\n    }, seriesOptions[stack.index], {\n      series: stack,\n      stackData: stackData\n    }));\n  });\n  return React.createElement(\"div\", _extends({\n    ref: ref\n  }, rest, {\n    className: \"ReactChart \".concat(className || \"\"),\n    style: _objectSpread2({\n      width: width,\n      height: height,\n      position: \"relative\"\n    }, style)\n  }), React.createElement(\"svg\", {\n    ref: svgRef,\n    style: {\n      width: width,\n      height: height,\n      overflow: \"hidden\"\n    },\n    onMouseEnter: function onMouseEnter(e) {\n      return e.persist() || _onMouseMove(e);\n    },\n    onMouseMove: function onMouseMove(e) {\n      return e.persist() || _onMouseMove(e);\n    },\n    onMouseLeave: function onMouseLeave(e) {\n      return e.persist() || _onMouseLeave();\n    },\n    onMouseDown: function onMouseDown(e) {\n      return e.persist() || _onMouseDown();\n    },\n    onClick: onClick\n  }, React.createElement(\"g\", {\n    style: {\n      transform: Utils.translate(gridX, gridY)\n    }\n  }, React.createElement(Rectangle // To ensure the pointer always has something to hit\n  , {\n    x1: -gridX,\n    x2: width - gridX,\n    y1: -gridY,\n    y2: height - gridY,\n    style: {\n      opacity: 0\n    }\n  }), React.createElement(Voronoi, null), React.createElement(\"g\", {\n    className: \"axes\"\n  }, [].concat(_toConsumableArray(primaryAxes), _toConsumableArray(secondaryAxes)).map(function (axis) {\n    return React.createElement(Axis, _extends({\n      key: axis.id\n    }, axis));\n  })), React.createElement(\"g\", {\n    className: \"Series\",\n    style: {\n      pointerEvents: \"none\"\n    }\n  }, stacks)), renderSVG ? renderSVG({\n    chartState: chartState,\n    setChartState: setChartState\n  }) : null), React.createElement(Cursor, {\n    primary: true\n  }), React.createElement(Cursor, null), React.createElement(Brush, null), React.createElement(Tooltip, null));\n});\n\nvar calculateMaterializeData = function (_ref) {\n  var data = _ref.data,\n      getSeriesID = _ref.getSeriesID,\n      getLabel = _ref.getLabel,\n      getPrimaryAxisID = _ref.getPrimaryAxisID,\n      getSecondaryAxisID = _ref.getSecondaryAxisID,\n      getDatums = _ref.getDatums,\n      getPrimary = _ref.getPrimary,\n      getSecondary = _ref.getSecondary,\n      getR = _ref.getR;\n  return React.useMemo(function () {\n    var materializedData = []; // First access the data, and provide it to the context\n\n    for (var seriesIndex = 0; seriesIndex < data.length; seriesIndex++) {\n      var originalSeries = data[seriesIndex];\n      var seriesID = getSeriesID(originalSeries, seriesIndex, data);\n      var seriesLabel = getLabel(originalSeries, seriesIndex, data);\n      var primaryAxisID = getPrimaryAxisID(originalSeries, seriesIndex, data);\n      var secondaryAxisID = getSecondaryAxisID(originalSeries, seriesIndex, data);\n      var originalDatums = getDatums(originalSeries, seriesIndex, data);\n      var datums = [];\n\n      for (var datumIndex = 0; datumIndex < originalDatums.length; datumIndex++) {\n        var originalDatum = originalDatums[datumIndex];\n        datums[datumIndex] = {\n          originalSeries: originalSeries,\n          seriesIndex: seriesIndex,\n          seriesID: seriesID,\n          seriesLabel: seriesLabel,\n          index: datumIndex,\n          originalDatum: originalDatum,\n          primary: getPrimary(originalDatum, datumIndex, originalSeries, seriesIndex, data),\n          secondary: getSecondary(originalDatum, datumIndex, originalSeries, seriesIndex, data),\n          r: getR(originalDatum, datumIndex, originalSeries, seriesIndex, data)\n        };\n      }\n\n      materializedData[seriesIndex] = {\n        originalSeries: originalSeries,\n        index: seriesIndex,\n        id: seriesID,\n        label: seriesLabel,\n        primaryAxisID: primaryAxisID,\n        secondaryAxisID: secondaryAxisID,\n        datums: datums\n      };\n    }\n\n    return materializedData;\n  }, [data, getDatums, getLabel, getPrimary, getPrimaryAxisID, getR, getSecondary, getSecondaryAxisID, getSeriesID]);\n};\n\nfunction usePropsMemo(fn) {\n  var obj = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var watchRef = React.useRef({\n    style: {},\n    props: {}\n  });\n  var valueRef = React.useRef();\n\n  var _obj$style = obj.style,\n      style = _obj$style === void 0 ? {} : _obj$style,\n      props = _objectWithoutProperties(obj, [\"style\"]);\n\n  if (Utils.shallowDiff(watchRef.current.style, style) || Utils.shallowDiff(watchRef.current.props, props)) {\n    watchRef.current = obj;\n    valueRef.current = fn();\n  }\n\n  return valueRef.current;\n}\n\nfunction useSeriesStyle(series) {\n  var _React$useContext = React.useContext(ChartContext),\n      _React$useContext2 = _slicedToArray(_React$useContext, 1),\n      _React$useContext2$ = _React$useContext2[0],\n      focused = _React$useContext2$.focused,\n      getSeriesStyle = _React$useContext2$.getSeriesStyle;\n\n  return series.getStatusStyle(focused, getSeriesStyle);\n}\n\nfunction useDatumStyle(datum) {\n  var _React$useContext = React.useContext(ChartContext),\n      _React$useContext2 = _slicedToArray(_React$useContext, 1),\n      _React$useContext2$ = _React$useContext2[0],\n      focused = _React$useContext2$.focused,\n      getDatumStyle = _React$useContext2$.getDatumStyle;\n\n  return datum.getStatusStyle(focused, getDatumStyle);\n}\n\nvar defaultStyle$4 = {\n  r: 2,\n  strokeWidth: \"1\",\n  stroke: \"#000000\",\n  fill: \"#000000\",\n  opacity: 1\n};\n\nfunction Circle$1(_ref) {\n  var x = _ref.x,\n      y = _ref.y,\n      r = _ref.r,\n      style = _ref.style,\n      rest = _objectWithoutProperties(_ref, [\"x\", \"y\", \"r\", \"style\"]);\n\n  var resolvedStyle = _objectSpread2({}, defaultStyle$4, {}, style);\n\n  return React.createElement(\"circle\", _extends({}, rest, {\n    cx: x || 0,\n    cy: y || 0,\n    r: 1,\n    style: resolvedStyle\n  }));\n}\n\nvar pathDefaultStyle = {\n  strokeWidth: 2\n};\nvar circleDefaultStyle = {\n  r: 2\n};\n\nfunction Line$1(_ref) {\n  var series = _ref.series,\n      showPoints = _ref.showPoints,\n      curve = _ref.curve;\n  var lineFn = React.useMemo(function () {\n    return line().x(function (d) {\n      return d.x;\n    }).y(function (d) {\n      return d.y;\n    }).defined(function (d) {\n      return d.defined;\n    }).curve(curve);\n  }, [curve]);\n  var path = React.useMemo(function () {\n    return lineFn(series.datums);\n  }, [lineFn, series.datums]);\n  var style = useSeriesStyle(series);\n  var pathProps = {\n    d: path,\n    style: _objectSpread2({}, pathDefaultStyle, {}, style, {}, style.line, {\n      fill: \"none\"\n    })\n  };\n  var renderedPath = usePropsMemo(function () {\n    return React.createElement(Path$1, pathProps);\n  }, pathProps);\n  return React.useMemo(function () {\n    return React.createElement(\"g\", null, renderedPath, showPoints && series.datums.map(function (datum, i) {\n      return React.createElement(Point, {\n        key: i,\n        datum: datum,\n        style: style\n      });\n    }));\n  }, [renderedPath, series.datums, showPoints, style]);\n}\n\nLine$1.defaultProps = {\n  curve: monotoneX\n};\n\nLine$1.plotDatum = function (datum, _ref2) {\n  var primaryAxis = _ref2.primaryAxis,\n      secondaryAxis = _ref2.secondaryAxis,\n      xAxis = _ref2.xAxis,\n      yAxis = _ref2.yAxis;\n  datum.primaryCoord = primaryAxis.scale(datum.primary);\n  datum.secondaryCoord = secondaryAxis.scale(datum.secondary);\n  datum.x = xAxis.scale(datum.xValue);\n  datum.y = yAxis.scale(datum.yValue);\n  datum.defined = Utils.isValidPoint(datum.xValue) && Utils.isValidPoint(datum.yValue);\n  datum.base = primaryAxis.vertical ? xAxis.scale(datum.baseValue) : yAxis.scale(datum.baseValue); // Adjust non-bar elements for ordinal scales\n\n  if (xAxis.type === \"ordinal\") {\n    datum.x += xAxis.tickOffset;\n  }\n\n  if (yAxis.type === \"ordinal\") {\n    datum.y += yAxis.tickOffset;\n  } // Set the default anchor point\n\n\n  datum.anchor = {\n    x: datum.x,\n    y: datum.y\n  }; // Set the pointer points (used in voronoi)\n\n  datum.boundingPoints = [datum.anchor];\n};\n\nLine$1.buildStyles = function (series, _ref3) {\n  var defaultColors = _ref3.defaultColors;\n  var defaults = {\n    // Pass some sane defaults\n    color: defaultColors[series.index % (defaultColors.length - 1)]\n  };\n  Utils.buildStyleGetters(series, defaults);\n};\n\nfunction Point(_ref4) {\n  var datum = _ref4.datum,\n      style = _ref4.style;\n\n  var _React$useContext = React.useContext(ChartContext),\n      _React$useContext2 = _slicedToArray(_React$useContext, 2),\n      setChartState = _React$useContext2[1];\n\n  var dataStyle = useDatumStyle(datum);\n  var circleProps = {\n    x: datum ? datum.x : undefined,\n    y: datum ? datum.y : undefined,\n    style: _objectSpread2({}, circleDefaultStyle, {}, style, {}, style.circle, {}, dataStyle, {}, dataStyle.circle),\n    onMouseEnter: function onMouseEnter(e) {\n      return setChartState(function (state) {\n        return _objectSpread2({}, state, {\n          element: datum\n        });\n      });\n    },\n    onMouseLeave: function onMouseLeave(e) {\n      return setChartState(function (state) {\n        return _objectSpread2({}, state, {\n          element: null\n        });\n      });\n    }\n  };\n  return usePropsMemo(function () {\n    if (!datum.defined) {\n      return null;\n    }\n\n    return React.createElement(Circle$1, circleProps);\n  }, circleProps);\n}\n\nvar circleDefaultStyle$1 = {\n  r: 2\n};\n\nfunction Bubble(_ref) {\n  var series = _ref.series;\n  var style = useSeriesStyle(series);\n  return React.createElement(\"g\", null, series.datums.map(function (datum, i) {\n    return React.createElement(Point$1, {\n      key: i,\n      datum: datum,\n      style: style\n    });\n  }));\n}\n\nBubble.plotDatum = function (datum, _ref2) {\n  var primaryAxis = _ref2.primaryAxis,\n      secondaryAxis = _ref2.secondaryAxis,\n      xAxis = _ref2.xAxis,\n      yAxis = _ref2.yAxis;\n  datum.primaryCoord = primaryAxis.scale(datum.primary);\n  datum.secondaryCoord = secondaryAxis.scale(datum.secondary);\n  datum.x = xAxis.scale(datum.xValue);\n  datum.y = yAxis.scale(datum.yValue);\n  datum.defined = Utils.isValidPoint(datum.xValue) && Utils.isValidPoint(datum.yValue);\n  datum.base = primaryAxis.vertical ? xAxis.scale(datum.baseValue) : yAxis.scale(datum.baseValue); // Adjust non-bar elements for ordinal scales\n\n  if (xAxis.type === \"ordinal\") {\n    datum.x += xAxis.tickOffset;\n  }\n\n  if (yAxis.type === \"ordinal\") {\n    datum.y += yAxis.tickOffset;\n  } // Set the default anchor point\n\n\n  datum.anchor = {\n    x: datum.x,\n    y: datum.y,\n    verticalPadding: datum.r,\n    horizontalPadding: datum.r\n  }; // Set the pointer points (used in voronoi)\n\n  datum.boundingPoints = [datum.anchor];\n};\n\nBubble.buildStyles = function (series, _ref3) {\n  var defaultColors = _ref3.defaultColors;\n  var defaults = {\n    // Pass some sane defaults\n    color: defaultColors[series.index % (defaultColors.length - 1)]\n  };\n  Utils.buildStyleGetters(series, defaults);\n};\n\nfunction Point$1(_ref4) {\n  var datum = _ref4.datum,\n      style = _ref4.style;\n  var dataStyle = useDatumStyle(datum);\n\n  var _React$useContext = React.useContext(ChartContext),\n      _React$useContext2 = _slicedToArray(_React$useContext, 2),\n      setChartState = _React$useContext2[1];\n\n  var circleProps = {\n    x: datum ? datum.x : undefined,\n    y: datum ? datum.y : undefined,\n    style: _objectSpread2({}, circleDefaultStyle$1, {}, typeof datum.r !== \"undefined\" ? {\n      r: datum.r\n    } : {}, {}, style, {}, style.circle, {}, dataStyle, {}, dataStyle.circle),\n    onMouseEnter: function onMouseEnter(e) {\n      return setChartState(function (state) {\n        return _objectSpread2({}, state, {\n          element: datum\n        });\n      });\n    },\n    onMouseLeave: function onMouseLeave(e) {\n      return setChartState(function (state) {\n        return _objectSpread2({}, state, {\n          element: null\n        });\n      });\n    }\n  };\n  return usePropsMemo(function () {\n    if (!datum.defined) {\n      return null;\n    }\n\n    return React.createElement(Circle$1, circleProps);\n  }, circleProps);\n}\n\nvar defaultAreaStyle = {\n  strokeWidth: 0\n};\nvar lineDefaultStyle = {\n  strokeWidth: 3\n};\n\nfunction Area(_ref) {\n  var series = _ref.series,\n      showOrphans = _ref.showOrphans,\n      curve = _ref.curve;\n  var areaFn = React.useMemo(function () {\n    return area().x(function (d) {\n      return d.x;\n    }).y0(function (d) {\n      return d.base;\n    }).y1(function (d) {\n      return d.y;\n    }).defined(function (d) {\n      return d.defined;\n    }).curve(curve);\n  }, [curve]);\n  var lineFn = React.useMemo(function () {\n    return line().x(function (d) {\n      return d.x;\n    }).y(function (d) {\n      return d.y;\n    }).defined(function (d) {\n      return d.defined;\n    }).curve(curve);\n  }, [curve]);\n  var areaPath = React.useMemo(function () {\n    return areaFn(series.datums);\n  }, [areaFn, series.datums]);\n  var linePath = React.useMemo(function () {\n    return lineFn(series.datums);\n  }, [lineFn, series.datums]);\n  var style = useSeriesStyle(series);\n  var areaPathProps = {\n    d: areaPath,\n    style: _objectSpread2({}, defaultAreaStyle, {}, style, {}, style.line)\n  };\n  var renderedAreaPath = usePropsMemo(function () {\n    return React.createElement(Path$1, areaPathProps);\n  }, areaPathProps);\n  var linePathProps = {\n    d: linePath,\n    style: _objectSpread2({}, defaultAreaStyle, {}, style, {}, style.line, {\n      fill: \"none\"\n    })\n  };\n  var renderedLinePath = usePropsMemo(function () {\n    return React.createElement(Path$1, linePathProps);\n  }, linePathProps);\n  return React.createElement(\"g\", null, renderedAreaPath, renderedLinePath, showOrphans && series.datums.map(function (datum, index, all) {\n    return React.createElement(OrphanLine, {\n      key: index,\n      datum: datum,\n      style: style,\n      all: all,\n      index: index\n    });\n  }));\n}\n\nArea.defaultProps = {\n  showOrphans: true,\n  curve: curveLinear\n};\n\nArea.plotDatum = function (datum, _ref2) {\n  var primaryAxis = _ref2.primaryAxis,\n      secondaryAxis = _ref2.secondaryAxis,\n      xAxis = _ref2.xAxis,\n      yAxis = _ref2.yAxis; // Turn clamping on for secondaryAxis\n\n  secondaryAxis.scale.clamp(true);\n  datum.primaryCoord = primaryAxis.scale(datum.primary);\n  datum.secondaryCoord = secondaryAxis.scale(datum.secondary);\n  datum.x = xAxis.scale(datum.xValue);\n  datum.y = yAxis.scale(datum.yValue);\n  datum.defined = Utils.isValidPoint(datum.xValue) && Utils.isValidPoint(datum.yValue);\n  datum.base = primaryAxis.vertical ? xAxis.scale(datum.baseValue) : yAxis.scale(datum.baseValue); // Turn clamping back off for secondaryAxis\n\n  secondaryAxis.scale.clamp(false); // Adjust non-bar elements for ordinal scales\n\n  if (xAxis.type === \"ordinal\") {\n    datum.x += xAxis.tickOffset;\n  }\n\n  if (yAxis.type === \"ordinal\") {\n    datum.y += yAxis.tickOffset;\n  } // Set the default anchor point\n\n\n  datum.anchor = {\n    x: datum.x,\n    y: datum.y\n  }; // Set the pointer points (used in voronoi)\n\n  datum.boundingPoints = [datum.anchor, {\n    x: primaryAxis.vertical ? primaryAxis.position === \"left\" ? datum.base - 1 : datum.base : datum.anchor.x,\n    y: !primaryAxis.vertical ? primaryAxis.position === \"bottom\" ? datum.base - 1 : datum.base : datum.anchor.y\n  }];\n};\n\nArea.buildStyles = function (series, _ref3) {\n  var defaultColors = _ref3.defaultColors;\n  var defaults = {\n    // Pass some sane defaults\n    color: defaultColors[series.index % (defaultColors.length - 1)]\n  };\n  Utils.buildStyleGetters(series, defaults);\n};\n\nvar OrphanLine = function OrphanLine(_ref4) {\n  var datum = _ref4.datum,\n      style = _ref4.style,\n      all = _ref4.all,\n      index = _ref4.index;\n  var prev = all[index - 1] || {\n    defined: false\n  };\n  var next = all[index + 1] || {\n    defined: false\n  };\n  var dataStyle = useDatumStyle(datum);\n  var lineProps = {\n    x1: !datum || Number.isNaN(datum.x) ? null : datum.x,\n    y1: !datum || Number.isNaN(datum.base) ? null : datum.base,\n    x2: !datum || Number.isNaN(datum.x) ? null : datum.x,\n    y2: !datum || Number.isNaN(datum.y) ? null : datum.y,\n    style: _objectSpread2({}, lineDefaultStyle, {}, style, {}, style.line, {}, dataStyle, {}, dataStyle.line)\n  };\n  return usePropsMemo(function () {\n    if (!datum.defined || prev.defined || next.defined) {\n      return null;\n    }\n\n    return React.createElement(Line, lineProps);\n  }, lineProps);\n};\n\nfunction Bar(_ref) {\n  var series = _ref.series;\n\n  var _React$useContext = React.useContext(ChartContext),\n      _React$useContext2 = _slicedToArray(_React$useContext, 1),\n      primaryAxes = _React$useContext2[0].primaryAxes;\n\n  var style = useSeriesStyle(series);\n\n  var _ref2 = series.primaryAxisID ? primaryAxes.find(function (d) {\n    return d.id === series.primaryAxisID;\n  }) : primaryAxes[0],\n      barOffset = _ref2.barOffset;\n\n  return React.createElement(\"g\", {\n    className: \"series bar\"\n  }, series.datums.map(function (datum, i) {\n    return React.createElement(BarPiece, _extends({\n      key: i\n    }, {\n      datum: datum,\n      barOffset: barOffset,\n      style: style\n    }));\n  }));\n}\n\nfunction BarPiece(_ref3) {\n  var datum = _ref3.datum,\n      barOffset = _ref3.barOffset,\n      style = _ref3.style;\n\n  var _React$useContext3 = React.useContext(ChartContext),\n      _React$useContext4 = _slicedToArray(_React$useContext3, 2),\n      primaryAxes = _React$useContext4[0].primaryAxes,\n      setChartState = _React$useContext4[1];\n\n  var x = datum ? datum.x : 0;\n  var y = datum ? datum.y : 0;\n  var base = datum ? datum.base : 0;\n  var size = datum ? datum.size : 0;\n  var x1;\n  var y1;\n  var x2;\n  var y2;\n\n  if (primaryAxes.find(function (d) {\n    return d.vertical;\n  })) {\n    x1 = base;\n    x2 = x;\n    y1 = y + barOffset;\n    y2 = y1 + size;\n  } else {\n    x1 = x + barOffset;\n    x2 = x1 + size;\n    y1 = y;\n    y2 = base;\n  }\n\n  var dataStyle = useDatumStyle(datum);\n  var rectangleProps = {\n    style: _objectSpread2({\n      pointerEvents: \"all\"\n    }, style, {}, style.rectangle, {}, dataStyle, {}, dataStyle.rectangle),\n    x1: Number.isNaN(x1) ? null : x1,\n    y1: Number.isNaN(y1) ? null : y1,\n    x2: Number.isNaN(x2) ? null : x2,\n    y2: Number.isNaN(y2) ? null : y2,\n    onMouseEnter: function onMouseEnter(e) {\n      return setChartState(function (state) {\n        return _objectSpread2({}, state, {\n          element: datum\n        });\n      });\n    },\n    onMouseLeave: function onMouseLeave(e) {\n      return setChartState(function (state) {\n        return _objectSpread2({}, state, {\n          element: null\n        });\n      });\n    }\n  };\n  return usePropsMemo(function () {\n    return React.createElement(Rectangle, rectangleProps);\n  }, rectangleProps);\n}\n\nBar.plotDatum = function (datum, _ref4) {\n  var xAxis = _ref4.xAxis,\n      yAxis = _ref4.yAxis,\n      primaryAxis = _ref4.primaryAxis,\n      secondaryAxis = _ref4.secondaryAxis; // Turn clamping on for secondaryAxis\n\n  secondaryAxis.scale.clamp(true);\n  datum.primaryCoord = primaryAxis.scale(datum.primary);\n  datum.secondaryCoord = secondaryAxis.scale(datum.secondary);\n  datum.x = xAxis.scale(datum.xValue);\n  datum.y = yAxis.scale(datum.yValue);\n  datum.defined = Utils.isValidPoint(datum.xValue) && Utils.isValidPoint(datum.yValue);\n  datum.base = secondaryAxis.scale(datum.baseValue);\n  datum.size = primaryAxis.barSize; // Turn clamping back off for secondaryAxis\n\n  secondaryAxis.scale.clamp(false);\n\n  if (!secondaryAxis.stacked) {\n    datum.size = primaryAxis.seriesBarSize; // Use the seriesTypeIndex here in case we have mixed types.\n\n    var seriesBandScaleOffset = primaryAxis.seriesBandScale(datum.seriesTypeIndex);\n\n    if (secondaryAxis.vertical) {\n      datum.x += seriesBandScaleOffset;\n    } else {\n      datum.y += seriesBandScaleOffset;\n    }\n  } // Set the default anchor point\n\n\n  datum.anchor = {\n    x: datum.x,\n    y: datum.y,\n    horizontalPadding: secondaryAxis.vertical ? datum.size / 2 : 0,\n    verticalPadding: secondaryAxis.vertical ? 0 : datum.size / 2\n  }; // Adjust the anchor point for bars\n\n  if (!primaryAxis.vertical) {\n    datum.anchor.x += primaryAxis.type !== \"ordinal\" ? 0 : datum.size / 2;\n  } else {\n    datum.anchor.y += primaryAxis.type !== \"ordinal\" ? 0 : datum.size / 2;\n  } // Set the pointer points (used in voronoi)\n\n\n  datum.boundingPoints = [// End of bar\n  datum.anchor, // Start of bar\n  {\n    x: primaryAxis.vertical ? primaryAxis.position === \"left\" ? datum.base + 1 : datum.base : datum.anchor.x,\n    y: !primaryAxis.vertical ? primaryAxis.position === \"bottom\" ? datum.base - 1 : datum.base : datum.anchor.y\n  }];\n};\n\nBar.buildStyles = function (series, _ref5) {\n  var defaultColors = _ref5.defaultColors;\n  var defaults = {\n    // Pass some sane defaults\n    color: defaultColors[series.index % (defaultColors.length - 1)]\n  };\n  Utils.buildStyleGetters(series, defaults);\n};\n\nvar seriesTypes = {\n  line: Line$1,\n  bubble: Bubble,\n  area: Area,\n  bar: Bar // pie: Pie\n\n};\nvar defaultSeries = {\n  type: 'line',\n  showPoints: true,\n  showOrphans: true,\n  curve: monotoneX\n};\nvar seriesPropType = PropTypes.oneOfType([PropTypes.shape({\n  type: PropTypes.string,\n  showPoints: PropTypes.bool,\n  showOrphans: PropTypes.bool,\n  curve: PropTypes.func\n}), PropTypes.func]);\n\nvar calculateSeriesOptions = function (_ref) {\n  var materializedData = _ref.materializedData,\n      series = _ref.series;\n  return React.useMemo(function () {\n    return materializedData.map(function (s, seriesIndex) {\n      var _defaultSeries = _objectSpread2({}, defaultSeries, {}, typeof series === 'function' ? series(s, seriesIndex) : series),\n          type = _defaultSeries.type,\n          rest = _objectWithoutProperties(_defaultSeries, [\"type\"]);\n\n      var renderer = seriesTypes[type];\n\n      if (!renderer) {\n        throw new Error(\"Could not find a registered series type for \".concat(type));\n      }\n\n      return _objectSpread2({}, rest, {\n        type: type,\n        renderer: renderer\n      });\n    });\n  }, [materializedData, series]);\n};\n\nvar calculateSeriesTypes = function (_ref) {\n  var materializedData = _ref.materializedData,\n      seriesOptions = _ref.seriesOptions;\n  return React.useMemo(function () {\n    return materializedData.map(function (series, i) {\n      series.Component = seriesOptions[i].renderer;\n      return series;\n    }).map(function (series, i, all) {\n      var seriesTypeIndex = all.filter(function (d, j) {\n        return j < i && d.Component === series.Component;\n      }).length;\n      return _objectSpread2({}, series, {\n        seriesTypeIndex: seriesTypeIndex,\n        datums: series.datums.map(function (datum) {\n          return _objectSpread2({}, datum, {\n            seriesTypeIndex: seriesTypeIndex\n          });\n        })\n      });\n    });\n  }, [materializedData, seriesOptions]);\n};\n\nvar calculateDimensions = function (_ref) {\n  var width = _ref.width,\n      height = _ref.height,\n      axisDimensions = _ref.axisDimensions,\n      padding = _ref.padding,\n      offset = _ref.offset;\n  offset = React.useMemo(function () {\n    return {\n      left: offset.left || 0,\n      top: offset.top || 0\n    };\n  }, [offset]);\n\n  var _React$useMemo = React.useMemo(function () {\n    // Left\n    var axesLeftWidth = axisDimensions.left && Utils.sumObjBy(axisDimensions.left, 'width') || 0;\n    var axesLeftTop = axisDimensions.left && Utils.sumObjBy(axisDimensions.left, 'top') || 0;\n    var axesLeftBottom = axisDimensions.left && Utils.sumObjBy(axisDimensions.left, 'bottom') || 0; // Right\n\n    var axesRightWidth = axisDimensions.right && Utils.sumObjBy(axisDimensions.right, 'width') || 0;\n    var axesRightTop = axisDimensions.right && Utils.sumObjBy(axisDimensions.right, 'top') || 0;\n    var axesRightBottom = axisDimensions.right && Utils.sumObjBy(axisDimensions.right, 'bottom') || 0; // Top\n\n    var axesTopHeight = axisDimensions.top && Utils.sumObjBy(axisDimensions.top, 'height') || 0;\n    var axesTopLeft = axisDimensions.top && Utils.sumObjBy(axisDimensions.top, 'left') || 0;\n    var axesTopRight = axisDimensions.top && Utils.sumObjBy(axisDimensions.top, 'right') || 0; // Bottom\n\n    var axesBottomHeight = axisDimensions.bottom && Utils.sumObjBy(axisDimensions.bottom, 'height') || 0;\n    var axesBottomLeft = axisDimensions.bottom && Utils.sumObjBy(axisDimensions.bottom, 'left') || 0;\n    var axesBottomRight = axisDimensions.bottom && Utils.sumObjBy(axisDimensions.bottom, 'right') || 0;\n    var paddingLeft = padding.left || 0;\n    var paddingRight = padding.right || 0;\n    var paddingTop = padding.top || 0;\n    var paddingBottom = padding.bottom || 0;\n    var gridX = paddingLeft + Math.max(axesLeftWidth, axesTopLeft, axesBottomLeft);\n    var gridY = paddingTop + Math.max(axesTopHeight, axesLeftTop, axesRightTop);\n    var gridWidth = width - paddingLeft - paddingRight - Math.max(axesLeftWidth, axesTopLeft, axesBottomLeft) - Math.max(axesRightWidth, axesTopRight, axesBottomRight);\n    var gridHeight = height - paddingTop - paddingBottom - Math.max(axesTopHeight, axesLeftTop, axesRightTop) - Math.max(axesBottomHeight, axesLeftBottom, axesRightBottom);\n    return {\n      gridX: gridX,\n      gridY: gridY,\n      gridWidth: gridWidth,\n      gridHeight: gridHeight\n    };\n  }, [width, height, axisDimensions, padding]),\n      gridX = _React$useMemo.gridX,\n      gridY = _React$useMemo.gridY,\n      gridWidth = _React$useMemo.gridWidth,\n      gridHeight = _React$useMemo.gridHeight;\n\n  return {\n    offset: offset,\n    gridX: gridX,\n    gridY: gridY,\n    gridWidth: gridWidth,\n    gridHeight: gridHeight\n  };\n};\n\nfunction ascending(a, b) {\n  return a < b ? -1 : a > b ? 1 : a >= b ? 0 : NaN;\n}\n\nfunction bisector(compare) {\n  if (compare.length === 1) compare = ascendingComparator(compare);\n  return {\n    left: function (a, x, lo, hi) {\n      if (lo == null) lo = 0;\n      if (hi == null) hi = a.length;\n\n      while (lo < hi) {\n        var mid = lo + hi >>> 1;\n        if (compare(a[mid], x) < 0) lo = mid + 1;else hi = mid;\n      }\n\n      return lo;\n    },\n    right: function (a, x, lo, hi) {\n      if (lo == null) lo = 0;\n      if (hi == null) hi = a.length;\n\n      while (lo < hi) {\n        var mid = lo + hi >>> 1;\n        if (compare(a[mid], x) > 0) hi = mid;else lo = mid + 1;\n      }\n\n      return lo;\n    }\n  };\n}\n\nfunction ascendingComparator(f) {\n  return function (d, x) {\n    return ascending(f(d), x);\n  };\n}\n\nvar ascendingBisect = bisector(ascending);\nvar bisectRight = ascendingBisect.right;\n\nfunction sequence(start, stop, step) {\n  start = +start, stop = +stop, step = (n = arguments.length) < 2 ? (stop = start, start = 0, 1) : n < 3 ? 1 : +step;\n  var i = -1,\n      n = Math.max(0, Math.ceil((stop - start) / step)) | 0,\n      range = new Array(n);\n\n  while (++i < n) {\n    range[i] = start + i * step;\n  }\n\n  return range;\n}\n\nvar e10 = Math.sqrt(50),\n    e5 = Math.sqrt(10),\n    e2 = Math.sqrt(2);\n\nfunction ticks(start, stop, count) {\n  var reverse,\n      i = -1,\n      n,\n      ticks,\n      step;\n  stop = +stop, start = +start, count = +count;\n  if (start === stop && count > 0) return [start];\n  if (reverse = stop < start) n = start, start = stop, stop = n;\n  if ((step = tickIncrement(start, stop, count)) === 0 || !isFinite(step)) return [];\n\n  if (step > 0) {\n    start = Math.ceil(start / step);\n    stop = Math.floor(stop / step);\n    ticks = new Array(n = Math.ceil(stop - start + 1));\n\n    while (++i < n) ticks[i] = (start + i) * step;\n  } else {\n    start = Math.floor(start * step);\n    stop = Math.ceil(stop * step);\n    ticks = new Array(n = Math.ceil(start - stop + 1));\n\n    while (++i < n) ticks[i] = (start - i) / step;\n  }\n\n  if (reverse) ticks.reverse();\n  return ticks;\n}\n\nfunction tickIncrement(start, stop, count) {\n  var step = (stop - start) / Math.max(0, count),\n      power = Math.floor(Math.log(step) / Math.LN10),\n      error = step / Math.pow(10, power);\n  return power >= 0 ? (error >= e10 ? 10 : error >= e5 ? 5 : error >= e2 ? 2 : 1) * Math.pow(10, power) : -Math.pow(10, -power) / (error >= e10 ? 10 : error >= e5 ? 5 : error >= e2 ? 2 : 1);\n}\n\nfunction tickStep(start, stop, count) {\n  var step0 = Math.abs(stop - start) / Math.max(0, count),\n      step1 = Math.pow(10, Math.floor(Math.log(step0) / Math.LN10)),\n      error = step0 / step1;\n  if (error >= e10) step1 *= 10;else if (error >= e5) step1 *= 5;else if (error >= e2) step1 *= 2;\n  return stop < start ? -step1 : step1;\n}\n\nfunction initRange(domain, range) {\n  switch (arguments.length) {\n    case 0:\n      break;\n\n    case 1:\n      this.range(domain);\n      break;\n\n    default:\n      this.range(range).domain(domain);\n      break;\n  }\n\n  return this;\n}\n\nconst implicit = Symbol(\"implicit\");\n\nfunction ordinal() {\n  var index = new Map(),\n      domain = [],\n      range = [],\n      unknown = implicit;\n\n  function scale(d) {\n    var key = d + \"\",\n        i = index.get(key);\n\n    if (!i) {\n      if (unknown !== implicit) return unknown;\n      index.set(key, i = domain.push(d));\n    }\n\n    return range[(i - 1) % range.length];\n  }\n\n  scale.domain = function (_) {\n    if (!arguments.length) return domain.slice();\n    domain = [], index = new Map();\n\n    for (const value of _) {\n      const key = value + \"\";\n      if (index.has(key)) continue;\n      index.set(key, domain.push(value));\n    }\n\n    return scale;\n  };\n\n  scale.range = function (_) {\n    return arguments.length ? (range = Array.from(_), scale) : range.slice();\n  };\n\n  scale.unknown = function (_) {\n    return arguments.length ? (unknown = _, scale) : unknown;\n  };\n\n  scale.copy = function () {\n    return ordinal(domain, range).unknown(unknown);\n  };\n\n  initRange.apply(scale, arguments);\n  return scale;\n}\n\nfunction band() {\n  var scale = ordinal().unknown(undefined),\n      domain = scale.domain,\n      ordinalRange = scale.range,\n      r0 = 0,\n      r1 = 1,\n      step,\n      bandwidth,\n      round = false,\n      paddingInner = 0,\n      paddingOuter = 0,\n      align = 0.5;\n  delete scale.unknown;\n\n  function rescale() {\n    var n = domain().length,\n        reverse = r1 < r0,\n        start = reverse ? r1 : r0,\n        stop = reverse ? r0 : r1;\n    step = (stop - start) / Math.max(1, n - paddingInner + paddingOuter * 2);\n    if (round) step = Math.floor(step);\n    start += (stop - start - step * (n - paddingInner)) * align;\n    bandwidth = step * (1 - paddingInner);\n    if (round) start = Math.round(start), bandwidth = Math.round(bandwidth);\n    var values = sequence(n).map(function (i) {\n      return start + step * i;\n    });\n    return ordinalRange(reverse ? values.reverse() : values);\n  }\n\n  scale.domain = function (_) {\n    return arguments.length ? (domain(_), rescale()) : domain();\n  };\n\n  scale.range = function (_) {\n    return arguments.length ? ([r0, r1] = _, r0 = +r0, r1 = +r1, rescale()) : [r0, r1];\n  };\n\n  scale.rangeRound = function (_) {\n    return [r0, r1] = _, r0 = +r0, r1 = +r1, round = true, rescale();\n  };\n\n  scale.bandwidth = function () {\n    return bandwidth;\n  };\n\n  scale.step = function () {\n    return step;\n  };\n\n  scale.round = function (_) {\n    return arguments.length ? (round = !!_, rescale()) : round;\n  };\n\n  scale.padding = function (_) {\n    return arguments.length ? (paddingInner = Math.min(1, paddingOuter = +_), rescale()) : paddingInner;\n  };\n\n  scale.paddingInner = function (_) {\n    return arguments.length ? (paddingInner = Math.min(1, _), rescale()) : paddingInner;\n  };\n\n  scale.paddingOuter = function (_) {\n    return arguments.length ? (paddingOuter = +_, rescale()) : paddingOuter;\n  };\n\n  scale.align = function (_) {\n    return arguments.length ? (align = Math.max(0, Math.min(1, _)), rescale()) : align;\n  };\n\n  scale.copy = function () {\n    return band(domain(), [r0, r1]).round(round).paddingInner(paddingInner).paddingOuter(paddingOuter).align(align);\n  };\n\n  return initRange.apply(rescale(), arguments);\n}\n\nfunction define(constructor, factory, prototype) {\n  constructor.prototype = factory.prototype = prototype;\n  prototype.constructor = constructor;\n}\n\nfunction extend(parent, definition) {\n  var prototype = Object.create(parent.prototype);\n\n  for (var key in definition) prototype[key] = definition[key];\n\n  return prototype;\n}\n\nfunction Color() {}\n\nvar darker = 0.7;\nvar brighter = 1 / darker;\nvar reI = \"\\\\s*([+-]?\\\\d+)\\\\s*\",\n    reN = \"\\\\s*([+-]?\\\\d*\\\\.?\\\\d+(?:[eE][+-]?\\\\d+)?)\\\\s*\",\n    reP = \"\\\\s*([+-]?\\\\d*\\\\.?\\\\d+(?:[eE][+-]?\\\\d+)?)%\\\\s*\",\n    reHex = /^#([0-9a-f]{3,8})$/,\n    reRgbInteger = new RegExp(\"^rgb\\\\(\" + [reI, reI, reI] + \"\\\\)$\"),\n    reRgbPercent = new RegExp(\"^rgb\\\\(\" + [reP, reP, reP] + \"\\\\)$\"),\n    reRgbaInteger = new RegExp(\"^rgba\\\\(\" + [reI, reI, reI, reN] + \"\\\\)$\"),\n    reRgbaPercent = new RegExp(\"^rgba\\\\(\" + [reP, reP, reP, reN] + \"\\\\)$\"),\n    reHslPercent = new RegExp(\"^hsl\\\\(\" + [reN, reP, reP] + \"\\\\)$\"),\n    reHslaPercent = new RegExp(\"^hsla\\\\(\" + [reN, reP, reP, reN] + \"\\\\)$\");\nvar named = {\n  aliceblue: 0xf0f8ff,\n  antiquewhite: 0xfaebd7,\n  aqua: 0x00ffff,\n  aquamarine: 0x7fffd4,\n  azure: 0xf0ffff,\n  beige: 0xf5f5dc,\n  bisque: 0xffe4c4,\n  black: 0x000000,\n  blanchedalmond: 0xffebcd,\n  blue: 0x0000ff,\n  blueviolet: 0x8a2be2,\n  brown: 0xa52a2a,\n  burlywood: 0xdeb887,\n  cadetblue: 0x5f9ea0,\n  chartreuse: 0x7fff00,\n  chocolate: 0xd2691e,\n  coral: 0xff7f50,\n  cornflowerblue: 0x6495ed,\n  cornsilk: 0xfff8dc,\n  crimson: 0xdc143c,\n  cyan: 0x00ffff,\n  darkblue: 0x00008b,\n  darkcyan: 0x008b8b,\n  darkgoldenrod: 0xb8860b,\n  darkgray: 0xa9a9a9,\n  darkgreen: 0x006400,\n  darkgrey: 0xa9a9a9,\n  darkkhaki: 0xbdb76b,\n  darkmagenta: 0x8b008b,\n  darkolivegreen: 0x556b2f,\n  darkorange: 0xff8c00,\n  darkorchid: 0x9932cc,\n  darkred: 0x8b0000,\n  darksalmon: 0xe9967a,\n  darkseagreen: 0x8fbc8f,\n  darkslateblue: 0x483d8b,\n  darkslategray: 0x2f4f4f,\n  darkslategrey: 0x2f4f4f,\n  darkturquoise: 0x00ced1,\n  darkviolet: 0x9400d3,\n  deeppink: 0xff1493,\n  deepskyblue: 0x00bfff,\n  dimgray: 0x696969,\n  dimgrey: 0x696969,\n  dodgerblue: 0x1e90ff,\n  firebrick: 0xb22222,\n  floralwhite: 0xfffaf0,\n  forestgreen: 0x228b22,\n  fuchsia: 0xff00ff,\n  gainsboro: 0xdcdcdc,\n  ghostwhite: 0xf8f8ff,\n  gold: 0xffd700,\n  goldenrod: 0xdaa520,\n  gray: 0x808080,\n  green: 0x008000,\n  greenyellow: 0xadff2f,\n  grey: 0x808080,\n  honeydew: 0xf0fff0,\n  hotpink: 0xff69b4,\n  indianred: 0xcd5c5c,\n  indigo: 0x4b0082,\n  ivory: 0xfffff0,\n  khaki: 0xf0e68c,\n  lavender: 0xe6e6fa,\n  lavenderblush: 0xfff0f5,\n  lawngreen: 0x7cfc00,\n  lemonchiffon: 0xfffacd,\n  lightblue: 0xadd8e6,\n  lightcoral: 0xf08080,\n  lightcyan: 0xe0ffff,\n  lightgoldenrodyellow: 0xfafad2,\n  lightgray: 0xd3d3d3,\n  lightgreen: 0x90ee90,\n  lightgrey: 0xd3d3d3,\n  lightpink: 0xffb6c1,\n  lightsalmon: 0xffa07a,\n  lightseagreen: 0x20b2aa,\n  lightskyblue: 0x87cefa,\n  lightslategray: 0x778899,\n  lightslategrey: 0x778899,\n  lightsteelblue: 0xb0c4de,\n  lightyellow: 0xffffe0,\n  lime: 0x00ff00,\n  limegreen: 0x32cd32,\n  linen: 0xfaf0e6,\n  magenta: 0xff00ff,\n  maroon: 0x800000,\n  mediumaquamarine: 0x66cdaa,\n  mediumblue: 0x0000cd,\n  mediumorchid: 0xba55d3,\n  mediumpurple: 0x9370db,\n  mediumseagreen: 0x3cb371,\n  mediumslateblue: 0x7b68ee,\n  mediumspringgreen: 0x00fa9a,\n  mediumturquoise: 0x48d1cc,\n  mediumvioletred: 0xc71585,\n  midnightblue: 0x191970,\n  mintcream: 0xf5fffa,\n  mistyrose: 0xffe4e1,\n  moccasin: 0xffe4b5,\n  navajowhite: 0xffdead,\n  navy: 0x000080,\n  oldlace: 0xfdf5e6,\n  olive: 0x808000,\n  olivedrab: 0x6b8e23,\n  orange: 0xffa500,\n  orangered: 0xff4500,\n  orchid: 0xda70d6,\n  palegoldenrod: 0xeee8aa,\n  palegreen: 0x98fb98,\n  paleturquoise: 0xafeeee,\n  palevioletred: 0xdb7093,\n  papayawhip: 0xffefd5,\n  peachpuff: 0xffdab9,\n  peru: 0xcd853f,\n  pink: 0xffc0cb,\n  plum: 0xdda0dd,\n  powderblue: 0xb0e0e6,\n  purple: 0x800080,\n  rebeccapurple: 0x663399,\n  red: 0xff0000,\n  rosybrown: 0xbc8f8f,\n  royalblue: 0x4169e1,\n  saddlebrown: 0x8b4513,\n  salmon: 0xfa8072,\n  sandybrown: 0xf4a460,\n  seagreen: 0x2e8b57,\n  seashell: 0xfff5ee,\n  sienna: 0xa0522d,\n  silver: 0xc0c0c0,\n  skyblue: 0x87ceeb,\n  slateblue: 0x6a5acd,\n  slategray: 0x708090,\n  slategrey: 0x708090,\n  snow: 0xfffafa,\n  springgreen: 0x00ff7f,\n  steelblue: 0x4682b4,\n  tan: 0xd2b48c,\n  teal: 0x008080,\n  thistle: 0xd8bfd8,\n  tomato: 0xff6347,\n  turquoise: 0x40e0d0,\n  violet: 0xee82ee,\n  wheat: 0xf5deb3,\n  white: 0xffffff,\n  whitesmoke: 0xf5f5f5,\n  yellow: 0xffff00,\n  yellowgreen: 0x9acd32\n};\ndefine(Color, color, {\n  copy: function (channels) {\n    return Object.assign(new this.constructor(), this, channels);\n  },\n  displayable: function () {\n    return this.rgb().displayable();\n  },\n  hex: color_formatHex,\n  // Deprecated! Use color.formatHex.\n  formatHex: color_formatHex,\n  formatHsl: color_formatHsl,\n  formatRgb: color_formatRgb,\n  toString: color_formatRgb\n});\n\nfunction color_formatHex() {\n  return this.rgb().formatHex();\n}\n\nfunction color_formatHsl() {\n  return hslConvert(this).formatHsl();\n}\n\nfunction color_formatRgb() {\n  return this.rgb().formatRgb();\n}\n\nfunction color(format) {\n  var m, l;\n  format = (format + \"\").trim().toLowerCase();\n  return (m = reHex.exec(format)) ? (l = m[1].length, m = parseInt(m[1], 16), l === 6 ? rgbn(m) // #ff0000\n  : l === 3 ? new Rgb(m >> 8 & 0xf | m >> 4 & 0xf0, m >> 4 & 0xf | m & 0xf0, (m & 0xf) << 4 | m & 0xf, 1) // #f00\n  : l === 8 ? new Rgb(m >> 24 & 0xff, m >> 16 & 0xff, m >> 8 & 0xff, (m & 0xff) / 0xff) // #ff000000\n  : l === 4 ? new Rgb(m >> 12 & 0xf | m >> 8 & 0xf0, m >> 8 & 0xf | m >> 4 & 0xf0, m >> 4 & 0xf | m & 0xf0, ((m & 0xf) << 4 | m & 0xf) / 0xff) // #f000\n  : null // invalid hex\n  ) : (m = reRgbInteger.exec(format)) ? new Rgb(m[1], m[2], m[3], 1) // rgb(255, 0, 0)\n  : (m = reRgbPercent.exec(format)) ? new Rgb(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, 1) // rgb(100%, 0%, 0%)\n  : (m = reRgbaInteger.exec(format)) ? rgba(m[1], m[2], m[3], m[4]) // rgba(255, 0, 0, 1)\n  : (m = reRgbaPercent.exec(format)) ? rgba(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, m[4]) // rgb(100%, 0%, 0%, 1)\n  : (m = reHslPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, 1) // hsl(120, 50%, 50%)\n  : (m = reHslaPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, m[4]) // hsla(120, 50%, 50%, 1)\n  : named.hasOwnProperty(format) ? rgbn(named[format]) // eslint-disable-line no-prototype-builtins\n  : format === \"transparent\" ? new Rgb(NaN, NaN, NaN, 0) : null;\n}\n\nfunction rgbn(n) {\n  return new Rgb(n >> 16 & 0xff, n >> 8 & 0xff, n & 0xff, 1);\n}\n\nfunction rgba(r, g, b, a) {\n  if (a <= 0) r = g = b = NaN;\n  return new Rgb(r, g, b, a);\n}\n\nfunction rgbConvert(o) {\n  if (!(o instanceof Color)) o = color(o);\n  if (!o) return new Rgb();\n  o = o.rgb();\n  return new Rgb(o.r, o.g, o.b, o.opacity);\n}\n\nfunction rgb(r, g, b, opacity) {\n  return arguments.length === 1 ? rgbConvert(r) : new Rgb(r, g, b, opacity == null ? 1 : opacity);\n}\n\nfunction Rgb(r, g, b, opacity) {\n  this.r = +r;\n  this.g = +g;\n  this.b = +b;\n  this.opacity = +opacity;\n}\n\ndefine(Rgb, rgb, extend(Color, {\n  brighter: function (k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  darker: function (k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  rgb: function () {\n    return this;\n  },\n  displayable: function () {\n    return -0.5 <= this.r && this.r < 255.5 && -0.5 <= this.g && this.g < 255.5 && -0.5 <= this.b && this.b < 255.5 && 0 <= this.opacity && this.opacity <= 1;\n  },\n  hex: rgb_formatHex,\n  // Deprecated! Use color.formatHex.\n  formatHex: rgb_formatHex,\n  formatRgb: rgb_formatRgb,\n  toString: rgb_formatRgb\n}));\n\nfunction rgb_formatHex() {\n  return \"#\" + hex(this.r) + hex(this.g) + hex(this.b);\n}\n\nfunction rgb_formatRgb() {\n  var a = this.opacity;\n  a = isNaN(a) ? 1 : Math.max(0, Math.min(1, a));\n  return (a === 1 ? \"rgb(\" : \"rgba(\") + Math.max(0, Math.min(255, Math.round(this.r) || 0)) + \", \" + Math.max(0, Math.min(255, Math.round(this.g) || 0)) + \", \" + Math.max(0, Math.min(255, Math.round(this.b) || 0)) + (a === 1 ? \")\" : \", \" + a + \")\");\n}\n\nfunction hex(value) {\n  value = Math.max(0, Math.min(255, Math.round(value) || 0));\n  return (value < 16 ? \"0\" : \"\") + value.toString(16);\n}\n\nfunction hsla(h, s, l, a) {\n  if (a <= 0) h = s = l = NaN;else if (l <= 0 || l >= 1) h = s = NaN;else if (s <= 0) h = NaN;\n  return new Hsl(h, s, l, a);\n}\n\nfunction hslConvert(o) {\n  if (o instanceof Hsl) return new Hsl(o.h, o.s, o.l, o.opacity);\n  if (!(o instanceof Color)) o = color(o);\n  if (!o) return new Hsl();\n  if (o instanceof Hsl) return o;\n  o = o.rgb();\n  var r = o.r / 255,\n      g = o.g / 255,\n      b = o.b / 255,\n      min = Math.min(r, g, b),\n      max = Math.max(r, g, b),\n      h = NaN,\n      s = max - min,\n      l = (max + min) / 2;\n\n  if (s) {\n    if (r === max) h = (g - b) / s + (g < b) * 6;else if (g === max) h = (b - r) / s + 2;else h = (r - g) / s + 4;\n    s /= l < 0.5 ? max + min : 2 - max - min;\n    h *= 60;\n  } else {\n    s = l > 0 && l < 1 ? 0 : h;\n  }\n\n  return new Hsl(h, s, l, o.opacity);\n}\n\nfunction hsl(h, s, l, opacity) {\n  return arguments.length === 1 ? hslConvert(h) : new Hsl(h, s, l, opacity == null ? 1 : opacity);\n}\n\nfunction Hsl(h, s, l, opacity) {\n  this.h = +h;\n  this.s = +s;\n  this.l = +l;\n  this.opacity = +opacity;\n}\n\ndefine(Hsl, hsl, extend(Color, {\n  brighter: function (k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  darker: function (k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  rgb: function () {\n    var h = this.h % 360 + (this.h < 0) * 360,\n        s = isNaN(h) || isNaN(this.s) ? 0 : this.s,\n        l = this.l,\n        m2 = l + (l < 0.5 ? l : 1 - l) * s,\n        m1 = 2 * l - m2;\n    return new Rgb(hsl2rgb(h >= 240 ? h - 240 : h + 120, m1, m2), hsl2rgb(h, m1, m2), hsl2rgb(h < 120 ? h + 240 : h - 120, m1, m2), this.opacity);\n  },\n  displayable: function () {\n    return (0 <= this.s && this.s <= 1 || isNaN(this.s)) && 0 <= this.l && this.l <= 1 && 0 <= this.opacity && this.opacity <= 1;\n  },\n  formatHsl: function () {\n    var a = this.opacity;\n    a = isNaN(a) ? 1 : Math.max(0, Math.min(1, a));\n    return (a === 1 ? \"hsl(\" : \"hsla(\") + (this.h || 0) + \", \" + (this.s || 0) * 100 + \"%, \" + (this.l || 0) * 100 + \"%\" + (a === 1 ? \")\" : \", \" + a + \")\");\n  }\n}));\n/* From FvD 13.37, CSS Color Module Level 3 */\n\nfunction hsl2rgb(h, m1, m2) {\n  return (h < 60 ? m1 + (m2 - m1) * h / 60 : h < 180 ? m2 : h < 240 ? m1 + (m2 - m1) * (240 - h) / 60 : m1) * 255;\n}\n\nfunction constant$2(x) {\n  return function () {\n    return x;\n  };\n}\n\nfunction linear(a, d) {\n  return function (t) {\n    return a + t * d;\n  };\n}\n\nfunction exponential(a, b, y) {\n  return a = Math.pow(a, y), b = Math.pow(b, y) - a, y = 1 / y, function (t) {\n    return Math.pow(a + t * b, y);\n  };\n}\n\nfunction gamma(y) {\n  return (y = +y) === 1 ? nogamma : function (a, b) {\n    return b - a ? exponential(a, b, y) : constant$2(isNaN(a) ? b : a);\n  };\n}\n\nfunction nogamma(a, b) {\n  var d = b - a;\n  return d ? linear(a, d) : constant$2(isNaN(a) ? b : a);\n}\n\nvar rgb$1 = function rgbGamma(y) {\n  var color = gamma(y);\n\n  function rgb$1(start, end) {\n    var r = color((start = rgb(start)).r, (end = rgb(end)).r),\n        g = color(start.g, end.g),\n        b = color(start.b, end.b),\n        opacity = nogamma(start.opacity, end.opacity);\n    return function (t) {\n      start.r = r(t);\n      start.g = g(t);\n      start.b = b(t);\n      start.opacity = opacity(t);\n      return start + \"\";\n    };\n  }\n\n  rgb$1.gamma = rgbGamma;\n  return rgb$1;\n}(1);\n\nfunction array(a, b) {\n  var nb = b ? b.length : 0,\n      na = a ? Math.min(nb, a.length) : 0,\n      x = new Array(na),\n      c = new Array(nb),\n      i;\n\n  for (i = 0; i < na; ++i) x[i] = interpolate(a[i], b[i]);\n\n  for (; i < nb; ++i) c[i] = b[i];\n\n  return function (t) {\n    for (i = 0; i < na; ++i) c[i] = x[i](t);\n\n    return c;\n  };\n}\n\nfunction date(a, b) {\n  var d = new Date();\n  return a = +a, b -= a, function (t) {\n    return d.setTime(a + b * t), d;\n  };\n}\n\nfunction interpolateNumber(a, b) {\n  return a = +a, b -= a, function (t) {\n    return a + b * t;\n  };\n}\n\nfunction object(a, b) {\n  var i = {},\n      c = {},\n      k;\n  if (a === null || typeof a !== \"object\") a = {};\n  if (b === null || typeof b !== \"object\") b = {};\n\n  for (k in b) {\n    if (k in a) {\n      i[k] = interpolate(a[k], b[k]);\n    } else {\n      c[k] = b[k];\n    }\n  }\n\n  return function (t) {\n    for (k in i) c[k] = i[k](t);\n\n    return c;\n  };\n}\n\nvar reA = /[-+]?(?:\\d+\\.?\\d*|\\.?\\d+)(?:[eE][-+]?\\d+)?/g,\n    reB = new RegExp(reA.source, \"g\");\n\nfunction zero(b) {\n  return function () {\n    return b;\n  };\n}\n\nfunction one(b) {\n  return function (t) {\n    return b(t) + \"\";\n  };\n}\n\nfunction string(a, b) {\n  var bi = reA.lastIndex = reB.lastIndex = 0,\n      // scan index for next number in b\n  am,\n      // current match in a\n  bm,\n      // current match in b\n  bs,\n      // string preceding current number in b, if any\n  i = -1,\n      // index in s\n  s = [],\n      // string constants and placeholders\n  q = []; // number interpolators\n  // Coerce inputs to strings.\n\n  a = a + \"\", b = b + \"\"; // Interpolate pairs of numbers in a & b.\n\n  while ((am = reA.exec(a)) && (bm = reB.exec(b))) {\n    if ((bs = bm.index) > bi) {\n      // a string precedes the next number in b\n      bs = b.slice(bi, bs);\n      if (s[i]) s[i] += bs; // coalesce with previous string\n      else s[++i] = bs;\n    }\n\n    if ((am = am[0]) === (bm = bm[0])) {\n      // numbers in a & b match\n      if (s[i]) s[i] += bm; // coalesce with previous string\n      else s[++i] = bm;\n    } else {\n      // interpolate non-matching numbers\n      s[++i] = null;\n      q.push({\n        i: i,\n        x: interpolateNumber(am, bm)\n      });\n    }\n\n    bi = reB.lastIndex;\n  } // Add remains of b.\n\n\n  if (bi < b.length) {\n    bs = b.slice(bi);\n    if (s[i]) s[i] += bs; // coalesce with previous string\n    else s[++i] = bs;\n  } // Special optimization for only a single match.\n  // Otherwise, interpolate each of the numbers and rejoin the string.\n\n\n  return s.length < 2 ? q[0] ? one(q[0].x) : zero(b) : (b = q.length, function (t) {\n    for (var i = 0, o; i < b; ++i) s[(o = q[i]).i] = o.x(t);\n\n    return s.join(\"\");\n  });\n}\n\nfunction interpolate(a, b) {\n  var t = typeof b,\n      c;\n  return b == null || t === \"boolean\" ? constant$2(b) : (t === \"number\" ? interpolateNumber : t === \"string\" ? (c = color(b)) ? (b = c, rgb$1) : string : b instanceof color ? rgb$1 : b instanceof Date ? date : Array.isArray(b) ? array : typeof b.valueOf !== \"function\" && typeof b.toString !== \"function\" || isNaN(b) ? object : interpolateNumber)(a, b);\n}\n\nfunction interpolateRound(a, b) {\n  return a = +a, b -= a, function (t) {\n    return Math.round(a + b * t);\n  };\n}\n\nfunction constant$3(x) {\n  return function () {\n    return x;\n  };\n}\n\nfunction number(x) {\n  return +x;\n}\n\nvar unit = [0, 1];\n\nfunction identity$1(x) {\n  return x;\n}\n\nfunction normalize(a, b) {\n  return (b -= a = +a) ? function (x) {\n    return (x - a) / b;\n  } : constant$3(isNaN(b) ? NaN : 0.5);\n}\n\nfunction clamper(a, b) {\n  var t;\n  if (a > b) t = a, a = b, b = t;\n  return function (x) {\n    return Math.max(a, Math.min(b, x));\n  };\n} // normalize(a, b)(x) takes a domain value x in [a,b] and returns the corresponding parameter t in [0,1].\n// interpolate(a, b)(t) takes a parameter t in [0,1] and returns the corresponding range value x in [a,b].\n\n\nfunction bimap(domain, range, interpolate) {\n  var d0 = domain[0],\n      d1 = domain[1],\n      r0 = range[0],\n      r1 = range[1];\n  if (d1 < d0) d0 = normalize(d1, d0), r0 = interpolate(r1, r0);else d0 = normalize(d0, d1), r0 = interpolate(r0, r1);\n  return function (x) {\n    return r0(d0(x));\n  };\n}\n\nfunction polymap(domain, range, interpolate) {\n  var j = Math.min(domain.length, range.length) - 1,\n      d = new Array(j),\n      r = new Array(j),\n      i = -1; // Reverse descending domains.\n\n  if (domain[j] < domain[0]) {\n    domain = domain.slice().reverse();\n    range = range.slice().reverse();\n  }\n\n  while (++i < j) {\n    d[i] = normalize(domain[i], domain[i + 1]);\n    r[i] = interpolate(range[i], range[i + 1]);\n  }\n\n  return function (x) {\n    var i = bisectRight(domain, x, 1, j) - 1;\n    return r[i](d[i](x));\n  };\n}\n\nfunction copy(source, target) {\n  return target.domain(source.domain()).range(source.range()).interpolate(source.interpolate()).clamp(source.clamp()).unknown(source.unknown());\n}\n\nfunction transformer() {\n  var domain = unit,\n      range = unit,\n      interpolate$1 = interpolate,\n      transform,\n      untransform,\n      unknown,\n      clamp = identity$1,\n      piecewise,\n      output,\n      input;\n\n  function rescale() {\n    var n = Math.min(domain.length, range.length);\n    if (clamp !== identity$1) clamp = clamper(domain[0], domain[n - 1]);\n    piecewise = n > 2 ? polymap : bimap;\n    output = input = null;\n    return scale;\n  }\n\n  function scale(x) {\n    return isNaN(x = +x) ? unknown : (output || (output = piecewise(domain.map(transform), range, interpolate$1)))(transform(clamp(x)));\n  }\n\n  scale.invert = function (y) {\n    return clamp(untransform((input || (input = piecewise(range, domain.map(transform), interpolateNumber)))(y)));\n  };\n\n  scale.domain = function (_) {\n    return arguments.length ? (domain = Array.from(_, number), rescale()) : domain.slice();\n  };\n\n  scale.range = function (_) {\n    return arguments.length ? (range = Array.from(_), rescale()) : range.slice();\n  };\n\n  scale.rangeRound = function (_) {\n    return range = Array.from(_), interpolate$1 = interpolateRound, rescale();\n  };\n\n  scale.clamp = function (_) {\n    return arguments.length ? (clamp = _ ? true : identity$1, rescale()) : clamp !== identity$1;\n  };\n\n  scale.interpolate = function (_) {\n    return arguments.length ? (interpolate$1 = _, rescale()) : interpolate$1;\n  };\n\n  scale.unknown = function (_) {\n    return arguments.length ? (unknown = _, scale) : unknown;\n  };\n\n  return function (t, u) {\n    transform = t, untransform = u;\n    return rescale();\n  };\n}\n\nfunction continuous() {\n  return transformer()(identity$1, identity$1);\n} // Computes the decimal coefficient and exponent of the specified number x with\n// significant digits p, where x is positive and p is in [1, 21] or undefined.\n// For example, formatDecimal(1.23) returns [\"123\", 0].\n\n\nfunction formatDecimal(x, p) {\n  if ((i = (x = p ? x.toExponential(p - 1) : x.toExponential()).indexOf(\"e\")) < 0) return null; // NaN, ±Infinity\n\n  var i,\n      coefficient = x.slice(0, i); // The string returned by toExponential either has the form \\d\\.\\d+e[-+]\\d+\n  // (e.g., 1.2e+3) or the form \\de[-+]\\d+ (e.g., 1e+3).\n\n  return [coefficient.length > 1 ? coefficient[0] + coefficient.slice(2) : coefficient, +x.slice(i + 1)];\n}\n\nfunction exponent(x) {\n  return x = formatDecimal(Math.abs(x)), x ? x[1] : NaN;\n}\n\nfunction formatGroup(grouping, thousands) {\n  return function (value, width) {\n    var i = value.length,\n        t = [],\n        j = 0,\n        g = grouping[0],\n        length = 0;\n\n    while (i > 0 && g > 0) {\n      if (length + g + 1 > width) g = Math.max(1, width - length);\n      t.push(value.substring(i -= g, i + g));\n      if ((length += g + 1) > width) break;\n      g = grouping[j = (j + 1) % grouping.length];\n    }\n\n    return t.reverse().join(thousands);\n  };\n}\n\nfunction formatNumerals(numerals) {\n  return function (value) {\n    return value.replace(/[0-9]/g, function (i) {\n      return numerals[+i];\n    });\n  };\n} // [[fill]align][sign][symbol][0][width][,][.precision][~][type]\n\n\nvar re = /^(?:(.)?([<>=^]))?([+\\-( ])?([$#])?(0)?(\\d+)?(,)?(\\.\\d+)?(~)?([a-z%])?$/i;\n\nfunction formatSpecifier(specifier) {\n  if (!(match = re.exec(specifier))) throw new Error(\"invalid format: \" + specifier);\n  var match;\n  return new FormatSpecifier({\n    fill: match[1],\n    align: match[2],\n    sign: match[3],\n    symbol: match[4],\n    zero: match[5],\n    width: match[6],\n    comma: match[7],\n    precision: match[8] && match[8].slice(1),\n    trim: match[9],\n    type: match[10]\n  });\n}\n\nformatSpecifier.prototype = FormatSpecifier.prototype; // instanceof\n\nfunction FormatSpecifier(specifier) {\n  this.fill = specifier.fill === undefined ? \" \" : specifier.fill + \"\";\n  this.align = specifier.align === undefined ? \">\" : specifier.align + \"\";\n  this.sign = specifier.sign === undefined ? \"-\" : specifier.sign + \"\";\n  this.symbol = specifier.symbol === undefined ? \"\" : specifier.symbol + \"\";\n  this.zero = !!specifier.zero;\n  this.width = specifier.width === undefined ? undefined : +specifier.width;\n  this.comma = !!specifier.comma;\n  this.precision = specifier.precision === undefined ? undefined : +specifier.precision;\n  this.trim = !!specifier.trim;\n  this.type = specifier.type === undefined ? \"\" : specifier.type + \"\";\n}\n\nFormatSpecifier.prototype.toString = function () {\n  return this.fill + this.align + this.sign + this.symbol + (this.zero ? \"0\" : \"\") + (this.width === undefined ? \"\" : Math.max(1, this.width | 0)) + (this.comma ? \",\" : \"\") + (this.precision === undefined ? \"\" : \".\" + Math.max(0, this.precision | 0)) + (this.trim ? \"~\" : \"\") + this.type;\n}; // Trims insignificant zeros, e.g., replaces 1.2000k with 1.2k.\n\n\nfunction formatTrim(s) {\n  out: for (var n = s.length, i = 1, i0 = -1, i1; i < n; ++i) {\n    switch (s[i]) {\n      case \".\":\n        i0 = i1 = i;\n        break;\n\n      case \"0\":\n        if (i0 === 0) i0 = i;\n        i1 = i;\n        break;\n\n      default:\n        if (i0 > 0) {\n          if (!+s[i]) break out;\n          i0 = 0;\n        }\n\n        break;\n    }\n  }\n\n  return i0 > 0 ? s.slice(0, i0) + s.slice(i1 + 1) : s;\n}\n\nvar prefixExponent;\n\nfunction formatPrefixAuto(x, p) {\n  var d = formatDecimal(x, p);\n  if (!d) return x + \"\";\n  var coefficient = d[0],\n      exponent = d[1],\n      i = exponent - (prefixExponent = Math.max(-8, Math.min(8, Math.floor(exponent / 3))) * 3) + 1,\n      n = coefficient.length;\n  return i === n ? coefficient : i > n ? coefficient + new Array(i - n + 1).join(\"0\") : i > 0 ? coefficient.slice(0, i) + \".\" + coefficient.slice(i) : \"0.\" + new Array(1 - i).join(\"0\") + formatDecimal(x, Math.max(0, p + i - 1))[0]; // less than 1y!\n}\n\nfunction formatRounded(x, p) {\n  var d = formatDecimal(x, p);\n  if (!d) return x + \"\";\n  var coefficient = d[0],\n      exponent = d[1];\n  return exponent < 0 ? \"0.\" + new Array(-exponent).join(\"0\") + coefficient : coefficient.length > exponent + 1 ? coefficient.slice(0, exponent + 1) + \".\" + coefficient.slice(exponent + 1) : coefficient + new Array(exponent - coefficient.length + 2).join(\"0\");\n}\n\nvar formatTypes = {\n  \"%\": function (x, p) {\n    return (x * 100).toFixed(p);\n  },\n  \"b\": function (x) {\n    return Math.round(x).toString(2);\n  },\n  \"c\": function (x) {\n    return x + \"\";\n  },\n  \"d\": function (x) {\n    return Math.round(x).toString(10);\n  },\n  \"e\": function (x, p) {\n    return x.toExponential(p);\n  },\n  \"f\": function (x, p) {\n    return x.toFixed(p);\n  },\n  \"g\": function (x, p) {\n    return x.toPrecision(p);\n  },\n  \"o\": function (x) {\n    return Math.round(x).toString(8);\n  },\n  \"p\": function (x, p) {\n    return formatRounded(x * 100, p);\n  },\n  \"r\": formatRounded,\n  \"s\": formatPrefixAuto,\n  \"X\": function (x) {\n    return Math.round(x).toString(16).toUpperCase();\n  },\n  \"x\": function (x) {\n    return Math.round(x).toString(16);\n  }\n};\n\nfunction identity$2(x) {\n  return x;\n}\n\nvar map = Array.prototype.map,\n    prefixes = [\"y\", \"z\", \"a\", \"f\", \"p\", \"n\", \"µ\", \"m\", \"\", \"k\", \"M\", \"G\", \"T\", \"P\", \"E\", \"Z\", \"Y\"];\n\nfunction formatLocale(locale) {\n  var group = locale.grouping === undefined || locale.thousands === undefined ? identity$2 : formatGroup(map.call(locale.grouping, Number), locale.thousands + \"\"),\n      currencyPrefix = locale.currency === undefined ? \"\" : locale.currency[0] + \"\",\n      currencySuffix = locale.currency === undefined ? \"\" : locale.currency[1] + \"\",\n      decimal = locale.decimal === undefined ? \".\" : locale.decimal + \"\",\n      numerals = locale.numerals === undefined ? identity$2 : formatNumerals(map.call(locale.numerals, String)),\n      percent = locale.percent === undefined ? \"%\" : locale.percent + \"\",\n      minus = locale.minus === undefined ? \"-\" : locale.minus + \"\",\n      nan = locale.nan === undefined ? \"NaN\" : locale.nan + \"\";\n\n  function newFormat(specifier) {\n    specifier = formatSpecifier(specifier);\n    var fill = specifier.fill,\n        align = specifier.align,\n        sign = specifier.sign,\n        symbol = specifier.symbol,\n        zero = specifier.zero,\n        width = specifier.width,\n        comma = specifier.comma,\n        precision = specifier.precision,\n        trim = specifier.trim,\n        type = specifier.type; // The \"n\" type is an alias for \",g\".\n\n    if (type === \"n\") comma = true, type = \"g\"; // The \"\" type, and any invalid type, is an alias for \".12~g\".\n    else if (!formatTypes[type]) precision === undefined && (precision = 12), trim = true, type = \"g\"; // If zero fill is specified, padding goes after sign and before digits.\n\n    if (zero || fill === \"0\" && align === \"=\") zero = true, fill = \"0\", align = \"=\"; // Compute the prefix and suffix.\n    // For SI-prefix, the suffix is lazily computed.\n\n    var prefix = symbol === \"$\" ? currencyPrefix : symbol === \"#\" && /[boxX]/.test(type) ? \"0\" + type.toLowerCase() : \"\",\n        suffix = symbol === \"$\" ? currencySuffix : /[%p]/.test(type) ? percent : \"\"; // What format function should we use?\n    // Is this an integer type?\n    // Can this type generate exponential notation?\n\n    var formatType = formatTypes[type],\n        maybeSuffix = /[defgprs%]/.test(type); // Set the default precision if not specified,\n    // or clamp the specified precision to the supported range.\n    // For significant precision, it must be in [1, 21].\n    // For fixed precision, it must be in [0, 20].\n\n    precision = precision === undefined ? 6 : /[gprs]/.test(type) ? Math.max(1, Math.min(21, precision)) : Math.max(0, Math.min(20, precision));\n\n    function format(value) {\n      var valuePrefix = prefix,\n          valueSuffix = suffix,\n          i,\n          n,\n          c;\n\n      if (type === \"c\") {\n        valueSuffix = formatType(value) + valueSuffix;\n        value = \"\";\n      } else {\n        value = +value; // Perform the initial formatting.\n\n        var valueNegative = value < 0;\n        value = isNaN(value) ? nan : formatType(Math.abs(value), precision); // Trim insignificant zeros.\n\n        if (trim) value = formatTrim(value); // If a negative value rounds to zero during formatting, treat as positive.\n\n        if (valueNegative && +value === 0) valueNegative = false; // Compute the prefix and suffix.\n\n        valuePrefix = (valueNegative ? sign === \"(\" ? sign : minus : sign === \"-\" || sign === \"(\" ? \"\" : sign) + valuePrefix;\n        valueSuffix = (type === \"s\" ? prefixes[8 + prefixExponent / 3] : \"\") + valueSuffix + (valueNegative && sign === \"(\" ? \")\" : \"\"); // Break the formatted value into the integer “value” part that can be\n        // grouped, and fractional or exponential “suffix” part that is not.\n\n        if (maybeSuffix) {\n          i = -1, n = value.length;\n\n          while (++i < n) {\n            if (c = value.charCodeAt(i), 48 > c || c > 57) {\n              valueSuffix = (c === 46 ? decimal + value.slice(i + 1) : value.slice(i)) + valueSuffix;\n              value = value.slice(0, i);\n              break;\n            }\n          }\n        }\n      } // If the fill character is not \"0\", grouping is applied before padding.\n\n\n      if (comma && !zero) value = group(value, Infinity); // Compute the padding.\n\n      var length = valuePrefix.length + value.length + valueSuffix.length,\n          padding = length < width ? new Array(width - length + 1).join(fill) : \"\"; // If the fill character is \"0\", grouping is applied after padding.\n\n      if (comma && zero) value = group(padding + value, padding.length ? width - valueSuffix.length : Infinity), padding = \"\"; // Reconstruct the final output based on the desired alignment.\n\n      switch (align) {\n        case \"<\":\n          value = valuePrefix + value + valueSuffix + padding;\n          break;\n\n        case \"=\":\n          value = valuePrefix + padding + value + valueSuffix;\n          break;\n\n        case \"^\":\n          value = padding.slice(0, length = padding.length >> 1) + valuePrefix + value + valueSuffix + padding.slice(length);\n          break;\n\n        default:\n          value = padding + valuePrefix + value + valueSuffix;\n          break;\n      }\n\n      return numerals(value);\n    }\n\n    format.toString = function () {\n      return specifier + \"\";\n    };\n\n    return format;\n  }\n\n  function formatPrefix(specifier, value) {\n    var f = newFormat((specifier = formatSpecifier(specifier), specifier.type = \"f\", specifier)),\n        e = Math.max(-8, Math.min(8, Math.floor(exponent(value) / 3))) * 3,\n        k = Math.pow(10, -e),\n        prefix = prefixes[8 + e / 3];\n    return function (value) {\n      return f(k * value) + prefix;\n    };\n  }\n\n  return {\n    format: newFormat,\n    formatPrefix: formatPrefix\n  };\n}\n\nvar locale;\nvar format;\nvar formatPrefix;\ndefaultLocale({\n  decimal: \".\",\n  thousands: \",\",\n  grouping: [3],\n  currency: [\"$\", \"\"],\n  minus: \"-\"\n});\n\nfunction defaultLocale(definition) {\n  locale = formatLocale(definition);\n  format = locale.format;\n  formatPrefix = locale.formatPrefix;\n  return locale;\n}\n\nfunction precisionFixed(step) {\n  return Math.max(0, -exponent(Math.abs(step)));\n}\n\nfunction precisionPrefix(step, value) {\n  return Math.max(0, Math.max(-8, Math.min(8, Math.floor(exponent(value) / 3))) * 3 - exponent(Math.abs(step)));\n}\n\nfunction precisionRound(step, max) {\n  step = Math.abs(step), max = Math.abs(max) - step;\n  return Math.max(0, exponent(max) - exponent(step)) + 1;\n}\n\nfunction tickFormat(start, stop, count, specifier) {\n  var step = tickStep(start, stop, count),\n      precision;\n  specifier = formatSpecifier(specifier == null ? \",f\" : specifier);\n\n  switch (specifier.type) {\n    case \"s\":\n      {\n        var value = Math.max(Math.abs(start), Math.abs(stop));\n        if (specifier.precision == null && !isNaN(precision = precisionPrefix(step, value))) specifier.precision = precision;\n        return formatPrefix(specifier, value);\n      }\n\n    case \"\":\n    case \"e\":\n    case \"g\":\n    case \"p\":\n    case \"r\":\n      {\n        if (specifier.precision == null && !isNaN(precision = precisionRound(step, Math.max(Math.abs(start), Math.abs(stop))))) specifier.precision = precision - (specifier.type === \"e\");\n        break;\n      }\n\n    case \"f\":\n    case \"%\":\n      {\n        if (specifier.precision == null && !isNaN(precision = precisionFixed(step))) specifier.precision = precision - (specifier.type === \"%\") * 2;\n        break;\n      }\n  }\n\n  return format(specifier);\n}\n\nfunction linearish(scale) {\n  var domain = scale.domain;\n\n  scale.ticks = function (count) {\n    var d = domain();\n    return ticks(d[0], d[d.length - 1], count == null ? 10 : count);\n  };\n\n  scale.tickFormat = function (count, specifier) {\n    var d = domain();\n    return tickFormat(d[0], d[d.length - 1], count == null ? 10 : count, specifier);\n  };\n\n  scale.nice = function (count) {\n    if (count == null) count = 10;\n    var d = domain(),\n        i0 = 0,\n        i1 = d.length - 1,\n        start = d[i0],\n        stop = d[i1],\n        step;\n\n    if (stop < start) {\n      step = start, start = stop, stop = step;\n      step = i0, i0 = i1, i1 = step;\n    }\n\n    step = tickIncrement(start, stop, count);\n\n    if (step > 0) {\n      start = Math.floor(start / step) * step;\n      stop = Math.ceil(stop / step) * step;\n      step = tickIncrement(start, stop, count);\n    } else if (step < 0) {\n      start = Math.ceil(start * step) / step;\n      stop = Math.floor(stop * step) / step;\n      step = tickIncrement(start, stop, count);\n    }\n\n    if (step > 0) {\n      d[i0] = Math.floor(start / step) * step;\n      d[i1] = Math.ceil(stop / step) * step;\n      domain(d);\n    } else if (step < 0) {\n      d[i0] = Math.ceil(start * step) / step;\n      d[i1] = Math.floor(stop * step) / step;\n      domain(d);\n    }\n\n    return scale;\n  };\n\n  return scale;\n}\n\nfunction linear$1() {\n  var scale = continuous();\n\n  scale.copy = function () {\n    return copy(scale, linear$1());\n  };\n\n  initRange.apply(scale, arguments);\n  return linearish(scale);\n}\n\nfunction nice(domain, interval) {\n  domain = domain.slice();\n  var i0 = 0,\n      i1 = domain.length - 1,\n      x0 = domain[i0],\n      x1 = domain[i1],\n      t;\n\n  if (x1 < x0) {\n    t = i0, i0 = i1, i1 = t;\n    t = x0, x0 = x1, x1 = t;\n  }\n\n  domain[i0] = interval.floor(x0);\n  domain[i1] = interval.ceil(x1);\n  return domain;\n}\n\nfunction transformLog(x) {\n  return Math.log(x);\n}\n\nfunction transformExp(x) {\n  return Math.exp(x);\n}\n\nfunction transformLogn(x) {\n  return -Math.log(-x);\n}\n\nfunction transformExpn(x) {\n  return -Math.exp(-x);\n}\n\nfunction pow10(x) {\n  return isFinite(x) ? +(\"1e\" + x) : x < 0 ? 0 : x;\n}\n\nfunction powp(base) {\n  return base === 10 ? pow10 : base === Math.E ? Math.exp : function (x) {\n    return Math.pow(base, x);\n  };\n}\n\nfunction logp(base) {\n  return base === Math.E ? Math.log : base === 10 && Math.log10 || base === 2 && Math.log2 || (base = Math.log(base), function (x) {\n    return Math.log(x) / base;\n  });\n}\n\nfunction reflect(f) {\n  return function (x) {\n    return -f(-x);\n  };\n}\n\nfunction loggish(transform) {\n  var scale = transform(transformLog, transformExp),\n      domain = scale.domain,\n      base = 10,\n      logs,\n      pows;\n\n  function rescale() {\n    logs = logp(base), pows = powp(base);\n\n    if (domain()[0] < 0) {\n      logs = reflect(logs), pows = reflect(pows);\n      transform(transformLogn, transformExpn);\n    } else {\n      transform(transformLog, transformExp);\n    }\n\n    return scale;\n  }\n\n  scale.base = function (_) {\n    return arguments.length ? (base = +_, rescale()) : base;\n  };\n\n  scale.domain = function (_) {\n    return arguments.length ? (domain(_), rescale()) : domain();\n  };\n\n  scale.ticks = function (count) {\n    var d = domain(),\n        u = d[0],\n        v = d[d.length - 1],\n        r;\n    if (r = v < u) i = u, u = v, v = i;\n    var i = logs(u),\n        j = logs(v),\n        p,\n        k,\n        t,\n        n = count == null ? 10 : +count,\n        z = [];\n\n    if (!(base % 1) && j - i < n) {\n      i = Math.floor(i), j = Math.ceil(j);\n      if (u > 0) for (; i <= j; ++i) {\n        for (k = 1, p = pows(i); k < base; ++k) {\n          t = p * k;\n          if (t < u) continue;\n          if (t > v) break;\n          z.push(t);\n        }\n      } else for (; i <= j; ++i) {\n        for (k = base - 1, p = pows(i); k >= 1; --k) {\n          t = p * k;\n          if (t < u) continue;\n          if (t > v) break;\n          z.push(t);\n        }\n      }\n      if (!z.length) z = ticks(u, v, n);\n    } else {\n      z = ticks(i, j, Math.min(j - i, n)).map(pows);\n    }\n\n    return r ? z.reverse() : z;\n  };\n\n  scale.tickFormat = function (count, specifier) {\n    if (specifier == null) specifier = base === 10 ? \".0e\" : \",\";\n    if (typeof specifier !== \"function\") specifier = format(specifier);\n    if (count === Infinity) return specifier;\n    if (count == null) count = 10;\n    var k = Math.max(1, base * count / scale.ticks().length); // TODO fast estimate?\n\n    return function (d) {\n      var i = d / pows(Math.round(logs(d)));\n      if (i * base < base - 0.5) i *= base;\n      return i <= k ? specifier(d) : \"\";\n    };\n  };\n\n  scale.nice = function () {\n    return domain(nice(domain(), {\n      floor: function (x) {\n        return pows(Math.floor(logs(x)));\n      },\n      ceil: function (x) {\n        return pows(Math.ceil(logs(x)));\n      }\n    }));\n  };\n\n  return scale;\n}\n\nfunction log() {\n  var scale = loggish(transformer()).domain([1, 10]);\n\n  scale.copy = function () {\n    return copy(scale, log()).base(scale.base());\n  };\n\n  initRange.apply(scale, arguments);\n  return scale;\n}\n\nvar t0 = new Date(),\n    t1 = new Date();\n\nfunction newInterval(floori, offseti, count, field) {\n  function interval(date) {\n    return floori(date = arguments.length === 0 ? new Date() : new Date(+date)), date;\n  }\n\n  interval.floor = function (date) {\n    return floori(date = new Date(+date)), date;\n  };\n\n  interval.ceil = function (date) {\n    return floori(date = new Date(date - 1)), offseti(date, 1), floori(date), date;\n  };\n\n  interval.round = function (date) {\n    var d0 = interval(date),\n        d1 = interval.ceil(date);\n    return date - d0 < d1 - date ? d0 : d1;\n  };\n\n  interval.offset = function (date, step) {\n    return offseti(date = new Date(+date), step == null ? 1 : Math.floor(step)), date;\n  };\n\n  interval.range = function (start, stop, step) {\n    var range = [],\n        previous;\n    start = interval.ceil(start);\n    step = step == null ? 1 : Math.floor(step);\n    if (!(start < stop) || !(step > 0)) return range; // also handles Invalid Date\n\n    do range.push(previous = new Date(+start)), offseti(start, step), floori(start); while (previous < start && start < stop);\n\n    return range;\n  };\n\n  interval.filter = function (test) {\n    return newInterval(function (date) {\n      if (date >= date) while (floori(date), !test(date)) date.setTime(date - 1);\n    }, function (date, step) {\n      if (date >= date) {\n        if (step < 0) while (++step <= 0) {\n          while (offseti(date, -1), !test(date)) {} // eslint-disable-line no-empty\n\n        } else while (--step >= 0) {\n          while (offseti(date, +1), !test(date)) {} // eslint-disable-line no-empty\n\n        }\n      }\n    });\n  };\n\n  if (count) {\n    interval.count = function (start, end) {\n      t0.setTime(+start), t1.setTime(+end);\n      floori(t0), floori(t1);\n      return Math.floor(count(t0, t1));\n    };\n\n    interval.every = function (step) {\n      step = Math.floor(step);\n      return !isFinite(step) || !(step > 0) ? null : !(step > 1) ? interval : interval.filter(field ? function (d) {\n        return field(d) % step === 0;\n      } : function (d) {\n        return interval.count(0, d) % step === 0;\n      });\n    };\n  }\n\n  return interval;\n}\n\nvar millisecond = newInterval(function () {// noop\n}, function (date, step) {\n  date.setTime(+date + step);\n}, function (start, end) {\n  return end - start;\n}); // An optimized implementation for this simple case.\n\nmillisecond.every = function (k) {\n  k = Math.floor(k);\n  if (!isFinite(k) || !(k > 0)) return null;\n  if (!(k > 1)) return millisecond;\n  return newInterval(function (date) {\n    date.setTime(Math.floor(date / k) * k);\n  }, function (date, step) {\n    date.setTime(+date + step * k);\n  }, function (start, end) {\n    return (end - start) / k;\n  });\n};\n\nvar durationSecond = 1e3;\nvar durationMinute = 6e4;\nvar durationHour = 36e5;\nvar durationDay = 864e5;\nvar durationWeek = 6048e5;\nvar second = newInterval(function (date) {\n  date.setTime(date - date.getMilliseconds());\n}, function (date, step) {\n  date.setTime(+date + step * durationSecond);\n}, function (start, end) {\n  return (end - start) / durationSecond;\n}, function (date) {\n  return date.getUTCSeconds();\n});\nvar minute = newInterval(function (date) {\n  date.setTime(date - date.getMilliseconds() - date.getSeconds() * durationSecond);\n}, function (date, step) {\n  date.setTime(+date + step * durationMinute);\n}, function (start, end) {\n  return (end - start) / durationMinute;\n}, function (date) {\n  return date.getMinutes();\n});\nvar hour = newInterval(function (date) {\n  date.setTime(date - date.getMilliseconds() - date.getSeconds() * durationSecond - date.getMinutes() * durationMinute);\n}, function (date, step) {\n  date.setTime(+date + step * durationHour);\n}, function (start, end) {\n  return (end - start) / durationHour;\n}, function (date) {\n  return date.getHours();\n});\nvar day = newInterval(function (date) {\n  date.setHours(0, 0, 0, 0);\n}, function (date, step) {\n  date.setDate(date.getDate() + step);\n}, function (start, end) {\n  return (end - start - (end.getTimezoneOffset() - start.getTimezoneOffset()) * durationMinute) / durationDay;\n}, function (date) {\n  return date.getDate() - 1;\n});\n\nfunction weekday(i) {\n  return newInterval(function (date) {\n    date.setDate(date.getDate() - (date.getDay() + 7 - i) % 7);\n    date.setHours(0, 0, 0, 0);\n  }, function (date, step) {\n    date.setDate(date.getDate() + step * 7);\n  }, function (start, end) {\n    return (end - start - (end.getTimezoneOffset() - start.getTimezoneOffset()) * durationMinute) / durationWeek;\n  });\n}\n\nvar sunday = weekday(0);\nvar monday = weekday(1);\nvar tuesday = weekday(2);\nvar wednesday = weekday(3);\nvar thursday = weekday(4);\nvar friday = weekday(5);\nvar saturday = weekday(6);\nvar month = newInterval(function (date) {\n  date.setDate(1);\n  date.setHours(0, 0, 0, 0);\n}, function (date, step) {\n  date.setMonth(date.getMonth() + step);\n}, function (start, end) {\n  return end.getMonth() - start.getMonth() + (end.getFullYear() - start.getFullYear()) * 12;\n}, function (date) {\n  return date.getMonth();\n});\nvar year = newInterval(function (date) {\n  date.setMonth(0, 1);\n  date.setHours(0, 0, 0, 0);\n}, function (date, step) {\n  date.setFullYear(date.getFullYear() + step);\n}, function (start, end) {\n  return end.getFullYear() - start.getFullYear();\n}, function (date) {\n  return date.getFullYear();\n}); // An optimized implementation for this simple case.\n\nyear.every = function (k) {\n  return !isFinite(k = Math.floor(k)) || !(k > 0) ? null : newInterval(function (date) {\n    date.setFullYear(Math.floor(date.getFullYear() / k) * k);\n    date.setMonth(0, 1);\n    date.setHours(0, 0, 0, 0);\n  }, function (date, step) {\n    date.setFullYear(date.getFullYear() + step * k);\n  });\n};\n\nvar utcMinute = newInterval(function (date) {\n  date.setUTCSeconds(0, 0);\n}, function (date, step) {\n  date.setTime(+date + step * durationMinute);\n}, function (start, end) {\n  return (end - start) / durationMinute;\n}, function (date) {\n  return date.getUTCMinutes();\n});\nvar utcHour = newInterval(function (date) {\n  date.setUTCMinutes(0, 0, 0);\n}, function (date, step) {\n  date.setTime(+date + step * durationHour);\n}, function (start, end) {\n  return (end - start) / durationHour;\n}, function (date) {\n  return date.getUTCHours();\n});\nvar utcDay = newInterval(function (date) {\n  date.setUTCHours(0, 0, 0, 0);\n}, function (date, step) {\n  date.setUTCDate(date.getUTCDate() + step);\n}, function (start, end) {\n  return (end - start) / durationDay;\n}, function (date) {\n  return date.getUTCDate() - 1;\n});\n\nfunction utcWeekday(i) {\n  return newInterval(function (date) {\n    date.setUTCDate(date.getUTCDate() - (date.getUTCDay() + 7 - i) % 7);\n    date.setUTCHours(0, 0, 0, 0);\n  }, function (date, step) {\n    date.setUTCDate(date.getUTCDate() + step * 7);\n  }, function (start, end) {\n    return (end - start) / durationWeek;\n  });\n}\n\nvar utcSunday = utcWeekday(0);\nvar utcMonday = utcWeekday(1);\nvar utcTuesday = utcWeekday(2);\nvar utcWednesday = utcWeekday(3);\nvar utcThursday = utcWeekday(4);\nvar utcFriday = utcWeekday(5);\nvar utcSaturday = utcWeekday(6);\nvar utcMonth = newInterval(function (date) {\n  date.setUTCDate(1);\n  date.setUTCHours(0, 0, 0, 0);\n}, function (date, step) {\n  date.setUTCMonth(date.getUTCMonth() + step);\n}, function (start, end) {\n  return end.getUTCMonth() - start.getUTCMonth() + (end.getUTCFullYear() - start.getUTCFullYear()) * 12;\n}, function (date) {\n  return date.getUTCMonth();\n});\nvar utcYear = newInterval(function (date) {\n  date.setUTCMonth(0, 1);\n  date.setUTCHours(0, 0, 0, 0);\n}, function (date, step) {\n  date.setUTCFullYear(date.getUTCFullYear() + step);\n}, function (start, end) {\n  return end.getUTCFullYear() - start.getUTCFullYear();\n}, function (date) {\n  return date.getUTCFullYear();\n}); // An optimized implementation for this simple case.\n\nutcYear.every = function (k) {\n  return !isFinite(k = Math.floor(k)) || !(k > 0) ? null : newInterval(function (date) {\n    date.setUTCFullYear(Math.floor(date.getUTCFullYear() / k) * k);\n    date.setUTCMonth(0, 1);\n    date.setUTCHours(0, 0, 0, 0);\n  }, function (date, step) {\n    date.setUTCFullYear(date.getUTCFullYear() + step * k);\n  });\n};\n\nfunction localDate(d) {\n  if (0 <= d.y && d.y < 100) {\n    var date = new Date(-1, d.m, d.d, d.H, d.M, d.S, d.L);\n    date.setFullYear(d.y);\n    return date;\n  }\n\n  return new Date(d.y, d.m, d.d, d.H, d.M, d.S, d.L);\n}\n\nfunction utcDate(d) {\n  if (0 <= d.y && d.y < 100) {\n    var date = new Date(Date.UTC(-1, d.m, d.d, d.H, d.M, d.S, d.L));\n    date.setUTCFullYear(d.y);\n    return date;\n  }\n\n  return new Date(Date.UTC(d.y, d.m, d.d, d.H, d.M, d.S, d.L));\n}\n\nfunction newDate(y, m, d) {\n  return {\n    y: y,\n    m: m,\n    d: d,\n    H: 0,\n    M: 0,\n    S: 0,\n    L: 0\n  };\n}\n\nfunction formatLocale$1(locale) {\n  var locale_dateTime = locale.dateTime,\n      locale_date = locale.date,\n      locale_time = locale.time,\n      locale_periods = locale.periods,\n      locale_weekdays = locale.days,\n      locale_shortWeekdays = locale.shortDays,\n      locale_months = locale.months,\n      locale_shortMonths = locale.shortMonths;\n  var periodRe = formatRe(locale_periods),\n      periodLookup = formatLookup(locale_periods),\n      weekdayRe = formatRe(locale_weekdays),\n      weekdayLookup = formatLookup(locale_weekdays),\n      shortWeekdayRe = formatRe(locale_shortWeekdays),\n      shortWeekdayLookup = formatLookup(locale_shortWeekdays),\n      monthRe = formatRe(locale_months),\n      monthLookup = formatLookup(locale_months),\n      shortMonthRe = formatRe(locale_shortMonths),\n      shortMonthLookup = formatLookup(locale_shortMonths);\n  var formats = {\n    \"a\": formatShortWeekday,\n    \"A\": formatWeekday,\n    \"b\": formatShortMonth,\n    \"B\": formatMonth,\n    \"c\": null,\n    \"d\": formatDayOfMonth,\n    \"e\": formatDayOfMonth,\n    \"f\": formatMicroseconds,\n    \"H\": formatHour24,\n    \"I\": formatHour12,\n    \"j\": formatDayOfYear,\n    \"L\": formatMilliseconds,\n    \"m\": formatMonthNumber,\n    \"M\": formatMinutes,\n    \"p\": formatPeriod,\n    \"q\": formatQuarter,\n    \"Q\": formatUnixTimestamp,\n    \"s\": formatUnixTimestampSeconds,\n    \"S\": formatSeconds,\n    \"u\": formatWeekdayNumberMonday,\n    \"U\": formatWeekNumberSunday,\n    \"V\": formatWeekNumberISO,\n    \"w\": formatWeekdayNumberSunday,\n    \"W\": formatWeekNumberMonday,\n    \"x\": null,\n    \"X\": null,\n    \"y\": formatYear,\n    \"Y\": formatFullYear,\n    \"Z\": formatZone,\n    \"%\": formatLiteralPercent\n  };\n  var utcFormats = {\n    \"a\": formatUTCShortWeekday,\n    \"A\": formatUTCWeekday,\n    \"b\": formatUTCShortMonth,\n    \"B\": formatUTCMonth,\n    \"c\": null,\n    \"d\": formatUTCDayOfMonth,\n    \"e\": formatUTCDayOfMonth,\n    \"f\": formatUTCMicroseconds,\n    \"H\": formatUTCHour24,\n    \"I\": formatUTCHour12,\n    \"j\": formatUTCDayOfYear,\n    \"L\": formatUTCMilliseconds,\n    \"m\": formatUTCMonthNumber,\n    \"M\": formatUTCMinutes,\n    \"p\": formatUTCPeriod,\n    \"q\": formatUTCQuarter,\n    \"Q\": formatUnixTimestamp,\n    \"s\": formatUnixTimestampSeconds,\n    \"S\": formatUTCSeconds,\n    \"u\": formatUTCWeekdayNumberMonday,\n    \"U\": formatUTCWeekNumberSunday,\n    \"V\": formatUTCWeekNumberISO,\n    \"w\": formatUTCWeekdayNumberSunday,\n    \"W\": formatUTCWeekNumberMonday,\n    \"x\": null,\n    \"X\": null,\n    \"y\": formatUTCYear,\n    \"Y\": formatUTCFullYear,\n    \"Z\": formatUTCZone,\n    \"%\": formatLiteralPercent\n  };\n  var parses = {\n    \"a\": parseShortWeekday,\n    \"A\": parseWeekday,\n    \"b\": parseShortMonth,\n    \"B\": parseMonth,\n    \"c\": parseLocaleDateTime,\n    \"d\": parseDayOfMonth,\n    \"e\": parseDayOfMonth,\n    \"f\": parseMicroseconds,\n    \"H\": parseHour24,\n    \"I\": parseHour24,\n    \"j\": parseDayOfYear,\n    \"L\": parseMilliseconds,\n    \"m\": parseMonthNumber,\n    \"M\": parseMinutes,\n    \"p\": parsePeriod,\n    \"q\": parseQuarter,\n    \"Q\": parseUnixTimestamp,\n    \"s\": parseUnixTimestampSeconds,\n    \"S\": parseSeconds,\n    \"u\": parseWeekdayNumberMonday,\n    \"U\": parseWeekNumberSunday,\n    \"V\": parseWeekNumberISO,\n    \"w\": parseWeekdayNumberSunday,\n    \"W\": parseWeekNumberMonday,\n    \"x\": parseLocaleDate,\n    \"X\": parseLocaleTime,\n    \"y\": parseYear,\n    \"Y\": parseFullYear,\n    \"Z\": parseZone,\n    \"%\": parseLiteralPercent\n  }; // These recursive directive definitions must be deferred.\n\n  formats.x = newFormat(locale_date, formats);\n  formats.X = newFormat(locale_time, formats);\n  formats.c = newFormat(locale_dateTime, formats);\n  utcFormats.x = newFormat(locale_date, utcFormats);\n  utcFormats.X = newFormat(locale_time, utcFormats);\n  utcFormats.c = newFormat(locale_dateTime, utcFormats);\n\n  function newFormat(specifier, formats) {\n    return function (date) {\n      var string = [],\n          i = -1,\n          j = 0,\n          n = specifier.length,\n          c,\n          pad,\n          format;\n      if (!(date instanceof Date)) date = new Date(+date);\n\n      while (++i < n) {\n        if (specifier.charCodeAt(i) === 37) {\n          string.push(specifier.slice(j, i));\n          if ((pad = pads[c = specifier.charAt(++i)]) != null) c = specifier.charAt(++i);else pad = c === \"e\" ? \" \" : \"0\";\n          if (format = formats[c]) c = format(date, pad);\n          string.push(c);\n          j = i + 1;\n        }\n      }\n\n      string.push(specifier.slice(j, i));\n      return string.join(\"\");\n    };\n  }\n\n  function newParse(specifier, Z) {\n    return function (string) {\n      var d = newDate(1900, undefined, 1),\n          i = parseSpecifier(d, specifier, string += \"\", 0),\n          week,\n          day$1;\n      if (i != string.length) return null; // If a UNIX timestamp is specified, return it.\n\n      if (\"Q\" in d) return new Date(d.Q);\n      if (\"s\" in d) return new Date(d.s * 1000 + (\"L\" in d ? d.L : 0)); // If this is utcParse, never use the local timezone.\n\n      if (Z && !(\"Z\" in d)) d.Z = 0; // The am-pm flag is 0 for AM, and 1 for PM.\n\n      if (\"p\" in d) d.H = d.H % 12 + d.p * 12; // If the month was not specified, inherit from the quarter.\n\n      if (d.m === undefined) d.m = \"q\" in d ? d.q : 0; // Convert day-of-week and week-of-year to day-of-year.\n\n      if (\"V\" in d) {\n        if (d.V < 1 || d.V > 53) return null;\n        if (!(\"w\" in d)) d.w = 1;\n\n        if (\"Z\" in d) {\n          week = utcDate(newDate(d.y, 0, 1)), day$1 = week.getUTCDay();\n          week = day$1 > 4 || day$1 === 0 ? utcMonday.ceil(week) : utcMonday(week);\n          week = utcDay.offset(week, (d.V - 1) * 7);\n          d.y = week.getUTCFullYear();\n          d.m = week.getUTCMonth();\n          d.d = week.getUTCDate() + (d.w + 6) % 7;\n        } else {\n          week = localDate(newDate(d.y, 0, 1)), day$1 = week.getDay();\n          week = day$1 > 4 || day$1 === 0 ? monday.ceil(week) : monday(week);\n          week = day.offset(week, (d.V - 1) * 7);\n          d.y = week.getFullYear();\n          d.m = week.getMonth();\n          d.d = week.getDate() + (d.w + 6) % 7;\n        }\n      } else if (\"W\" in d || \"U\" in d) {\n        if (!(\"w\" in d)) d.w = \"u\" in d ? d.u % 7 : \"W\" in d ? 1 : 0;\n        day$1 = \"Z\" in d ? utcDate(newDate(d.y, 0, 1)).getUTCDay() : localDate(newDate(d.y, 0, 1)).getDay();\n        d.m = 0;\n        d.d = \"W\" in d ? (d.w + 6) % 7 + d.W * 7 - (day$1 + 5) % 7 : d.w + d.U * 7 - (day$1 + 6) % 7;\n      } // If a time zone is specified, all fields are interpreted as UTC and then\n      // offset according to the specified time zone.\n\n\n      if (\"Z\" in d) {\n        d.H += d.Z / 100 | 0;\n        d.M += d.Z % 100;\n        return utcDate(d);\n      } // Otherwise, all fields are in local time.\n\n\n      return localDate(d);\n    };\n  }\n\n  function parseSpecifier(d, specifier, string, j) {\n    var i = 0,\n        n = specifier.length,\n        m = string.length,\n        c,\n        parse;\n\n    while (i < n) {\n      if (j >= m) return -1;\n      c = specifier.charCodeAt(i++);\n\n      if (c === 37) {\n        c = specifier.charAt(i++);\n        parse = parses[c in pads ? specifier.charAt(i++) : c];\n        if (!parse || (j = parse(d, string, j)) < 0) return -1;\n      } else if (c != string.charCodeAt(j++)) {\n        return -1;\n      }\n    }\n\n    return j;\n  }\n\n  function parsePeriod(d, string, i) {\n    var n = periodRe.exec(string.slice(i));\n    return n ? (d.p = periodLookup[n[0].toLowerCase()], i + n[0].length) : -1;\n  }\n\n  function parseShortWeekday(d, string, i) {\n    var n = shortWeekdayRe.exec(string.slice(i));\n    return n ? (d.w = shortWeekdayLookup[n[0].toLowerCase()], i + n[0].length) : -1;\n  }\n\n  function parseWeekday(d, string, i) {\n    var n = weekdayRe.exec(string.slice(i));\n    return n ? (d.w = weekdayLookup[n[0].toLowerCase()], i + n[0].length) : -1;\n  }\n\n  function parseShortMonth(d, string, i) {\n    var n = shortMonthRe.exec(string.slice(i));\n    return n ? (d.m = shortMonthLookup[n[0].toLowerCase()], i + n[0].length) : -1;\n  }\n\n  function parseMonth(d, string, i) {\n    var n = monthRe.exec(string.slice(i));\n    return n ? (d.m = monthLookup[n[0].toLowerCase()], i + n[0].length) : -1;\n  }\n\n  function parseLocaleDateTime(d, string, i) {\n    return parseSpecifier(d, locale_dateTime, string, i);\n  }\n\n  function parseLocaleDate(d, string, i) {\n    return parseSpecifier(d, locale_date, string, i);\n  }\n\n  function parseLocaleTime(d, string, i) {\n    return parseSpecifier(d, locale_time, string, i);\n  }\n\n  function formatShortWeekday(d) {\n    return locale_shortWeekdays[d.getDay()];\n  }\n\n  function formatWeekday(d) {\n    return locale_weekdays[d.getDay()];\n  }\n\n  function formatShortMonth(d) {\n    return locale_shortMonths[d.getMonth()];\n  }\n\n  function formatMonth(d) {\n    return locale_months[d.getMonth()];\n  }\n\n  function formatPeriod(d) {\n    return locale_periods[+(d.getHours() >= 12)];\n  }\n\n  function formatQuarter(d) {\n    return 1 + ~~(d.getMonth() / 3);\n  }\n\n  function formatUTCShortWeekday(d) {\n    return locale_shortWeekdays[d.getUTCDay()];\n  }\n\n  function formatUTCWeekday(d) {\n    return locale_weekdays[d.getUTCDay()];\n  }\n\n  function formatUTCShortMonth(d) {\n    return locale_shortMonths[d.getUTCMonth()];\n  }\n\n  function formatUTCMonth(d) {\n    return locale_months[d.getUTCMonth()];\n  }\n\n  function formatUTCPeriod(d) {\n    return locale_periods[+(d.getUTCHours() >= 12)];\n  }\n\n  function formatUTCQuarter(d) {\n    return 1 + ~~(d.getUTCMonth() / 3);\n  }\n\n  return {\n    format: function (specifier) {\n      var f = newFormat(specifier += \"\", formats);\n\n      f.toString = function () {\n        return specifier;\n      };\n\n      return f;\n    },\n    parse: function (specifier) {\n      var p = newParse(specifier += \"\", false);\n\n      p.toString = function () {\n        return specifier;\n      };\n\n      return p;\n    },\n    utcFormat: function (specifier) {\n      var f = newFormat(specifier += \"\", utcFormats);\n\n      f.toString = function () {\n        return specifier;\n      };\n\n      return f;\n    },\n    utcParse: function (specifier) {\n      var p = newParse(specifier += \"\", true);\n\n      p.toString = function () {\n        return specifier;\n      };\n\n      return p;\n    }\n  };\n}\n\nvar pads = {\n  \"-\": \"\",\n  \"_\": \" \",\n  \"0\": \"0\"\n},\n    numberRe = /^\\s*\\d+/,\n    // note: ignores next directive\npercentRe = /^%/,\n    requoteRe = /[\\\\^$*+?|[\\]().{}]/g;\n\nfunction pad(value, fill, width) {\n  var sign = value < 0 ? \"-\" : \"\",\n      string = (sign ? -value : value) + \"\",\n      length = string.length;\n  return sign + (length < width ? new Array(width - length + 1).join(fill) + string : string);\n}\n\nfunction requote(s) {\n  return s.replace(requoteRe, \"\\\\$&\");\n}\n\nfunction formatRe(names) {\n  return new RegExp(\"^(?:\" + names.map(requote).join(\"|\") + \")\", \"i\");\n}\n\nfunction formatLookup(names) {\n  var map = {},\n      i = -1,\n      n = names.length;\n\n  while (++i < n) map[names[i].toLowerCase()] = i;\n\n  return map;\n}\n\nfunction parseWeekdayNumberSunday(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 1));\n  return n ? (d.w = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseWeekdayNumberMonday(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 1));\n  return n ? (d.u = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseWeekNumberSunday(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.U = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseWeekNumberISO(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.V = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseWeekNumberMonday(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.W = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseFullYear(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 4));\n  return n ? (d.y = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseYear(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.y = +n[0] + (+n[0] > 68 ? 1900 : 2000), i + n[0].length) : -1;\n}\n\nfunction parseZone(d, string, i) {\n  var n = /^(Z)|([+-]\\d\\d)(?::?(\\d\\d))?/.exec(string.slice(i, i + 6));\n  return n ? (d.Z = n[1] ? 0 : -(n[2] + (n[3] || \"00\")), i + n[0].length) : -1;\n}\n\nfunction parseQuarter(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 1));\n  return n ? (d.q = n[0] * 3 - 3, i + n[0].length) : -1;\n}\n\nfunction parseMonthNumber(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.m = n[0] - 1, i + n[0].length) : -1;\n}\n\nfunction parseDayOfMonth(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.d = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseDayOfYear(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 3));\n  return n ? (d.m = 0, d.d = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseHour24(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.H = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseMinutes(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.M = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseSeconds(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.S = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseMilliseconds(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 3));\n  return n ? (d.L = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseMicroseconds(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 6));\n  return n ? (d.L = Math.floor(n[0] / 1000), i + n[0].length) : -1;\n}\n\nfunction parseLiteralPercent(d, string, i) {\n  var n = percentRe.exec(string.slice(i, i + 1));\n  return n ? i + n[0].length : -1;\n}\n\nfunction parseUnixTimestamp(d, string, i) {\n  var n = numberRe.exec(string.slice(i));\n  return n ? (d.Q = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseUnixTimestampSeconds(d, string, i) {\n  var n = numberRe.exec(string.slice(i));\n  return n ? (d.s = +n[0], i + n[0].length) : -1;\n}\n\nfunction formatDayOfMonth(d, p) {\n  return pad(d.getDate(), p, 2);\n}\n\nfunction formatHour24(d, p) {\n  return pad(d.getHours(), p, 2);\n}\n\nfunction formatHour12(d, p) {\n  return pad(d.getHours() % 12 || 12, p, 2);\n}\n\nfunction formatDayOfYear(d, p) {\n  return pad(1 + day.count(year(d), d), p, 3);\n}\n\nfunction formatMilliseconds(d, p) {\n  return pad(d.getMilliseconds(), p, 3);\n}\n\nfunction formatMicroseconds(d, p) {\n  return formatMilliseconds(d, p) + \"000\";\n}\n\nfunction formatMonthNumber(d, p) {\n  return pad(d.getMonth() + 1, p, 2);\n}\n\nfunction formatMinutes(d, p) {\n  return pad(d.getMinutes(), p, 2);\n}\n\nfunction formatSeconds(d, p) {\n  return pad(d.getSeconds(), p, 2);\n}\n\nfunction formatWeekdayNumberMonday(d) {\n  var day = d.getDay();\n  return day === 0 ? 7 : day;\n}\n\nfunction formatWeekNumberSunday(d, p) {\n  return pad(sunday.count(year(d) - 1, d), p, 2);\n}\n\nfunction formatWeekNumberISO(d, p) {\n  var day = d.getDay();\n  d = day >= 4 || day === 0 ? thursday(d) : thursday.ceil(d);\n  return pad(thursday.count(year(d), d) + (year(d).getDay() === 4), p, 2);\n}\n\nfunction formatWeekdayNumberSunday(d) {\n  return d.getDay();\n}\n\nfunction formatWeekNumberMonday(d, p) {\n  return pad(monday.count(year(d) - 1, d), p, 2);\n}\n\nfunction formatYear(d, p) {\n  return pad(d.getFullYear() % 100, p, 2);\n}\n\nfunction formatFullYear(d, p) {\n  return pad(d.getFullYear() % 10000, p, 4);\n}\n\nfunction formatZone(d) {\n  var z = d.getTimezoneOffset();\n  return (z > 0 ? \"-\" : (z *= -1, \"+\")) + pad(z / 60 | 0, \"0\", 2) + pad(z % 60, \"0\", 2);\n}\n\nfunction formatUTCDayOfMonth(d, p) {\n  return pad(d.getUTCDate(), p, 2);\n}\n\nfunction formatUTCHour24(d, p) {\n  return pad(d.getUTCHours(), p, 2);\n}\n\nfunction formatUTCHour12(d, p) {\n  return pad(d.getUTCHours() % 12 || 12, p, 2);\n}\n\nfunction formatUTCDayOfYear(d, p) {\n  return pad(1 + utcDay.count(utcYear(d), d), p, 3);\n}\n\nfunction formatUTCMilliseconds(d, p) {\n  return pad(d.getUTCMilliseconds(), p, 3);\n}\n\nfunction formatUTCMicroseconds(d, p) {\n  return formatUTCMilliseconds(d, p) + \"000\";\n}\n\nfunction formatUTCMonthNumber(d, p) {\n  return pad(d.getUTCMonth() + 1, p, 2);\n}\n\nfunction formatUTCMinutes(d, p) {\n  return pad(d.getUTCMinutes(), p, 2);\n}\n\nfunction formatUTCSeconds(d, p) {\n  return pad(d.getUTCSeconds(), p, 2);\n}\n\nfunction formatUTCWeekdayNumberMonday(d) {\n  var dow = d.getUTCDay();\n  return dow === 0 ? 7 : dow;\n}\n\nfunction formatUTCWeekNumberSunday(d, p) {\n  return pad(utcSunday.count(utcYear(d) - 1, d), p, 2);\n}\n\nfunction formatUTCWeekNumberISO(d, p) {\n  var day = d.getUTCDay();\n  d = day >= 4 || day === 0 ? utcThursday(d) : utcThursday.ceil(d);\n  return pad(utcThursday.count(utcYear(d), d) + (utcYear(d).getUTCDay() === 4), p, 2);\n}\n\nfunction formatUTCWeekdayNumberSunday(d) {\n  return d.getUTCDay();\n}\n\nfunction formatUTCWeekNumberMonday(d, p) {\n  return pad(utcMonday.count(utcYear(d) - 1, d), p, 2);\n}\n\nfunction formatUTCYear(d, p) {\n  return pad(d.getUTCFullYear() % 100, p, 2);\n}\n\nfunction formatUTCFullYear(d, p) {\n  return pad(d.getUTCFullYear() % 10000, p, 4);\n}\n\nfunction formatUTCZone() {\n  return \"+0000\";\n}\n\nfunction formatLiteralPercent() {\n  return \"%\";\n}\n\nfunction formatUnixTimestamp(d) {\n  return +d;\n}\n\nfunction formatUnixTimestampSeconds(d) {\n  return Math.floor(+d / 1000);\n}\n\nvar locale$1;\nvar timeFormat;\nvar timeParse;\nvar utcFormat;\nvar utcParse;\ndefaultLocale$1({\n  dateTime: \"%x, %X\",\n  date: \"%-m/%-d/%Y\",\n  time: \"%-I:%M:%S %p\",\n  periods: [\"AM\", \"PM\"],\n  days: [\"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\"],\n  shortDays: [\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\"],\n  months: [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"],\n  shortMonths: [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"]\n});\n\nfunction defaultLocale$1(definition) {\n  locale$1 = formatLocale$1(definition);\n  timeFormat = locale$1.format;\n  timeParse = locale$1.parse;\n  utcFormat = locale$1.utcFormat;\n  utcParse = locale$1.utcParse;\n  return locale$1;\n}\n\nvar durationSecond$1 = 1000,\n    durationMinute$1 = durationSecond$1 * 60,\n    durationHour$1 = durationMinute$1 * 60,\n    durationDay$1 = durationHour$1 * 24,\n    durationWeek$1 = durationDay$1 * 7,\n    durationMonth = durationDay$1 * 30,\n    durationYear = durationDay$1 * 365;\n\nfunction date$1(t) {\n  return new Date(t);\n}\n\nfunction number$1(t) {\n  return t instanceof Date ? +t : +new Date(+t);\n}\n\nfunction calendar(year, month, week, day, hour, minute, second, millisecond, format) {\n  var scale = continuous(),\n      invert = scale.invert,\n      domain = scale.domain;\n  var formatMillisecond = format(\".%L\"),\n      formatSecond = format(\":%S\"),\n      formatMinute = format(\"%I:%M\"),\n      formatHour = format(\"%I %p\"),\n      formatDay = format(\"%a %d\"),\n      formatWeek = format(\"%b %d\"),\n      formatMonth = format(\"%B\"),\n      formatYear = format(\"%Y\");\n  var tickIntervals = [[second, 1, durationSecond$1], [second, 5, 5 * durationSecond$1], [second, 15, 15 * durationSecond$1], [second, 30, 30 * durationSecond$1], [minute, 1, durationMinute$1], [minute, 5, 5 * durationMinute$1], [minute, 15, 15 * durationMinute$1], [minute, 30, 30 * durationMinute$1], [hour, 1, durationHour$1], [hour, 3, 3 * durationHour$1], [hour, 6, 6 * durationHour$1], [hour, 12, 12 * durationHour$1], [day, 1, durationDay$1], [day, 2, 2 * durationDay$1], [week, 1, durationWeek$1], [month, 1, durationMonth], [month, 3, 3 * durationMonth], [year, 1, durationYear]];\n\n  function tickFormat(date) {\n    return (second(date) < date ? formatMillisecond : minute(date) < date ? formatSecond : hour(date) < date ? formatMinute : day(date) < date ? formatHour : month(date) < date ? week(date) < date ? formatDay : formatWeek : year(date) < date ? formatMonth : formatYear)(date);\n  }\n\n  function tickInterval(interval, start, stop) {\n    if (interval == null) interval = 10; // If a desired tick count is specified, pick a reasonable tick interval\n    // based on the extent of the domain and a rough estimate of tick size.\n    // Otherwise, assume interval is already a time interval and use it.\n\n    if (typeof interval === \"number\") {\n      var target = Math.abs(stop - start) / interval,\n          i = bisector(function (i) {\n        return i[2];\n      }).right(tickIntervals, target),\n          step;\n\n      if (i === tickIntervals.length) {\n        step = tickStep(start / durationYear, stop / durationYear, interval);\n        interval = year;\n      } else if (i) {\n        i = tickIntervals[target / tickIntervals[i - 1][2] < tickIntervals[i][2] / target ? i - 1 : i];\n        step = i[1];\n        interval = i[0];\n      } else {\n        step = Math.max(tickStep(start, stop, interval), 1);\n        interval = millisecond;\n      }\n\n      return interval.every(step);\n    }\n\n    return interval;\n  }\n\n  scale.invert = function (y) {\n    return new Date(invert(y));\n  };\n\n  scale.domain = function (_) {\n    return arguments.length ? domain(Array.from(_, number$1)) : domain().map(date$1);\n  };\n\n  scale.ticks = function (interval) {\n    var d = domain(),\n        t0 = d[0],\n        t1 = d[d.length - 1],\n        r = t1 < t0,\n        t;\n    if (r) t = t0, t0 = t1, t1 = t;\n    t = tickInterval(interval, t0, t1);\n    t = t ? t.range(t0, t1 + 1) : []; // inclusive stop\n\n    return r ? t.reverse() : t;\n  };\n\n  scale.tickFormat = function (count, specifier) {\n    return specifier == null ? tickFormat : format(specifier);\n  };\n\n  scale.nice = function (interval) {\n    var d = domain();\n    return (interval = tickInterval(interval, d[0], d[d.length - 1])) ? domain(nice(d, interval)) : scale;\n  };\n\n  scale.copy = function () {\n    return copy(scale, calendar(year, month, week, day, hour, minute, second, millisecond, format));\n  };\n\n  return scale;\n}\n\nfunction scaleTime() {\n  return initRange.apply(calendar(year, month, sunday, day, hour, minute, second, millisecond, timeFormat).domain([new Date(2000, 0, 1), new Date(2000, 0, 2)]), arguments);\n}\n\nfunction scaleUtc() {\n  return initRange.apply(calendar(utcYear, utcMonth, utcSunday, utcDay, utcHour, utcMinute, second, millisecond, utcFormat).domain([Date.UTC(2000, 0, 1), Date.UTC(2000, 0, 2)]), arguments);\n}\n\nvar _scales;\n\nvar scales = (_scales = {}, _defineProperty(_scales, axisTypeLinear, linear$1), _defineProperty(_scales, axisTypeLog, log), _defineProperty(_scales, axisTypeTime, scaleTime), _defineProperty(_scales, axisTypeUtc, scaleUtc), _defineProperty(_scales, axisTypeOrdinal, band), _scales);\n\nvar detectVertical = function detectVertical(d) {\n  return [positionLeft, positionRight].indexOf(d) > -1;\n};\n\nvar detectRTL = function detectRTL(d) {\n  return [positionTop, positionRight].indexOf(d) > -1;\n};\n\nfunction buildAxisLinear(_ref) {\n  var _ref$axis = _ref.axis,\n      primary = _ref$axis.primary,\n      type = _ref$axis.type,\n      invert = _ref$axis.invert,\n      position = _ref$axis.position,\n      primaryAxisID = _ref$axis.primaryAxisID,\n      _ref$axis$min = _ref$axis.min,\n      userMin = _ref$axis$min === void 0 ? undefined : _ref$axis$min,\n      _ref$axis$max = _ref$axis.max,\n      userMax = _ref$axis$max === void 0 ? undefined : _ref$axis$max,\n      _ref$axis$hardMin = _ref$axis.hardMin,\n      hardMin = _ref$axis$hardMin === void 0 ? undefined : _ref$axis$hardMin,\n      _ref$axis$hardMax = _ref$axis.hardMax,\n      hardMax = _ref$axis$hardMax === void 0 ? undefined : _ref$axis$hardMax,\n      _ref$axis$base = _ref$axis.base,\n      base = _ref$axis$base === void 0 ? undefined : _ref$axis$base,\n      _ref$axis$tickCount = _ref$axis.tickCount,\n      tickCount = _ref$axis$tickCount === void 0 ? \"auto\" : _ref$axis$tickCount,\n      _ref$axis$minTickCoun = _ref$axis.minTickCount,\n      minTickCount = _ref$axis$minTickCoun === void 0 ? 0 : _ref$axis$minTickCoun,\n      _ref$axis$maxTickCoun = _ref$axis.maxTickCount,\n      maxTickCount = _ref$axis$maxTickCoun === void 0 ? Infinity : _ref$axis$maxTickCoun,\n      _ref$axis$tickValues = _ref$axis.tickValues,\n      tickValues = _ref$axis$tickValues === void 0 ? null : _ref$axis$tickValues,\n      _ref$axis$format = _ref$axis.format,\n      userFormat = _ref$axis$format === void 0 ? null : _ref$axis$format,\n      _ref$axis$tickSizeInn = _ref$axis.tickSizeInner,\n      tickSizeInner = _ref$axis$tickSizeInn === void 0 ? 6 : _ref$axis$tickSizeInn,\n      _ref$axis$tickSizeOut = _ref$axis.tickSizeOuter,\n      tickSizeOuter = _ref$axis$tickSizeOut === void 0 ? 6 : _ref$axis$tickSizeOut,\n      _ref$axis$tickPadding = _ref$axis.tickPadding,\n      tickPadding = _ref$axis$tickPadding === void 0 ? 14 : _ref$axis$tickPadding,\n      _ref$axis$maxLabelRot = _ref$axis.maxLabelRotation,\n      maxLabelRotation = _ref$axis$maxLabelRot === void 0 ? 50 : _ref$axis$maxLabelRot,\n      _ref$axis$labelRotati = _ref$axis.labelRotationStep,\n      labelRotationStep = _ref$axis$labelRotati === void 0 ? 5 : _ref$axis$labelRotati,\n      _ref$axis$innerPaddin = _ref$axis.innerPadding,\n      innerPadding = _ref$axis$innerPaddin === void 0 ? 0.2 : _ref$axis$innerPaddin,\n      _ref$axis$outerPaddin = _ref$axis.outerPadding,\n      outerPadding = _ref$axis$outerPaddin === void 0 ? 0.1 : _ref$axis$outerPaddin,\n      _ref$axis$showGrid = _ref$axis.showGrid,\n      showGrid = _ref$axis$showGrid === void 0 ? null : _ref$axis$showGrid,\n      _ref$axis$showTicks = _ref$axis.showTicks,\n      showTicks = _ref$axis$showTicks === void 0 ? true : _ref$axis$showTicks,\n      _ref$axis$show = _ref$axis.show,\n      show = _ref$axis$show === void 0 ? true : _ref$axis$show,\n      _ref$axis$stacked = _ref$axis.stacked,\n      stacked = _ref$axis$stacked === void 0 ? false : _ref$axis$stacked,\n      userID = _ref$axis.id,\n      materializedData = _ref.materializedData,\n      gridHeight = _ref.gridHeight,\n      gridWidth = _ref.gridWidth,\n      axisDimensions = _ref.axisDimensions;\n\n  if (!position) {\n    throw new Error(\"Chart axes must have a valid 'position' property\");\n  } // Detect some settings\n\n\n  var valueKey = primary ? \"primary\" : \"secondary\";\n  var groupKey = !primary && \"primary\";\n  var AxisIDKey = \"\".concat(valueKey, \"AxisID\");\n  var vertical = detectVertical(position);\n  var RTL = detectRTL(position); // Right to left OR top to bottom\n\n  var id = userID || \"\".concat(position, \"_\").concat(type); // TODO: Any sorting needs to happen here, else the min/max's might not line up correctly\n  // First we need to find unique values, min/max values and negative/positive totals\n\n  var uniqueVals = [];\n  var min;\n  var max;\n  var negativeTotalByKey = {};\n  var positiveTotalByKey = {};\n  var domain;\n  var axisDimension = axisDimensions && axisDimensions[position] && axisDimensions[position][id]; // Loop through each series\n\n  for (var seriesIndex = 0; seriesIndex < materializedData.length; seriesIndex++) {\n    if (materializedData[seriesIndex][AxisIDKey] && materializedData[seriesIndex][AxisIDKey] !== id) {\n      continue;\n    } // Loop through each datum\n\n\n    for (var datumIndex = 0; datumIndex < materializedData[seriesIndex].datums.length; datumIndex++) {\n      var datum = materializedData[seriesIndex].datums[datumIndex];\n      var value = void 0;\n      var key = groupKey ? datum[groupKey] : datumIndex; // For ordinal scales, unique the values\n\n      if (type === axisTypeOrdinal) {\n        if (uniqueVals.indexOf() === -1) {\n          uniqueVals.push(materializedData[seriesIndex].datums[datumIndex][valueKey]);\n        }\n      } else if (type === axisTypeTime || type === axisTypeUtc) {\n        value = +datum[valueKey];\n      } else {\n        value = datum[valueKey];\n      } // Add to stack total\n\n\n      if (stacked) {\n        if (value > 0) {\n          positiveTotalByKey[key] = typeof positiveTotalByKey[key] !== \"undefined\" ? positiveTotalByKey[key] + value : value;\n        } else {\n          negativeTotalByKey[key] = typeof negativeTotalByKey[key] !== \"undefined\" ? negativeTotalByKey[key] + value : value;\n        }\n      } else {\n        // Find min/max\n        min = typeof min !== \"undefined\" ? Math.min(min, value) : value;\n        max = typeof max !== \"undefined\" ? Math.max(max, value) : value;\n      }\n    }\n  }\n\n  if (type === axisTypeOrdinal) {\n    domain = uniqueVals;\n  } else if (stacked) {\n    domain = [Math.min.apply(Math, [0].concat(_toConsumableArray(Object.values(negativeTotalByKey)))), Math.max.apply(Math, [0].concat(_toConsumableArray(Object.values(positiveTotalByKey))))];\n  } else {\n    domain = [min, max];\n  } // Now we need to figure out the range\n\n\n  var range = [0, vertical ? gridHeight : gridWidth]; // axes by default read from top to bottom and left to right\n\n  if (vertical && !primary) {\n    // Vertical secondary ranges get inverted by default\n    range.reverse();\n  } // Give the scale a home\n\n\n  var scale; // If this is an ordinal or other primary axis, it needs to be able to display bars.\n\n  var bandScale;\n  var barSize = 0;\n  var cursorSize = 0;\n  var stepSize = 0;\n\n  var seriesBandScale = function seriesBandScale(d) {\n    return d;\n  };\n\n  var seriesBarSize = 1;\n\n  if (type === axisTypeOrdinal || primary) {\n    // Calculate a band axis that is similar and pass down the bandwidth\n    // just in case.\n    bandScale = band().domain(materializedData.reduce(function (prev, current) {\n      return current.datums.length > prev.length ? current.datums : prev;\n    }, []).map(function (d) {\n      return d.primary;\n    })).rangeRound(range, 0.1).padding(0);\n    bandScale.paddingOuter(outerPadding).paddingInner(innerPadding);\n    barSize = bandScale.bandwidth();\n\n    if (type === axisTypeOrdinal) {\n      cursorSize = barSize;\n    } // barSize = bandScale.bandwidth()\n\n\n    stepSize = bandScale.step(); // Create a seriesBandScale in case this axis isn't stacked\n\n    seriesBandScale = band().paddingInner(innerPadding / 2).domain(materializedData.filter(function (d) {\n      return d.Component === Bar;\n    }).map(function (d, i) {\n      return i;\n    })).rangeRound([0, barSize]);\n    seriesBarSize = seriesBandScale.bandwidth();\n  }\n\n  if (type === axisTypeOrdinal) {\n    // If it's ordinal, just assign the bandScale we made\n    scale = bandScale;\n  } else {\n    // Otherwise, create a new scale of the appropriate type\n    scale = scales[type]();\n  } // Set base, min, and max\n\n\n  if (typeof base === \"number\") {\n    domain[0] = Math.min(domain[0], base);\n    domain[1] = Math.max(domain[1], base);\n  }\n\n  if (typeof defaultMin === \"number\") {\n    domain[0] = Math.min(domain[0], userMin);\n  }\n\n  if (typeof defaultMax === \"number\") {\n    domain[1] = Math.max(domain[1], userMax);\n  } // Set the domain\n\n\n  scale.domain(domain); // If we're not using an ordinal scale, round the ticks to \"nice\" values\n\n  if (type !== axisTypeOrdinal) {\n    scale.nice();\n  } // If hard min and max are set, override any \"nice\" rounding values\n\n\n  if (typeof hardMin === \"number\") {\n    scale.domain([hardMin, scale.domain()[1]]);\n  }\n\n  if (typeof hardMax === \"number\") {\n    scale.domain([scale.domain()[0], hardMax]);\n  } // Invert if necessary\n\n\n  if (invert) {\n    scale.domain(_toConsumableArray(scale.domain()).reverse());\n  } // Now set the range\n\n\n  scale.range(range);\n  var scaleFormat = scale.tickFormat ? scale.tickFormat() : Utils.identity;\n  var format = userFormat ? function () {\n    return userFormat(scaleFormat.apply(void 0, arguments));\n  } : scaleFormat; // Pass down the axis config (including the scale itself) for posterity\n\n  var axis = {\n    id: id,\n    primary: primary,\n    type: type,\n    invert: invert,\n    position: position,\n    primaryAxisID: primaryAxisID,\n    hardMin: hardMin,\n    hardMax: hardMax,\n    base: base,\n    tickCount: tickCount,\n    minTickCount: minTickCount,\n    maxTickCount: maxTickCount,\n    tickValues: tickValues,\n    tickSizeInner: tickSizeInner,\n    tickSizeOuter: tickSizeOuter,\n    tickPadding: tickPadding,\n    maxLabelRotation: maxLabelRotation,\n    labelRotationStep: labelRotationStep,\n    innerPadding: innerPadding,\n    outerPadding: outerPadding,\n    showGrid: showGrid,\n    showTicks: showTicks,\n    show: show,\n    stacked: stacked,\n    scale: scale,\n    uniqueVals: uniqueVals,\n    vertical: vertical,\n    RTL: RTL,\n    barSize: barSize,\n    cursorSize: cursorSize,\n    stepSize: stepSize,\n    seriesBandScale: seriesBandScale,\n    seriesBarSize: seriesBarSize,\n    domain: domain,\n    range: range,\n    max: position === positionBottom ? -gridHeight : position === positionLeft ? gridWidth : position === positionTop ? gridHeight : -gridWidth,\n    directionMultiplier: position === positionTop || position === positionLeft ? -1 : 1,\n    transform: !vertical ? Utils.translateX : Utils.translateY,\n    ticks: tickValues || scale.ticks ? scale.ticks(tickCount === \"auto\" ? axisDimension ? axisDimension.tickCount : 10 : tickCount) : scale.domain(),\n    format: format,\n    spacing: Math.max(tickSizeInner, 0) + tickPadding\n  };\n\n  if (type === axisTypeOrdinal) {\n    axis.gridOffset = -(axis.stepSize * innerPadding) / 2;\n    axis.tickOffset = axis.barSize / 2;\n    axis.barOffset = 0;\n  } else {\n    axis.tickOffset = 0;\n    axis.barOffset = -axis.barSize / 2;\n  }\n\n  return axis;\n} // import buildAxisPie from './buildAxis.pie'\n\n\nfunction buildAxis(config) {\n  // if (config.type === 'pie') {\n  // return buildAxisPie(config)\n  // }\n  return buildAxisLinear(config);\n}\n\nvar axisShape = PropTypes.shape({\n  primary: PropTypes.bool,\n  type: PropTypes.oneOf([axisTypeOrdinal, axisTypeTime, axisTypeUtc, axisTypeLinear, axisTypeLog]).isRequired,\n  invert: PropTypes.bool,\n  position: PropTypes.oneOf([positionTop, positionRight, positionBottom, positionLeft]),\n  primaryAxisID: PropTypes.any,\n  min: PropTypes.any,\n  max: PropTypes.any,\n  hardMin: PropTypes.any,\n  hardMax: PropTypes.any,\n  base: PropTypes.any,\n  ticks: PropTypes.any,\n  tickValues: PropTypes.any,\n  format: PropTypes.func,\n  tickSizeInner: PropTypes.number,\n  tickSizeOuter: PropTypes.number,\n  tickPadding: PropTypes.number,\n  maxLabelRotation: PropTypes.number,\n  innerPadding: PropTypes.number,\n  outerPadding: PropTypes.number,\n  showGrid: PropTypes.bool,\n  showTicks: PropTypes.bool,\n  show: PropTypes.bool,\n  stacked: PropTypes.bool,\n  id: PropTypes.any\n});\n\nvar calculateAxes = function (_ref) {\n  var axes = _ref.axes,\n      materializedData = _ref.materializedData,\n      gridHeight = _ref.gridHeight,\n      gridWidth = _ref.gridWidth,\n      axisDimensions = _ref.axisDimensions; // Detect axes changes and build axes\n\n  var prePrimaryAxes = axes.filter(function (d) {\n    return d.primary;\n  });\n  var preSecondaryAxes = axes.filter(function (d) {\n    return !d.primary;\n  });\n  var primaryAxesHashes = JSON.stringify(prePrimaryAxes);\n  var secondaryAxesHashes = JSON.stringify(preSecondaryAxes); // Calculate primary axes\n\n  var primaryAxes = React.useMemo(function () {\n    return prePrimaryAxes.map(function (axis, i) {\n      return buildAxis({\n        axis: axis,\n        materializedData: materializedData,\n        gridWidth: gridWidth,\n        gridHeight: gridHeight,\n        axisDimensions: axisDimensions\n      });\n    });\n  }, // eslint-disable-next-line react-hooks/exhaustive-deps\n  [primaryAxesHashes, materializedData, gridHeight, gridWidth]); // Calculate secondary axes\n\n  var secondaryAxes = React.useMemo(function () {\n    return preSecondaryAxes.map(function (axis, i) {\n      return buildAxis({\n        axis: axis,\n        primaryAxes: primaryAxes,\n        materializedData: materializedData,\n        gridWidth: gridWidth,\n        gridHeight: gridHeight,\n        axisDimensions: axisDimensions\n      });\n    });\n  }, // eslint-disable-next-line react-hooks/exhaustive-deps\n  [secondaryAxesHashes, materializedData, gridHeight, gridWidth]); // Make sure we're mapping x and y to the correct axes\n\n  var xKey = primaryAxes.find(function (d) {\n    return d.vertical;\n  }) ? 'secondary' : 'primary';\n  var yKey = primaryAxes.find(function (d) {\n    return d.vertical;\n  }) ? 'primary' : 'secondary';\n  var xAxes = primaryAxes.find(function (d) {\n    return d.vertical;\n  }) ? secondaryAxes : primaryAxes;\n  var yAxes = primaryAxes.find(function (d) {\n    return d.vertical;\n  }) ? primaryAxes : secondaryAxes;\n  return {\n    primaryAxes: primaryAxes,\n    secondaryAxes: secondaryAxes,\n    xKey: xKey,\n    yKey: yKey,\n    xAxes: xAxes,\n    yAxes: yAxes\n  };\n};\n\nvar defaultColors = ['#4ab5eb', '#fc6868', '#DECF3F', '#60BD68', '#FAA43A', '#c63b89', '#1aaabe', '#734fe9', '#1828bd', '#cd82ad'];\n\nvar calculateStackData = function (_ref) {\n  var materializedData = _ref.materializedData,\n      primaryAxes = _ref.primaryAxes,\n      secondaryAxes = _ref.secondaryAxes,\n      yAxes = _ref.yAxes,\n      yKey = _ref.yKey,\n      xAxes = _ref.xAxes,\n      xKey = _ref.xKey,\n      grouping = _ref.grouping; // Make stackData\n\n  return React.useMemo(function () {\n    // We need materializedData and both axes to continue\n    if (!primaryAxes.length || !secondaryAxes.length) {\n      throw new Error('A primary and secondary axis is required!');\n    } // If the axes are ready, let's decorate the materializedData for visual plotting\n    // \"totals\" are kept per secondaryAxis and used for bases if secondaryAxis stacking is enabled\n\n\n    var scaleTotals = secondaryAxes.map(function () {\n      return {};\n    });\n    materializedData.forEach(function (series) {\n      var axisIndex = Utils.getAxisIndexByAxisID(secondaryAxes, series.secondaryAxisID);\n      series.datums.forEach(function (datum) {\n        scaleTotals[axisIndex][datum.primary] = {\n          negative: 0,\n          positive: 0\n        };\n      });\n    }); // Determine the correct primary and secondary values for each axis\n    // Also calculate bases and totals if either axis is stacked\n\n    var stackData = materializedData.map(function (series) {\n      var primaryAxisIndex = Utils.getAxisIndexByAxisID(primaryAxes, series.primaryAxisID);\n      var primaryAxis = primaryAxes[primaryAxisIndex];\n      var secondaryAxisIndex = Utils.getAxisIndexByAxisID(secondaryAxes, series.secondaryAxisID);\n      var secondaryAxis = secondaryAxes[secondaryAxisIndex];\n      return _objectSpread2({}, series, {\n        primaryAxis: primaryAxis,\n        secondaryAxis: secondaryAxis,\n        datums: series.datums.map(function (d) {\n          var datum = _objectSpread2({}, d, {\n            primaryAxis: primaryAxis,\n            secondaryAxis: secondaryAxis,\n            xValue: d[xKey],\n            yValue: d[yKey],\n            baseValue: 0\n          });\n\n          if (secondaryAxis.stacked) {\n            var start = scaleTotals[secondaryAxisIndex][d.primary]; // Stack the x or y values (according to axis positioning)\n\n            if (primaryAxis.vertical) {\n              // Is this a valid point?\n              var validPoint = Utils.isValidPoint(datum.xValue); // Should we use positive or negative base?\n\n              var totalKey = datum.xValue >= 0 ? 'positive' : 'negative'; // Assign the base\n\n              datum.baseValue = start[totalKey]; // Add the value for a total\n\n              datum.totalValue = datum.baseValue + (validPoint ? datum.xValue : 0); // Update the totals\n\n              scaleTotals[secondaryAxisIndex][d.primary][totalKey] = datum.totalValue; // Make the total the new value\n\n              datum.xValue = validPoint ? datum.totalValue : null;\n            } else {\n              // Is this a valid point?\n              var _validPoint = Utils.isValidPoint(datum.yValue); // Should we use positive or negative base?\n\n\n              var _totalKey = datum.yValue >= 0 ? 'positive' : 'negative'; // Assign the base\n\n\n              datum.baseValue = start[_totalKey]; // Add the value to the base\n\n              datum.totalValue = datum.baseValue + (_validPoint ? datum.yValue : 0); // Update the totals\n\n              scaleTotals[secondaryAxisIndex][d.primary][_totalKey] = datum.totalValue; // Make the total the new value\n\n              datum.yValue = _validPoint ? datum.totalValue : null;\n            }\n          }\n\n          return datum;\n        })\n      });\n    });\n    stackData.forEach(function (series) {\n      series.datums.forEach(function (datum) {\n        datum.series = series;\n      });\n    }); // Use the plotDatum method on each series\n\n    stackData.forEach(function (series, i) {\n      if (!series.Component.plotDatum) {\n        throw new Error(\"Could not find a [SeriesType].plotDatum() static method for the series Component above (index: \".concat(i, \")\"));\n      }\n\n      var primaryAxisIndex = Utils.getAxisIndexByAxisID(primaryAxes, series.primaryAxisID);\n      var secondaryAxisIndex = Utils.getAxisIndexByAxisID(secondaryAxes, series.secondaryAxisID);\n      var primaryAxis = primaryAxes[primaryAxisIndex];\n      var secondaryAxis = secondaryAxes[secondaryAxisIndex];\n      var xAxisIndex = Utils.getAxisIndexByAxisID(xAxes, series[\"\".concat(xKey, \"AxisID\")]);\n      var yAxisIndex = Utils.getAxisIndexByAxisID(yAxes, series[\"\".concat(yKey, \"AxisID\")]);\n      var xAxis = xAxes[xAxisIndex];\n      var yAxis = yAxes[yAxisIndex];\n      series.datums = series.datums.map(function (d) {\n        // Data for cartesian charts\n        var result = series.Component.plotDatum(d, {\n          primaryAxis: primaryAxis,\n          secondaryAxis: secondaryAxis,\n          xAxis: xAxis,\n          yAxis: yAxis\n        });\n        return result || d;\n      });\n    }); // Do any data grouping ahead of time using\n\n    if ([groupingSingle, groupingSeries].includes(grouping)) {\n      for (var seriesIndex = 0; seriesIndex < stackData.length; seriesIndex++) {\n        var series = stackData[seriesIndex];\n\n        for (var datumIndex = 0; datumIndex < series.datums.length; datumIndex++) {\n          var datum = series.datums[datumIndex];\n          datum.group = grouping === groupingSeries ? datum.series.datums : [datum];\n        }\n      }\n    } else if ([groupingPrimary, groupingSecondary].includes(grouping)) {\n      var datumsByGrouping = {};\n\n      for (var _seriesIndex = 0; _seriesIndex < stackData.length; _seriesIndex++) {\n        var _series = stackData[_seriesIndex];\n\n        for (var _datumIndex = 0; _datumIndex < _series.datums.length; _datumIndex++) {\n          var _datum = _series.datums[_datumIndex];\n\n          if (!_datum.defined) {\n            continue;\n          }\n\n          var axisKey = String(grouping === groupingPrimary ? _datum.primary : _datum.secondary);\n          datumsByGrouping[axisKey] = datumsByGrouping[axisKey] || [];\n          datumsByGrouping[axisKey].push(_datum);\n        }\n      }\n\n      for (var _seriesIndex2 = 0; _seriesIndex2 < stackData.length; _seriesIndex2++) {\n        var _series2 = stackData[_seriesIndex2];\n\n        for (var _datumIndex2 = 0; _datumIndex2 < _series2.datums.length; _datumIndex2++) {\n          var _datum2 = _series2.datums[_datumIndex2];\n\n          var _axisKey = String(grouping === groupingPrimary ? _datum2.primary : _datum2.secondary);\n\n          _datum2.group = datumsByGrouping[_axisKey];\n        }\n      }\n    } // Not we need to precalculate all of the possible status styles by\n    // calling the seemingly 'live' getSeriesStyle, and getDatumStyle callbacks ;)\n\n\n    stackData = stackData.map(function (series, i) {\n      if (!series.Component.buildStyles) {\n        throw new Error(\"Could not find a SeriesType.buildStyles() static method for the series Component above (index: \".concat(i, \")\"));\n      }\n\n      var result = series.Component.buildStyles(series, {\n        defaultColors: defaultColors\n      });\n      return result || series;\n    });\n    return stackData;\n  }, [primaryAxes, secondaryAxes, materializedData, grouping, xKey, yKey, xAxes, yAxes]);\n};\n\nvar showCount = 10;\n\nfunction getSecondaryFormatter(datum, formatSecondary) {\n  return formatSecondary || datum.secondaryAxis.format || function (val) {\n    return Math.floor(val) < val ? Math.round(val * 100) / 100 : val;\n  };\n}\n\nfunction TooltipRenderer(props) {\n  var datum = props.datum,\n      grouping = props.grouping,\n      primaryAxis = props.primaryAxis,\n      secondaryAxis = props.secondaryAxis,\n      formatSecondary = props.formatSecondary,\n      formatTertiary = props.formatTertiary,\n      getStyle = props.getStyle,\n      dark = props.dark;\n\n  if (!datum) {\n    return null;\n  }\n\n  var resolvedFormatTertiary = formatTertiary || function (val) {\n    return Math.floor(val) < val ? Math.round(val * 100) / 100 : val;\n  };\n\n  var sortedGroupDatums = _toConsumableArray(datum.group).sort(function (a, b) {\n    if (!primaryAxis.stacked && grouping === groupingSeries || grouping === groupingSecondary) {\n      if (a.primaryCoord > b.primaryCoord) {\n        return -1;\n      } else if (a.primaryCoord < b.primaryCoord) {\n        return 1;\n      }\n    } else if (!secondaryAxis.stacked) {\n      if (a.secondaryCoord > b.secondaryCoord) {\n        return -1;\n      } else if (a.secondaryCoord < b.secondaryCoord) {\n        return 1;\n      }\n    }\n\n    return a.seriesIndex > b.seriesIndex ? 1 : -1;\n  });\n\n  if (grouping === groupingPrimary) {\n    sortedGroupDatums.reverse();\n  }\n\n  if (secondaryAxis.invert) {\n    sortedGroupDatums.reverse();\n  }\n\n  var resolvedShowCount = showCount;\n  var length = sortedGroupDatums.length; // Get the focused series' index\n\n  var activeIndex = sortedGroupDatums.findIndex(function (d) {\n    return d === datum;\n  }); // Get the start by going back half of the showCount\n\n  var start = activeIndex > -1 ? activeIndex - resolvedShowCount / 2 : 0; // Make sure it's at least 0\n\n  start = Math.max(start, 0); // Use the start and add the showCount to get the end\n\n  var end = activeIndex > -1 ? start + resolvedShowCount : length; // Don't let the end go passed the length\n\n  end = Math.min(end, length); // Double check we aren't clipping the start\n\n  start = Math.max(end - resolvedShowCount, 0); // Slice the datums by start and end\n\n  var visibleSortedGroupDatums = sortedGroupDatums.slice(start, end); // Detect if we have previous items\n\n  var hasPrevious = start > 0; // Or next items\n\n  var hasNext = end < length;\n  return React.createElement(\"div\", null, React.createElement(\"div\", {\n    style: {\n      marginBottom: \"3px\",\n      textAlign: \"center\"\n    }\n  }, grouping === groupingSeries ? React.createElement(\"strong\", null, datum.seriesLabel) : grouping === groupingSecondary ? React.createElement(\"strong\", null, datum.secondaryAxis.format(datum.secondary)) : React.createElement(\"strong\", null, datum.primaryAxis.format(datum.primary))), React.createElement(\"table\", {\n    style: {\n      whiteSpace: \"nowrap\"\n    }\n  }, React.createElement(\"tbody\", null, hasPrevious ? React.createElement(\"tr\", {\n    style: {\n      opacity: 0.8\n    }\n  }, React.createElement(\"td\", null), React.createElement(\"td\", null, \"...\"), React.createElement(\"td\", null)) : null, visibleSortedGroupDatums.map(function (sortedDatum, i) {\n    var active = sortedDatum === datum;\n    var resolvedSecondaryFormat = getSecondaryFormatter(sortedDatum, formatSecondary);\n    return React.createElement(\"tr\", {\n      key: i,\n      style: {\n        opacity: active ? 1 : 0.8,\n        fontWeight: active && \"bold\"\n      }\n    }, React.createElement(\"td\", {\n      style: {\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n        marginRight: \"5px\"\n      }\n    }, React.createElement(\"svg\", {\n      width: \"16\",\n      height: \"16\"\n    }, React.createElement(\"circle\", {\n      cx: \"8\",\n      cy: \"8\",\n      r: \"7\",\n      style: _objectSpread2({}, getStyle(sortedDatum), {\n        stroke: dark ? \"black\" : \"white\",\n        strokeWidth: active ? 2 : 1\n      })\n    }))), grouping === groupingSeries ? React.createElement(React.Fragment, null, React.createElement(\"td\", null, primaryAxis.format(sortedDatum.primary), \": \\xA0\"), React.createElement(\"td\", {\n      style: {\n        textAlign: \"right\"\n      }\n    }, resolvedSecondaryFormat(sortedDatum.secondary), sortedDatum.r ? \" (\".concat(resolvedFormatTertiary(sortedDatum.r), \")\") : null)) : grouping === groupingSecondary ? React.createElement(React.Fragment, null, React.createElement(\"td\", null, sortedDatum.seriesLabel, \": \\xA0\"), React.createElement(\"td\", {\n      style: {\n        textAlign: \"right\"\n      }\n    }, primaryAxis.format(sortedDatum.primary), sortedDatum.r ? \" (\".concat(resolvedFormatTertiary(sortedDatum.r), \")\") : null)) : React.createElement(React.Fragment, null, React.createElement(\"td\", null, sortedDatum.seriesLabel, \": \\xA0\"), React.createElement(\"td\", {\n      style: {\n        textAlign: \"right\"\n      }\n    }, resolvedSecondaryFormat(sortedDatum.secondary), sortedDatum.r ? \" (\".concat(resolvedFormatTertiary(sortedDatum.r), \")\") : null)));\n  }), hasNext ? React.createElement(\"tr\", {\n    style: {\n      opacity: 0.8\n    }\n  }, React.createElement(\"td\", null), React.createElement(\"td\", null, \"...\"), React.createElement(\"td\", null)) : null, secondaryAxis && secondaryAxis.stacked && datum.group.length > 1 ? React.createElement(\"tr\", null, React.createElement(\"td\", {\n    style: {\n      paddingTop: \"5px\"\n    }\n  }, React.createElement(\"div\", {\n    style: {\n      width: \"12px\",\n      height: \"12px\",\n      backgroundColor: dark ? \"rgba(0, 26, 39, 0.3)\" : \"rgba(255,255,255,.2)\",\n      borderRadius: \"50px\"\n    }\n  })), React.createElement(\"td\", {\n    style: {\n      paddingTop: \"5px\"\n    }\n  }, \"Total: \\xA0\"), React.createElement(\"td\", {\n    style: {\n      paddingTop: \"5px\"\n    }\n  }, secondaryAxis.format(_toConsumableArray(datum.group).reverse()[0].totalValue))) : null)));\n}\n\nvar alignPropType = PropTypes.oneOf([alignAuto, alignRight, alignTopRight, alignBottomRight, alignLeft, alignTopLeft, alignBottomLeft, alignTop, alignBottom]);\nvar tooltipShape = PropTypes.oneOfType([PropTypes.oneOf([true]), PropTypes.shape({\n  align: alignPropType,\n  alignPriority: PropTypes.arrayOf(alignPropType),\n  padding: PropTypes.number,\n  tooltipArrowPadding: PropTypes.number,\n  anchor: PropTypes.oneOf([anchorPointer, anchorClosest, anchorCenter, anchorTop, anchorBottom, anchorLeft, anchorRight, anchorGridTop, anchorGridBottom, anchorGridLeft, anchorGridRight]),\n  render: PropTypes.func.required,\n  onChange: PropTypes.func\n})]);\n\nvar calculateTooltip = function (_ref) {\n  var focused = _ref.focused,\n      tooltip = _ref.tooltip,\n      pointer = _ref.pointer,\n      gridWidth = _ref.gridWidth,\n      gridHeight = _ref.gridHeight;\n  return React.useMemo(function () {\n    if (!tooltip) {\n      return null;\n    } // Default tooltip props\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n\n\n    tooltip = _objectSpread2({\n      align: alignAuto,\n      alignPriority: [alignRight, alignTopRight, alignBottomRight, alignLeft, alignTopLeft, alignBottomLeft, alignTop, alignBottom],\n      padding: 5,\n      tooltipArrowPadding: 7,\n      anchor: 'closest',\n      render: TooltipRenderer,\n      onChange: function onChange() {}\n    }, tooltip);\n    var anchor = {};\n    var show = true; // If there is a focused datum, default the focus to its x and y\n\n    if (focused) {\n      anchor = focused.anchor;\n    } else {\n      show = false;\n    }\n\n    if (tooltip.anchor === 'pointer') {\n      // Support pointer-bound focus\n      anchor = pointer;\n    } else if (tooltip.anchor === 'closest') ;else if (focused) {\n      // Support manual definition of focus point using relative multiFocus strategy\n      var multiFocus = Array.isArray(tooltip.anchor) ? _toConsumableArray(tooltip.anchor) : [tooltip.anchor];\n      anchor = Utils.getMultiAnchor({\n        anchor: multiFocus,\n        points: focused.group,\n        gridWidth: gridWidth,\n        gridHeight: gridHeight\n      });\n    }\n\n    anchor = anchor ? _objectSpread2({\n      horizontalPadding: anchor.horizontalPadding || 0,\n      verticalPadding: anchor.verticalPadding || 0\n    }, anchor) : anchor;\n    return _objectSpread2({}, tooltip, {\n      anchor: anchor,\n      show: show\n    });\n  }, [focused, gridHeight, gridWidth, pointer, tooltip]);\n};\n\nvar cursorShape = PropTypes.oneOfType([PropTypes.oneOf([true]), PropTypes.shape({\n  render: PropTypes.func,\n  snap: PropTypes.bool,\n  showLine: PropTypes.bool,\n  showLabel: PropTypes.bool,\n  axisID: PropTypes.any,\n  onChange: PropTypes.func\n})]);\nvar defaultCursorProps = {\n  render: function render(_ref) {\n    var formattedValue = _ref.formattedValue;\n    return React.createElement(\"span\", null, formattedValue);\n  },\n  snap: true,\n  showLine: true,\n  showLabel: true,\n  axisID: undefined,\n  onChange: function onChange() {}\n};\n\nvar calculateCursors = function (_ref2) {\n  var primaryCursor = _ref2.primaryCursor,\n      secondaryCursor = _ref2.secondaryCursor,\n      primaryAxes = _ref2.primaryAxes,\n      secondaryAxes = _ref2.secondaryAxes,\n      focused = _ref2.focused,\n      pointer = _ref2.pointer,\n      gridWidth = _ref2.gridWidth,\n      gridHeight = _ref2.gridHeight,\n      stackData = _ref2.stackData;\n  return [primaryCursor, secondaryCursor].map(function (cursor, i) {\n    var cursorValue = cursor && cursor.value;\n    return React.useMemo(function () {\n      if (!cursor) {\n        return;\n      }\n\n      var primary = i === 0; // eslint-disable-next-line react-hooks/exhaustive-deps\n\n      cursor = _objectSpread2({}, defaultCursorProps, {}, cursor, {\n        primary: primary\n      });\n      var value;\n      var show = false; // Determine the axis to use\n\n      var axis = Utils.getAxisByAxisID(primary ? primaryAxes : secondaryAxes, cursor.axisID || focused ? focused.series[primary ? 'primaryAxisID' : 'secondaryAxisID'] : undefined);\n      var siblingAxis = primary ? secondaryAxes[0] : primaryAxes[0]; // Resolve the invert function\n\n      var invert = axis.scale.invert || function (d) {\n        return d;\n      }; // If the pointer is active, try to show\n\n\n      if (pointer.active) {\n        // Default to cursor x and y\n        var x = pointer.x;\n        var y = pointer.y; // If the cursor isn't in the grid, don't display\n\n        if (x < -1 || x > gridWidth + 1 || y < -1 || y > gridHeight + 1) {\n          show = false;\n        } else {\n          show = true;\n        } // Implement snapping\n\n\n        if (axis.type === 'ordinal' || cursor.snap) {\n          if (!focused) {\n            show = false;\n          } else {\n            if (axis.vertical) {\n              value = focused.yValue;\n            } else {\n              value = focused.xValue;\n            }\n          }\n        } else if (axis.vertical) {\n          value = invert(y);\n        } else {\n          value = invert(x);\n        }\n      } else {\n        show = false;\n      }\n\n      var resolvedShow = show;\n      var resolvedValue = value;\n\n      if (typeof cursor.value !== 'undefined' && cursor.value !== null) {\n        resolvedValue = cursor.value;\n\n        if (typeof cursor.show !== 'undefined') {\n          resolvedShow = cursor.show;\n        } else {\n          resolvedShow = true;\n        }\n\n        if (typeof axis.scale(resolvedValue) === 'undefined') {\n          resolvedShow = false;\n        }\n      }\n\n      return _objectSpread2({}, cursor, {\n        axis: axis,\n        siblingAxis: siblingAxis,\n        show: show,\n        value: value,\n        resolvedShow: resolvedShow,\n        resolvedValue: resolvedValue\n      });\n    }, [stackData, pointer, cursorValue]);\n  });\n};\n\nvar defaultProps = {\n  getDatums: function getDatums(d) {\n    return Array.isArray(d) ? d : d.datums || d.data;\n  },\n  getLabel: function getLabel(d, i) {\n    return d.label || \"Series \".concat(i + 1);\n  },\n  getSeriesID: function getSeriesID(d, i) {\n    return i;\n  },\n  getPrimary: function getPrimary(d) {\n    return Array.isArray(d) ? d[0] : d.primary || d.x;\n  },\n  getSecondary: function getSecondary(d) {\n    return Array.isArray(d) ? d[1] : d.secondary || d.y;\n  },\n  getR: function getR(d) {\n    return Array.isArray(d) ? d[2] : d.radius || d.r;\n  },\n  getPrimaryAxisID: function getPrimaryAxisID(s) {\n    return s.primaryAxisID;\n  },\n  getSecondaryAxisID: function getSecondaryAxisID(s) {\n    return s.secondaryAxisID;\n  },\n  getSeriesStyle: function getSeriesStyle(series) {\n    return {\n      color: series.originalSeries.color\n    };\n  },\n  getDatumStyle: function getDatumStyle() {\n    return {};\n  },\n  getSeriesOrder: function getSeriesOrder(d) {\n    return d;\n  },\n  onHover: function onHover() {},\n  grouping: groupingPrimary,\n  focus: focusAuto,\n  showVoronoi: false\n};\n\nfunction Chart(_ref) {\n  var data = _ref.data,\n      grouping = _ref.grouping,\n      focus = _ref.focus,\n      showVoronoi = _ref.showVoronoi,\n      dark = _ref.dark,\n      series = _ref.series,\n      axes = _ref.axes,\n      primaryCursor = _ref.primaryCursor,\n      secondaryCursor = _ref.secondaryCursor,\n      tooltip = _ref.tooltip,\n      brush = _ref.brush,\n      renderSVG = _ref.renderSVG,\n      getDatums = _ref.getDatums,\n      getLabel = _ref.getLabel,\n      getSeriesID = _ref.getSeriesID,\n      getPrimary = _ref.getPrimary,\n      getSecondary = _ref.getSecondary,\n      getR = _ref.getR,\n      getPrimaryAxisID = _ref.getPrimaryAxisID,\n      getSecondaryAxisID = _ref.getSecondaryAxisID,\n      getSeriesStyle = _ref.getSeriesStyle,\n      getDatumStyle = _ref.getDatumStyle,\n      onClick = _ref.onClick,\n      onFocus = _ref.onFocus,\n      onHover = _ref.onHover,\n      getSeriesOrder = _ref.getSeriesOrder,\n      rest = _objectWithoutProperties(_ref, [\"data\", \"grouping\", \"focus\", \"showVoronoi\", \"dark\", \"series\", \"axes\", \"primaryCursor\", \"secondaryCursor\", \"tooltip\", \"brush\", \"renderSVG\", \"getDatums\", \"getLabel\", \"getSeriesID\", \"getPrimary\", \"getSecondary\", \"getR\", \"getPrimaryAxisID\", \"getSecondaryAxisID\", \"getSeriesStyle\", \"getDatumStyle\", \"onClick\", \"onFocus\", \"onHover\", \"getSeriesOrder\"]);\n\n  var _React$useState = React.useState({\n    focused: null,\n    element: null,\n    axisDimensions: {},\n    padding: {},\n    offset: {},\n    pointer: {}\n  }),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      _React$useState2$ = _React$useState2[0],\n      focused = _React$useState2$.focused,\n      element = _React$useState2$.element,\n      axisDimensions = _React$useState2$.axisDimensions,\n      offsetState = _React$useState2$.offset,\n      padding = _React$useState2$.padding,\n      pointer = _React$useState2$.pointer,\n      setChartState = _React$useState2[1];\n\n  var onClickRef = useLatestRef(onClick);\n  var onFocusRef = useLatestRef(onFocus);\n  var onHoverRef = useLatestRef(onHover);\n  var responsiveElRef = React.useRef();\n\n  var _useHyperResponsive = useHyperResponsive(responsiveElRef),\n      _useHyperResponsive2 = _slicedToArray(_useHyperResponsive, 1),\n      _useHyperResponsive2$ = _useHyperResponsive2[0],\n      width = _useHyperResponsive2$.width,\n      height = _useHyperResponsive2$.height;\n\n  getSeriesID = React.useCallback(Utils.normalizeGetter(getSeriesID), [getSeriesID]);\n  getLabel = React.useCallback(Utils.normalizeGetter(getLabel), [getLabel]);\n  getPrimaryAxisID = React.useCallback(Utils.normalizeGetter(getPrimaryAxisID), [getPrimaryAxisID]);\n  getSecondaryAxisID = React.useCallback(Utils.normalizeGetter(getSecondaryAxisID), [getSecondaryAxisID]);\n  getDatums = React.useCallback(Utils.normalizeGetter(getDatums), [getDatums]);\n  getPrimary = React.useCallback(Utils.normalizeGetter(getPrimary), [getPrimary]);\n  getSecondary = React.useCallback(Utils.normalizeGetter(getSecondary), [getSecondary]);\n  getR = React.useCallback(Utils.normalizeGetter(getR), [getR]);\n  var materializedData = calculateMaterializeData({\n    data: data,\n    getSeriesID: getSeriesID,\n    getLabel: getLabel,\n    getPrimaryAxisID: getPrimaryAxisID,\n    getSecondaryAxisID: getSecondaryAxisID,\n    getDatums: getDatums,\n    getPrimary: getPrimary,\n    getSecondary: getSecondary,\n    getR: getR\n  });\n  var seriesOptions = calculateSeriesOptions({\n    materializedData: materializedData,\n    series: series\n  });\n  materializedData = calculateSeriesTypes({\n    materializedData: materializedData,\n    seriesOptions: seriesOptions\n  });\n\n  var _calculateDimensions = calculateDimensions({\n    width: width,\n    height: height,\n    axisDimensions: axisDimensions,\n    padding: padding,\n    offset: offsetState\n  }),\n      offset = _calculateDimensions.offset,\n      gridX = _calculateDimensions.gridX,\n      gridY = _calculateDimensions.gridY,\n      gridWidth = _calculateDimensions.gridWidth,\n      gridHeight = _calculateDimensions.gridHeight;\n\n  var _calculateAxes = calculateAxes({\n    axes: axes,\n    materializedData: materializedData,\n    gridHeight: gridHeight,\n    gridWidth: gridWidth,\n    axisDimensions: axisDimensions\n  }),\n      primaryAxes = _calculateAxes.primaryAxes,\n      secondaryAxes = _calculateAxes.secondaryAxes,\n      xKey = _calculateAxes.xKey,\n      yKey = _calculateAxes.yKey,\n      xAxes = _calculateAxes.xAxes,\n      yAxes = _calculateAxes.yAxes;\n\n  var stackData = calculateStackData({\n    materializedData: materializedData,\n    primaryAxes: primaryAxes,\n    secondaryAxes: secondaryAxes,\n    yAxes: yAxes,\n    yKey: yKey,\n    xAxes: xAxes,\n    xKey: xKey,\n    grouping: grouping\n  });\n  pointer = React.useMemo(function () {\n    return _objectSpread2({}, pointer, {\n      axisValues: [].concat(_toConsumableArray(primaryAxes), _toConsumableArray(secondaryAxes)).map(function (axis) {\n        return {\n          axis: axis,\n          value: axis.scale.invert ? axis.scale.invert(pointer[axis.vertical ? \"y\" : \"x\"]) : null\n        };\n      })\n    });\n  }, [pointer, primaryAxes, secondaryAxes]);\n  focused = React.useMemo(function () {\n    // Get the closest focus datum out of the datum group\n    if (focused || element) {\n      var resolvedFocus = focus;\n\n      if (focus === focusAuto) {\n        if (element) {\n          resolvedFocus = focusElement;\n        } else {\n          resolvedFocus = focusClosest;\n        }\n      }\n\n      if (resolvedFocus === focusElement && element) {\n        return element;\n      } else if (resolvedFocus === focusClosest) {\n        return Utils.getClosestPoint(pointer, focused.group);\n      }\n    }\n\n    return null;\n  }, [element, focus, focused, pointer]); // keep the previous focused value around for animations\n\n  var latestFocused = useLatest(focused, focused); // Calculate Tooltip\n\n  tooltip = calculateTooltip({\n    focused: focused,\n    tooltip: tooltip,\n    pointer: pointer,\n    gridWidth: gridWidth,\n    gridHeight: gridHeight\n  }); // Cursors\n\n  var _calculateCursors = calculateCursors({\n    primaryCursor: primaryCursor,\n    secondaryCursor: secondaryCursor,\n    primaryAxes: primaryAxes,\n    secondaryAxes: secondaryAxes,\n    focused: focused,\n    pointer: pointer,\n    gridWidth: gridWidth,\n    gridHeight: gridHeight,\n    stackData: stackData\n  });\n\n  var _calculateCursors2 = _slicedToArray(_calculateCursors, 2);\n\n  primaryCursor = _calculateCursors2[0];\n  secondaryCursor = _calculateCursors2[1];\n  React.useEffect(function () {\n    if (onFocusRef.current) {\n      onFocusRef.current(focused);\n    }\n  }, [onFocusRef, focused]);\n  React.useEffect(function () {\n    if (onHoverRef.current) {\n      onHoverRef.current(pointer);\n    }\n  }, [onHoverRef, pointer]);\n  var previousDragging = usePrevious(pointer.dragging);\n  React.useEffect(function () {\n    if (brush && previousDragging && !pointer.dragging) {\n      if (Math.abs(pointer.sourceX - pointer.x) < 20) {\n        return;\n      }\n\n      brush.onSelect({\n        pointer: pointer.released,\n        start: primaryAxes[0].scale.invert(pointer.sourceX),\n        end: primaryAxes[0].scale.invert(pointer.x)\n      });\n    }\n  }, [brush, pointer, pointer.released, pointer.sourceX, pointer.x, previousDragging, primaryAxes]); // Decorate the chartState with computed values (or ones we just\n  // want to pass down through context)\n\n  var chartState = React.useMemo(function () {\n    return {\n      focused: focused,\n      latestFocused: latestFocused,\n      pointer: pointer,\n      tooltip: tooltip,\n      axisDimensions: axisDimensions,\n      offset: offset,\n      padding: padding,\n      width: width,\n      height: height,\n      brush: brush,\n      grouping: grouping,\n      showVoronoi: showVoronoi,\n      materializedData: materializedData,\n      stackData: stackData,\n      primaryAxes: primaryAxes,\n      secondaryAxes: secondaryAxes,\n      primaryCursor: primaryCursor,\n      secondaryCursor: secondaryCursor,\n      gridX: gridX,\n      gridY: gridY,\n      gridWidth: gridWidth,\n      gridHeight: gridHeight,\n      dark: dark,\n      renderSVG: renderSVG,\n      xKey: xKey,\n      yKey: yKey,\n      xAxes: xAxes,\n      yAxes: yAxes,\n      onClickRef: onClickRef,\n      getSeriesStyle: getSeriesStyle,\n      getDatumStyle: getDatumStyle,\n      seriesOptions: seriesOptions,\n      getSeriesOrder: getSeriesOrder\n    };\n  }, [axisDimensions, brush, dark, focused, getDatumStyle, getSeriesOrder, getSeriesStyle, gridHeight, gridWidth, gridX, gridY, grouping, height, latestFocused, materializedData, offset, onClickRef, padding, pointer, primaryAxes, primaryCursor, renderSVG, secondaryAxes, secondaryCursor, seriesOptions, showVoronoi, stackData, tooltip, width, xAxes, xKey, yAxes, yKey]);\n  var chartStateContextValue = React.useMemo(function () {\n    return [chartState, setChartState];\n  }, [chartState, setChartState]);\n  return React.createElement(ChartContext.Provider, {\n    value: chartStateContextValue\n  }, React.createElement(ChartInner, _extends({\n    ref: responsiveElRef\n  }, rest, {\n    onClick: function onClick(e) {\n      if (onClickRef.current) {\n        onClickRef.current(focused);\n      }\n    }\n  })));\n}\n\nChart.propTypes = {\n  data: PropTypes.any.isRequired,\n  focus: PropTypes.oneOf([focusAuto, focusClosest, focusElement]).isRequired,\n  grouping: PropTypes.oneOf([groupingSingle, groupingSeries, groupingPrimary, groupingSecondary]).isRequired,\n  showVoronoi: PropTypes.bool,\n  dark: PropTypes.bool,\n  series: seriesPropType,\n  axes: PropTypes.arrayOf(axisShape),\n  primaryCursor: cursorShape,\n  secondaryCursor: cursorShape,\n  tooltip: tooltipShape,\n  renderSVG: PropTypes.func,\n  getDatums: PropTypes.func.isRequired,\n  getLabel: PropTypes.func.isRequired,\n  getSeriesID: PropTypes.func.isRequired,\n  getPrimary: PropTypes.func.isRequired,\n  getSecondary: PropTypes.func.isRequired,\n  getR: PropTypes.func.isRequired,\n  getPrimaryAxisID: PropTypes.func.isRequired,\n  getSecondaryAxisID: PropTypes.func.isRequired,\n  getSeriesOrder: PropTypes.func.isRequired,\n  getSeriesStyle: PropTypes.func,\n  getDatumStyle: PropTypes.func,\n  onClick: PropTypes.func,\n  onFocus: PropTypes.func,\n  onHover: PropTypes.func\n};\nChart.defaultProps = defaultProps;\nexports.Chart = Chart;\nexports.alignAuto = alignAuto;\nexports.alignBottom = alignBottom;\nexports.alignBottomLeft = alignBottomLeft;\nexports.alignBottomRight = alignBottomRight;\nexports.alignLeft = alignLeft;\nexports.alignRight = alignRight;\nexports.alignTop = alignTop;\nexports.alignTopLeft = alignTopLeft;\nexports.alignTopRight = alignTopRight;\nexports.anchorBottom = anchorBottom;\nexports.anchorCenter = anchorCenter;\nexports.anchorClosest = anchorClosest;\nexports.anchorGridBottom = anchorGridBottom;\nexports.anchorGridLeft = anchorGridLeft;\nexports.anchorGridRight = anchorGridRight;\nexports.anchorGridTop = anchorGridTop;\nexports.anchorLeft = anchorLeft;\nexports.anchorPointer = anchorPointer;\nexports.anchorRight = anchorRight;\nexports.anchorTop = anchorTop;\nexports.axisTypeLinear = axisTypeLinear;\nexports.axisTypeLog = axisTypeLog;\nexports.axisTypeOrdinal = axisTypeOrdinal;\nexports.axisTypeTime = axisTypeTime;\nexports.axisTypeUtc = axisTypeUtc;\nexports.curveBasis = basis;\nexports.curveBasisClosed = basisClosed;\nexports.curveBasisOpen = basisOpen;\nexports.curveBundle = bundle;\nexports.curveCardinal = cardinal;\nexports.curveCardinalClosed = cardinalClosed;\nexports.curveCardinalOpen = cardinalOpen;\nexports.curveCatmullRom = catmullRom;\nexports.curveCatmullRomClosed = catmullRomClosed;\nexports.curveCatmullRomOpen = catmullRomOpen;\nexports.curveLinear = curveLinear;\nexports.curveLinearClosed = linearClosed;\nexports.curveMonotoneX = monotoneX;\nexports.curveMonotoneY = monotoneY;\nexports.curveNatural = natural;\nexports.curveStep = step;\nexports.curveStepAfter = stepAfter;\nexports.curveStepBefore = stepBefore;\nexports.focusAuto = focusAuto;\nexports.focusClosest = focusClosest;\nexports.focusElement = focusElement;\nexports.groupingPrimary = groupingPrimary;\nexports.groupingSecondary = groupingSecondary;\nexports.groupingSeries = groupingSeries;\nexports.groupingSingle = groupingSingle;\nexports.positionBottom = positionBottom;\nexports.positionLeft = positionLeft;\nexports.positionRight = positionRight;\nexports.positionTop = positionTop;","map":{"version":3,"sources":["../src/utils/ChartContext.js","../src/utils/Utils.js","../node_modules/@reach/observe-rect/dist/index.m.js","../src/utils/detectElementResize.js","../src/hooks/useHyperResponsive.js","../src/hooks/useLatestRef.js","../src/hooks/useLatest.js","../src/hooks/usePrevious.js","../node_modules/performance-now/lib/performance-now.js","../node_modules/raf/index.js","../src/primitives/Rectangle.js","../node_modules/d3-voronoi/src/constant.js","../node_modules/d3-voronoi/src/point.js","../node_modules/d3-voronoi/src/RedBlackTree.js","../node_modules/d3-voronoi/src/Edge.js","../node_modules/d3-voronoi/src/Cell.js","../node_modules/d3-voronoi/src/Circle.js","../node_modules/d3-voronoi/src/Beach.js","../node_modules/d3-voronoi/src/Diagram.js","../node_modules/d3-voronoi/src/voronoi.js","../node_modules/d3-path/src/path.js","../node_modules/d3-shape/src/constant.js","../node_modules/d3-shape/src/math.js","../node_modules/d3-shape/src/curve/linear.js","../node_modules/d3-shape/src/point.js","../node_modules/d3-shape/src/line.js","../node_modules/d3-shape/src/area.js","../node_modules/d3-shape/src/noop.js","../node_modules/d3-shape/src/curve/basis.js","../node_modules/d3-shape/src/curve/basisClosed.js","../node_modules/d3-shape/src/curve/basisOpen.js","../node_modules/d3-shape/src/curve/bundle.js","../node_modules/d3-shape/src/curve/cardinal.js","../node_modules/d3-shape/src/curve/cardinalClosed.js","../node_modules/d3-shape/src/curve/cardinalOpen.js","../node_modules/d3-shape/src/curve/catmullRom.js","../node_modules/d3-shape/src/curve/catmullRomClosed.js","../node_modules/d3-shape/src/curve/catmullRomOpen.js","../node_modules/d3-shape/src/curve/linearClosed.js","../node_modules/d3-shape/src/curve/monotone.js","../node_modules/d3-shape/src/curve/natural.js","../node_modules/d3-shape/src/curve/step.js","../src/primitives/Path.js","../src/components/Voronoi.js","../src/primitives/Line.js","../src/primitives/Text.js","../src/primitives/Group.js","../src/utils/Constants.js","../src/components/AxisLinear.js","../src/components/Axis.js","../src/components/Tooltip.js","../src/components/Cursor.js","../src/components/Brush.js","../src/components/ChartInner.js","../src/components/pipeline/calculateMaterializeData.js","../src/hooks/usePropsMemo.js","../src/hooks/useSeriesStyle.js","../src/hooks/useDatumStyle.js","../src/primitives/Circle.js","../src/seriesTypes/Line.js","../src/seriesTypes/Bubble.js","../src/seriesTypes/Area.js","../src/seriesTypes/Bar.js","../src/components/pipeline/calculateSeriesOptions.js","../src/components/pipeline/calculateSeriesTypes.js","../src/components/pipeline/calculateDimensions.js","../node_modules/d3-array/src/ascending.js","../node_modules/d3-array/src/bisector.js","../node_modules/d3-array/src/bisect.js","../node_modules/d3-array/src/range.js","../node_modules/d3-array/src/ticks.js","../node_modules/d3-scale/src/init.js","../node_modules/d3-scale/src/ordinal.js","../node_modules/d3-scale/src/band.js","../node_modules/d3-color/src/define.js","../node_modules/d3-color/src/color.js","../node_modules/d3-interpolate/src/constant.js","../node_modules/d3-interpolate/src/color.js","../node_modules/d3-interpolate/src/rgb.js","../node_modules/d3-interpolate/src/array.js","../node_modules/d3-interpolate/src/date.js","../node_modules/d3-interpolate/src/number.js","../node_modules/d3-interpolate/src/object.js","../node_modules/d3-interpolate/src/string.js","../node_modules/d3-interpolate/src/value.js","../node_modules/d3-interpolate/src/round.js","../node_modules/d3-scale/src/constant.js","../node_modules/d3-scale/src/number.js","../node_modules/d3-scale/src/continuous.js","../node_modules/d3-format/src/formatDecimal.js","../node_modules/d3-format/src/exponent.js","../node_modules/d3-format/src/formatGroup.js","../node_modules/d3-format/src/formatNumerals.js","../node_modules/d3-format/src/formatSpecifier.js","../node_modules/d3-format/src/formatTrim.js","../node_modules/d3-format/src/formatPrefixAuto.js","../node_modules/d3-format/src/formatRounded.js","../node_modules/d3-format/src/formatTypes.js","../node_modules/d3-format/src/identity.js","../node_modules/d3-format/src/locale.js","../node_modules/d3-format/src/defaultLocale.js","../node_modules/d3-format/src/precisionFixed.js","../node_modules/d3-format/src/precisionPrefix.js","../node_modules/d3-format/src/precisionRound.js","../node_modules/d3-scale/src/tickFormat.js","../node_modules/d3-scale/src/linear.js","../node_modules/d3-scale/src/nice.js","../node_modules/d3-scale/src/log.js","../node_modules/d3-time/src/interval.js","../node_modules/d3-time/src/millisecond.js","../node_modules/d3-time/src/duration.js","../node_modules/d3-time/src/second.js","../node_modules/d3-time/src/minute.js","../node_modules/d3-time/src/hour.js","../node_modules/d3-time/src/day.js","../node_modules/d3-time/src/week.js","../node_modules/d3-time/src/month.js","../node_modules/d3-time/src/year.js","../node_modules/d3-time/src/utcMinute.js","../node_modules/d3-time/src/utcHour.js","../node_modules/d3-time/src/utcDay.js","../node_modules/d3-time/src/utcWeek.js","../node_modules/d3-time/src/utcMonth.js","../node_modules/d3-time/src/utcYear.js","../node_modules/d3-time-format/src/locale.js","../node_modules/d3-time-format/src/defaultLocale.js","../node_modules/d3-scale/src/time.js","../node_modules/d3-scale/src/utcTime.js","../src/utils/buildAxis.linear.js","../src/utils/buildAxis.js","../src/components/pipeline/calculateAxes.js","../src/components/pipeline/calculateStackData.js","../src/components/TooltipRenderer.js","../src/components/pipeline/calculateTooltip.js","../src/components/pipeline/calculateCursors.js","../src/components/Chart.js"],"names":["React","getStatus","getStatusStyle","buildStyleGetters","getMultiAnchor","getClosestPoint","normalizeGetter","isValidPoint","getAxisByAxisID","getAxisIndexByAxisID","sumObjBy","translateX","translateY","translate","identity","shallowDiff","status","focused","otherFocused","item","length","i","defaults","materializeStyles","decorator","series","datum","anchor","points","gridWidth","gridHeight","invalid","JSON","xMin","xMax","yMin","yMax","Math","point","a","anchorPart","x","y","datums","closestDistance","closestDatum","distance","pointerPoint","position","stroke","style","fill","color","elementTypes","normalizeColor","type","get","obj","pathObj","makePathArray","val","current","flattenDeep","newArr","Array","arr","d","axes","index","prev","curr","aKeys","Object","bKeys","b","observer","observeRect","width","height","setState","dimsRef","resize","ref","computed","window","paddingTop","paddingBottom","paddingLeft","paddingRight","boxSizing","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","newWidth","newHeight","parseInt","stopListening","onResize","when","this","global","now","defaultStyle","strokeWidth","opacity","rx","ry","x1","y1","x2","y2","rest","resolvedStyle","xStart","yStart","xEnd","yEnd","pointX","pointY","epsilon","constant","lineFn","line","VoronoiElement","children","stackData","primaryAxes","secondaryAxes","showVoronoi","setChartState","onHover","extent","polygons","voronoiData","Number","boundingPoint","vor","path","Line","Component","fontFamily","fontSize","positionTop","positionRight","positionBottom","positionLeft","groupingSingle","groupingSeries","groupingPrimary","groupingSecondary","alignAuto","alignRight","alignTopRight","alignBottomRight","alignLeft","alignTopLeft","alignBottomLeft","alignTop","alignBottom","axisTypeOrdinal","axisTypeTime","axisTypeUtc","axisTypeLinear","axisTypeLog","anchorPointer","anchorClosest","anchorCenter","anchorTop","anchorBottom","anchorLeft","anchorRight","anchorGridTop","anchorGridBottom","anchorGridLeft","anchorGridRight","focusAuto","focusClosest","focusElement","defaultStyles","tick","radiansToDegrees","r","id","tickSizeInner","tickSizeOuter","show","showGrid","showTicks","styles","maxLabelRotation","labelRotationStep","tickPadding","ticks","tickCount","minTickCount","maxTickCount","scale","max","scaleMax","transform","vertical","format","range","range0","range1","directionMultiplier","tickOffset","gridOffset","spacing","rotation","setRotation","dark","axisDimensions","elRef","visibleLabelStepRef","measureDimensions","newAxes","state","labelDims","rect","el","tickSpace","calculatedTickCount","top","bottom","left","right","smallestTickGap","tickDims","gap","firstLabelDim","lastLabelDim","largestLabel","_overflow","labelDim","largestLabelSize","newRotation","newVisibleLabelStep","newDimensions","previousRotation","usePrevious","axisPath","showGridLine","axisStyles","pointerEvents","Utils","undefined","String","Axis","triangleSize","getBackgroundColor","chartState","gridX","gridY","latestFocused","getDatumStyle","tooltip","tooltipElRef","previousShowRef","align","alignPriority","padding","tooltipArrowPadding","arrowPosition","render","finalAlign","setFinalAlign","space","Infinity","container","gridDims","tooltipDims","document","overflowX","overflowY","containerDims","resolvedAlign","fits","centeredFromLeft","centeredFromRight","centeredFromTop","centeredFromBottom","priority","resolvedFocused","alignX","alignY","triangleStyles","backgroundColor","resolvedArrowPosition","borderLeft","borderRight","borderTop","borderBottom","primaryAxis","secondaryAxis","resolvedHorizontalPadding","resolvedVerticalPadding","renderProps","getStyle","renderedChildren","animateCoords","transition","background","borderRadius","getLineBackgroundColor","primary","primaryCursor","secondaryCursor","cursor","showLine","showLabel","resolvedValue","snap","axis","siblingAxis","resolvedShow","latestValue","useLatest","animated","siblingRange","alignPctX","alignPctY","lineStartX","lineStartY","lineEndX","lineEndY","bubbleX","bubbleY","lineHeight","lineWidth","whiteSpace","pointer","brush","Brush","onSelect","className","offset","renderSVG","onClick","seriesOptions","getSeriesOrder","svgRef","onMouseLeave","active","rafRef","onMouseMove","RAF","clientX","clientY","e","dragging","down","onMouseUp","released","onMouseDown","sourceX","sourceY","reversedStackData","orderedStackData","focusedSeriesIndex","focusOrderedStackData","stacks","stack","overflow","data","getSeriesID","getLabel","getPrimaryAxisID","getSecondaryAxisID","getDatums","getPrimary","getSecondary","getR","materializedData","seriesIndex","originalSeries","seriesID","seriesLabel","primaryAxisID","secondaryAxisID","originalDatums","datumIndex","originalDatum","secondary","label","watchRef","props","valueRef","fn","getSeriesStyle","pathDefaultStyle","circleDefaultStyle","showPoints","curve","useSeriesStyle","pathProps","renderedPath","usePropsMemo","key","curveMonotoneX","xAxis","yAxis","defaultColors","dataStyle","useDatumStyle","circleProps","onMouseEnter","element","Bubble","verticalPadding","horizontalPadding","defaultAreaStyle","lineDefaultStyle","showOrphans","areaFn","areaPath","linePath","areaPathProps","renderedAreaPath","linePathProps","renderedLinePath","all","Area","curveLinear","OrphanLine","defined","next","lineProps","barOffset","base","size","rectangleProps","Bar","seriesBandScaleOffset","seriesTypes","bubble","area","bar","defaultSeries","seriesPropType","PropTypes","func","renderer","seriesTypeIndex","j","axesLeftWidth","axesLeftTop","axesLeftBottom","axesRightWidth","axesRightTop","axesRightBottom","axesTopHeight","axesTopLeft","axesTopRight","axesBottomHeight","axesBottomLeft","axesBottomRight","rgb","colorRgb","value","number","bisect","interpolate","interpolateValue","linear","interval","formatLocale","day","timeMonday","timeDay","timeYear","timeSunday","timeThursday","locale","defaultLocale","durationSecond","durationMinute","durationHour","durationDay","durationWeek","date","timeMonth","timeWeek","timeHour","timeMinute","timeSecond","timeMillisecond","utcWeek","utcSecond","utcMillisecond","scales","detectVertical","detectRTL","invert","min","userMin","userMax","hardMin","hardMax","tickValues","userFormat","innerPadding","outerPadding","stacked","userID","valueKey","groupKey","AxisIDKey","RTL","uniqueVals","negativeTotalByKey","positiveTotalByKey","axisDimension","domain","barSize","cursorSize","stepSize","seriesBandScale","seriesBarSize","bandScale","scaleFormat","buildAxisLinear","axisShape","any","prePrimaryAxes","preSecondaryAxes","primaryAxesHashes","secondaryAxesHashes","buildAxis","xKey","yKey","xAxes","yAxes","grouping","scaleTotals","axisIndex","negative","positive","primaryAxisIndex","secondaryAxisIndex","xValue","yValue","baseValue","start","validPoint","totalKey","xAxisIndex","yAxisIndex","result","datumsByGrouping","axisKey","showCount","formatSecondary","formatTertiary","resolvedFormatTertiary","sortedGroupDatums","resolvedShowCount","activeIndex","end","visibleSortedGroupDatums","hasPrevious","hasNext","marginBottom","textAlign","sortedDatum","resolvedSecondaryFormat","getSecondaryFormatter","fontWeight","display","alignItems","justifyContent","marginRight","alignPropType","tooltipShape","onChange","multiFocus","cursorShape","axisID","defaultCursorProps","formattedValue","cursorValue","defaultProps","s","focus","onFocus","offsetState","onClickRef","useLatestRef","onFocusRef","onHoverRef","responsiveElRef","useHyperResponsive","calculateMaterializeData","calculateSeriesOptions","calculateSeriesTypes","calculateDimensions","calculateAxes","calculateStackData","axisValues","resolvedFocus","calculateTooltip","calculateCursors","previousDragging","chartStateContextValue","Chart"],"mappings":"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","sourcesContent":["import React from \"react\";\nexport default React.createContext();\n","export default {\n  getStatus,\n  getStatusStyle,\n  buildStyleGetters,\n  getMultiAnchor,\n  getClosestPoint,\n  normalizeGetter,\n  isValidPoint,\n  getAxisByAxisID,\n  getAxisIndexByAxisID,\n  sumObjBy,\n  translateX,\n  translateY,\n  translate,\n  identity,\n  shallowDiff\n};\n\nfunction getStatus(item, focused) {\n  const status = {\n    focused: false,\n    otherFocused: false\n  };\n\n  if (!focused) {\n    return status;\n  }\n\n  // If the item is a datum\n  if (typeof item.primary !== \"undefined\") {\n    const length = focused.group.length;\n    for (let i = 0; i < length; i++) {\n      if (\n        focused.group[i].seriesID === item.series.id &&\n        focused.group[i].index === item.index\n      ) {\n        status.focused = true;\n        break;\n      }\n    }\n    status.otherFocused = !status.focused;\n    // For series\n  } else if (focused.series) {\n    status.focused = focused.series.id === item.id;\n    status.otherFocused = !status.focused;\n  }\n\n  return status;\n}\n\nfunction getStatusStyle(item, status, decorator, defaults) {\n  if (item.series) {\n    defaults = {\n      ...defaults,\n      ...item.series.style\n    };\n  }\n\n  return materializeStyles(\n    decorator({\n      ...item,\n      ...status\n    }),\n    defaults\n  );\n}\n\nfunction buildStyleGetters(series, defaults) {\n  series.getStatusStyle = (focused, decorator) => {\n    const status = getStatus(series, focused);\n    series.style = getStatusStyle(series, status, decorator, defaults);\n    return series.style;\n  };\n\n  // We also need to decorate each datum in the same fashion\n  series.datums.forEach(datum => {\n    datum.getStatusStyle = (focused, decorator) => {\n      const status = getStatus(datum, focused);\n      datum.style = getStatusStyle(datum, status, decorator, defaults);\n      return datum.style;\n    };\n  });\n}\n\nfunction getMultiAnchor({ anchor, points, gridWidth, gridHeight }) {\n  const invalid = () => {\n    throw new Error(\n      `${JSON.stringify(\n        anchor\n      )} is not a valid tooltip anchor option. You should use a single anchor option or 2 non-conflicting anchor options.`\n    );\n  };\n\n  let x;\n  let y;\n\n  let xMin = points[0].anchor.x;\n  let xMax = points[0].anchor.x;\n  let yMin = points[0].anchor.y;\n  let yMax = points[0].anchor.y;\n\n  points.forEach(point => {\n    xMin = Math.min(point.anchor.x, xMin);\n    xMax = Math.max(point.anchor.x, xMax);\n    yMin = Math.min(point.anchor.y, yMin);\n    yMax = Math.max(point.anchor.y, yMax);\n  });\n\n  if (anchor.length > 2) {\n    return invalid();\n  }\n\n  anchor = anchor.sort(a =>\n    a.includes(\"center\") || a.includes(\"Center\") ? 1 : -1\n  );\n\n  for (let i = 0; i < anchor.length; i++) {\n    const anchorPart = anchor[i];\n\n    // Horizontal Positioning\n    if ([\"left\", \"right\", \"gridLeft\", \"gridRight\"].includes(anchorPart)) {\n      if (typeof x !== \"undefined\") {\n        invalid();\n      }\n      if (anchorPart === \"left\") {\n        x = xMin;\n      } else if (anchorPart === \"right\") {\n        x = xMax;\n      } else if (anchorPart === \"gridLeft\") {\n        x = 0;\n      } else if (anchorPart === \"gridRight\") {\n        x = gridWidth;\n      } else {\n        invalid();\n      }\n    }\n\n    // Vertical Positioning\n    if ([\"top\", \"bottom\", \"gridTop\", \"gridBottom\"].includes(anchorPart)) {\n      if (typeof y !== \"undefined\") {\n        invalid();\n      }\n      if (anchorPart === \"top\") {\n        y = yMin;\n      } else if (anchorPart === \"bottom\") {\n        y = yMax;\n      } else if (anchorPart === \"gridTop\") {\n        y = 0;\n      } else if (anchorPart === \"gridBottom\") {\n        y = gridHeight;\n      } else {\n        invalid();\n      }\n    }\n\n    // Center Positioning\n    if ([\"center\", \"gridCenter\"].includes(anchorPart)) {\n      if (anchorPart === \"center\") {\n        if (typeof y === \"undefined\") {\n          y = (yMin + yMax) / 2;\n        }\n        if (typeof x === \"undefined\") {\n          x = (xMin + xMax) / 2;\n        }\n      } else if (anchorPart === \"gridCenter\") {\n        if (typeof y === \"undefined\") {\n          y = gridHeight / 2;\n        }\n        if (typeof x === \"undefined\") {\n          x = gridWidth / 2;\n        }\n      } else {\n        invalid();\n      }\n    }\n\n    // Auto center the remainder if there is only one anchorPart listed\n    if (anchor.length === 1) {\n      if (anchor[0].includes(\"grid\")) {\n        anchor.push(\"gridCenter\");\n      } else {\n        anchor.push(\"center\");\n      }\n    }\n  }\n\n  return { x, y };\n}\n\nfunction getClosestPoint(position, datums) {\n  if (!datums || !position || !datums.length) {\n    return;\n  }\n  let closestDistance = Infinity;\n  let closestDatum = datums[0];\n  datums.forEach(datum => {\n    datum.boundingPoints.forEach(pointerPoint => {\n      const distance = Math.sqrt(\n        (pointerPoint.x - position.x) ** 2 + (pointerPoint.y - position.y) ** 2\n      );\n      if (distance < closestDistance) {\n        closestDistance = distance;\n        closestDatum = datum;\n      }\n    });\n  });\n  return closestDatum;\n}\n\nfunction normalizeColor(style, defaults) {\n  return {\n    ...style,\n    stroke: style.stroke || style.color || defaults.stroke || defaults.color,\n    fill: style.fill || style.color || defaults.fill || defaults.color\n  };\n}\n\nconst elementTypes = [\"area\", \"line\", \"rectangle\", \"circle\"];\nfunction materializeStyles(style = {}, defaults = {}) {\n  style = normalizeColor(style, defaults);\n  for (let i = 0; i < elementTypes.length; i++) {\n    const type = elementTypes[i];\n    style[type] = style[type] ? materializeStyles(style[type], defaults) : {};\n  }\n  return style;\n}\n\nfunction normalizeGetter(getter) {\n  if (typeof getter === \"function\") {\n    return getter;\n  }\n  return d => get(d, getter);\n}\n\nfunction get(obj, path, def) {\n  if (typeof obj === \"function\") {\n    try {\n      return obj();\n    } catch (e) {\n      return path;\n    }\n  }\n  if (!path) {\n    return obj;\n  }\n  const pathObj = makePathArray(path);\n  let val;\n  try {\n    val = pathObj.reduce((current, pathPart) => current[pathPart], obj);\n  } catch (e) {\n    // do nothing\n  }\n  return typeof val !== \"undefined\" ? val : def;\n}\n\nfunction makePathArray(obj) {\n  return flattenDeep(obj)\n    .join(\".\")\n    .replace(\"[\", \".\")\n    .replace(\"]\", \"\")\n    .split(\".\");\n}\n\nfunction flattenDeep(arr, newArr = []) {\n  if (!Array.isArray(arr)) {\n    newArr.push(arr);\n  } else {\n    for (let i = 0; i < arr.length; i++) {\n      flattenDeep(arr[i], newArr);\n    }\n  }\n  return newArr;\n}\n\nfunction isValidPoint(d) {\n  if (d === null) {\n    return false;\n  }\n  if (typeof d === \"undefined\") {\n    return false;\n  }\n  if (typeof d === \"string\" && d === \"null\") {\n    return false;\n  }\n  return true;\n}\n\nfunction getAxisByAxisID(axes, AxisID) {\n  return axes.find(d => d.id === AxisID) || axes[0];\n}\n\nfunction getAxisIndexByAxisID(axes, AxisID) {\n  const index = axes.findIndex(d => d.id === AxisID);\n  return index > -1 ? index : 0;\n}\n\nfunction sumObjBy(obj, str) {\n  return Object.keys(obj)\n    .map(key => obj[key])\n    .reduce((prev, curr) => prev + curr[str] || 0, 0);\n}\n\nfunction translateX(x) {\n  return `translate3d(${Math.round(x)}px, 0, 0)`;\n}\n\nfunction translateY(y) {\n  return `translate3d(0, ${Math.round(y)}px, 0)`;\n}\n\nfunction translate(x, y) {\n  return `translate3d(${Math.round(x)}px, ${Math.round(y)}px, 0)`;\n}\n\nfunction identity(d) {\n  return d;\n}\n\nfunction shallowDiff(a, b) {\n  const aKeys = Object.keys(a);\n  const bKeys = Object.keys(b);\n\n  if (aKeys.length !== bKeys.length) {\n    return true;\n  }\n\n  return Object.keys(a).some(key => {\n    if (a[key] !== b[key]) {\n      return true;\n    }\n  });\n}\n","var t=[\"width\",\"height\",\"top\",\"right\",\"bottom\",\"left\"],n=function(n,e){return void 0===n&&(n={}),void 0===e&&(e={}),t.some(function(t){return n[t]!==e[t]})};export default function(t,e){var o,i,r=function(){var u=t.getBoundingClientRect();n(u,o)&&e(o=u),i=requestAnimationFrame(r)};return{observe:r,unobserve:function(){cancelAnimationFrame(i)}}};\n//# sourceMappingURL=index.m.js.map\n","import observeRect from \"@reach/observe-rect\";\n\nexport default function onResize(element, fn) {\n  const observer = observeRect(element, fn);\n  observer.observe();\n  return observer.unobserve;\n}\n","import React from \"react\";\n//\nimport onResize from \"../utils/detectElementResize\";\n\nexport default function useHyperResponsive(ref) {\n  const [{ width, height }, setState] = React.useState({\n    width: 0,\n    height: 0\n  });\n\n  const dimsRef = React.useRef();\n  dimsRef.current = {\n    width,\n    height\n  };\n\n  const resize = React.useCallback(\n    () => {\n      if (!ref.current) {\n        return;\n      }\n\n      const computed = window.getComputedStyle(ref.current.parentElement);\n\n      const {\n        paddingTop,\n        paddingBottom,\n        paddingLeft,\n        paddingRight,\n        boxSizing,\n        borderTopWidth,\n        borderLeftWidth,\n        borderRightWidth,\n        borderBottomWidth\n      } = computed;\n\n      let { width: newWidth, height: newHeight } = computed;\n\n      newWidth = parseInt(newWidth);\n      newHeight = parseInt(newHeight);\n\n      if (boxSizing === \"border-box\") {\n        newWidth -= parseInt(paddingLeft);\n        newWidth -= parseInt(paddingRight);\n        newHeight -= parseInt(paddingTop);\n        newHeight -= parseInt(paddingBottom);\n\n        newWidth -= parseInt(borderLeftWidth);\n        newWidth -= parseInt(borderRightWidth);\n        newHeight -= parseInt(borderTopWidth);\n        newHeight -= parseInt(borderBottomWidth);\n      }\n\n      if (\n        newWidth !== dimsRef.current.width ||\n        newHeight !== dimsRef.current.height\n      ) {\n        setState(() => ({\n          width: newWidth,\n          height: newHeight\n        }));\n      }\n    },\n    [ref]\n  );\n\n  React.useEffect(\n    () => {\n      const stopListening = onResize(ref.current.parentElement, resize);\n      return () => {\n        stopListening();\n      };\n    },\n    [ref, resize]\n  );\n\n  return [{ width, height }];\n}\n","import React from \"react\";\n\nexport default function useLatestRef(latest) {\n  const ref = React.useRef();\n  ref.current = latest;\n  return ref;\n}\n","import React from \"react\";\n\nexport default function useLatest(obj, when = true) {\n  const ref = React.useRef();\n  if (when) {\n    ref.current = obj;\n  }\n  return ref.current;\n}\n","import React from \"react\";\n\nexport default function usePrevious(val) {\n  const ref = React.useRef();\n\n  React.useEffect(\n    () => {\n      ref.current = val;\n    },\n    [val]\n  );\n\n  return ref.current;\n}\n","// Generated by CoffeeScript 1.12.2\n(function() {\n  var getNanoSeconds, hrtime, loadTime, moduleLoadTime, nodeLoadTime, upTime;\n\n  if ((typeof performance !== \"undefined\" && performance !== null) && performance.now) {\n    module.exports = function() {\n      return performance.now();\n    };\n  } else if ((typeof process !== \"undefined\" && process !== null) && process.hrtime) {\n    module.exports = function() {\n      return (getNanoSeconds() - nodeLoadTime) / 1e6;\n    };\n    hrtime = process.hrtime;\n    getNanoSeconds = function() {\n      var hr;\n      hr = hrtime();\n      return hr[0] * 1e9 + hr[1];\n    };\n    moduleLoadTime = getNanoSeconds();\n    upTime = process.uptime() * 1e9;\n    nodeLoadTime = moduleLoadTime - upTime;\n  } else if (Date.now) {\n    module.exports = function() {\n      return Date.now() - loadTime;\n    };\n    loadTime = Date.now();\n  } else {\n    module.exports = function() {\n      return new Date().getTime() - loadTime;\n    };\n    loadTime = new Date().getTime();\n  }\n\n}).call(this);\n\n//# sourceMappingURL=performance-now.js.map\n","var now = require('performance-now')\n  , root = typeof window === 'undefined' ? global : window\n  , vendors = ['moz', 'webkit']\n  , suffix = 'AnimationFrame'\n  , raf = root['request' + suffix]\n  , caf = root['cancel' + suffix] || root['cancelRequest' + suffix]\n\nfor(var i = 0; !raf && i < vendors.length; i++) {\n  raf = root[vendors[i] + 'Request' + suffix]\n  caf = root[vendors[i] + 'Cancel' + suffix]\n      || root[vendors[i] + 'CancelRequest' + suffix]\n}\n\n// Some versions of FF have rAF but not cAF\nif(!raf || !caf) {\n  var last = 0\n    , id = 0\n    , queue = []\n    , frameDuration = 1000 / 60\n\n  raf = function(callback) {\n    if(queue.length === 0) {\n      var _now = now()\n        , next = Math.max(0, frameDuration - (_now - last))\n      last = next + _now\n      setTimeout(function() {\n        var cp = queue.slice(0)\n        // Clear queue here to prevent\n        // callbacks from appending listeners\n        // to the current frame's queue\n        queue.length = 0\n        for(var i = 0; i < cp.length; i++) {\n          if(!cp[i].cancelled) {\n            try{\n              cp[i].callback(last)\n            } catch(e) {\n              setTimeout(function() { throw e }, 0)\n            }\n          }\n        }\n      }, Math.round(next))\n    }\n    queue.push({\n      handle: ++id,\n      callback: callback,\n      cancelled: false\n    })\n    return id\n  }\n\n  caf = function(handle) {\n    for(var i = 0; i < queue.length; i++) {\n      if(queue[i].handle === handle) {\n        queue[i].cancelled = true\n      }\n    }\n  }\n}\n\nmodule.exports = function(fn) {\n  // Wrap in a new function to prevent\n  // `cancel` potentially being assigned\n  // to the native rAF function\n  return raf.call(root, fn)\n}\nmodule.exports.cancel = function() {\n  caf.apply(root, arguments)\n}\nmodule.exports.polyfill = function(object) {\n  if (!object) {\n    object = root;\n  }\n  object.requestAnimationFrame = raf\n  object.cancelAnimationFrame = caf\n}\n","import React from \"react\";\n//\n\nconst defaultStyle = {\n  strokeWidth: 0,\n  fill: \"#333\",\n  opacity: 1,\n  rx: 0,\n  ry: 0\n};\n\nexport default function Rectangle ({ style, opacity = 1, x1, y1, x2, y2, ...rest }) {\n  const resolvedStyle = {\n    ...defaultStyle,\n    ...style\n  };\n\n  const xStart = Math.min(x1, x2);\n  const yStart = Math.min(y1, y2);\n  const xEnd = Math.max(x1, x2);\n  const yEnd = Math.max(y1, y2);\n\n  const height = Math.max(yEnd - yStart, 0);\n  const width = Math.max(xEnd - xStart, 0);\n\n  return (\n    <rect\n      {...rest}\n      x={xStart}\n      y={yStart}\n      width={width}\n      height={height}\n      style={resolvedStyle}\n    />\n  );\n}\n","export default function(x) {\n  return function() {\n    return x;\n  };\n}\n","export function x(d) {\n  return d[0];\n}\n\nexport function y(d) {\n  return d[1];\n}\n","function RedBlackTree() {\n  this._ = null; // root node\n}\n\nexport function RedBlackNode(node) {\n  node.U = // parent node\n  node.C = // color - true for red, false for black\n  node.L = // left node\n  node.R = // right node\n  node.P = // previous node\n  node.N = null; // next node\n}\n\nRedBlackTree.prototype = {\n  constructor: RedBlackTree,\n\n  insert: function(after, node) {\n    var parent, grandpa, uncle;\n\n    if (after) {\n      node.P = after;\n      node.N = after.N;\n      if (after.N) after.N.P = node;\n      after.N = node;\n      if (after.R) {\n        after = after.R;\n        while (after.L) after = after.L;\n        after.L = node;\n      } else {\n        after.R = node;\n      }\n      parent = after;\n    } else if (this._) {\n      after = RedBlackFirst(this._);\n      node.P = null;\n      node.N = after;\n      after.P = after.L = node;\n      parent = after;\n    } else {\n      node.P = node.N = null;\n      this._ = node;\n      parent = null;\n    }\n    node.L = node.R = null;\n    node.U = parent;\n    node.C = true;\n\n    after = node;\n    while (parent && parent.C) {\n      grandpa = parent.U;\n      if (parent === grandpa.L) {\n        uncle = grandpa.R;\n        if (uncle && uncle.C) {\n          parent.C = uncle.C = false;\n          grandpa.C = true;\n          after = grandpa;\n        } else {\n          if (after === parent.R) {\n            RedBlackRotateLeft(this, parent);\n            after = parent;\n            parent = after.U;\n          }\n          parent.C = false;\n          grandpa.C = true;\n          RedBlackRotateRight(this, grandpa);\n        }\n      } else {\n        uncle = grandpa.L;\n        if (uncle && uncle.C) {\n          parent.C = uncle.C = false;\n          grandpa.C = true;\n          after = grandpa;\n        } else {\n          if (after === parent.L) {\n            RedBlackRotateRight(this, parent);\n            after = parent;\n            parent = after.U;\n          }\n          parent.C = false;\n          grandpa.C = true;\n          RedBlackRotateLeft(this, grandpa);\n        }\n      }\n      parent = after.U;\n    }\n    this._.C = false;\n  },\n\n  remove: function(node) {\n    if (node.N) node.N.P = node.P;\n    if (node.P) node.P.N = node.N;\n    node.N = node.P = null;\n\n    var parent = node.U,\n        sibling,\n        left = node.L,\n        right = node.R,\n        next,\n        red;\n\n    if (!left) next = right;\n    else if (!right) next = left;\n    else next = RedBlackFirst(right);\n\n    if (parent) {\n      if (parent.L === node) parent.L = next;\n      else parent.R = next;\n    } else {\n      this._ = next;\n    }\n\n    if (left && right) {\n      red = next.C;\n      next.C = node.C;\n      next.L = left;\n      left.U = next;\n      if (next !== right) {\n        parent = next.U;\n        next.U = node.U;\n        node = next.R;\n        parent.L = node;\n        next.R = right;\n        right.U = next;\n      } else {\n        next.U = parent;\n        parent = next;\n        node = next.R;\n      }\n    } else {\n      red = node.C;\n      node = next;\n    }\n\n    if (node) node.U = parent;\n    if (red) return;\n    if (node && node.C) { node.C = false; return; }\n\n    do {\n      if (node === this._) break;\n      if (node === parent.L) {\n        sibling = parent.R;\n        if (sibling.C) {\n          sibling.C = false;\n          parent.C = true;\n          RedBlackRotateLeft(this, parent);\n          sibling = parent.R;\n        }\n        if ((sibling.L && sibling.L.C)\n            || (sibling.R && sibling.R.C)) {\n          if (!sibling.R || !sibling.R.C) {\n            sibling.L.C = false;\n            sibling.C = true;\n            RedBlackRotateRight(this, sibling);\n            sibling = parent.R;\n          }\n          sibling.C = parent.C;\n          parent.C = sibling.R.C = false;\n          RedBlackRotateLeft(this, parent);\n          node = this._;\n          break;\n        }\n      } else {\n        sibling = parent.L;\n        if (sibling.C) {\n          sibling.C = false;\n          parent.C = true;\n          RedBlackRotateRight(this, parent);\n          sibling = parent.L;\n        }\n        if ((sibling.L && sibling.L.C)\n          || (sibling.R && sibling.R.C)) {\n          if (!sibling.L || !sibling.L.C) {\n            sibling.R.C = false;\n            sibling.C = true;\n            RedBlackRotateLeft(this, sibling);\n            sibling = parent.L;\n          }\n          sibling.C = parent.C;\n          parent.C = sibling.L.C = false;\n          RedBlackRotateRight(this, parent);\n          node = this._;\n          break;\n        }\n      }\n      sibling.C = true;\n      node = parent;\n      parent = parent.U;\n    } while (!node.C);\n\n    if (node) node.C = false;\n  }\n};\n\nfunction RedBlackRotateLeft(tree, node) {\n  var p = node,\n      q = node.R,\n      parent = p.U;\n\n  if (parent) {\n    if (parent.L === p) parent.L = q;\n    else parent.R = q;\n  } else {\n    tree._ = q;\n  }\n\n  q.U = parent;\n  p.U = q;\n  p.R = q.L;\n  if (p.R) p.R.U = p;\n  q.L = p;\n}\n\nfunction RedBlackRotateRight(tree, node) {\n  var p = node,\n      q = node.L,\n      parent = p.U;\n\n  if (parent) {\n    if (parent.L === p) parent.L = q;\n    else parent.R = q;\n  } else {\n    tree._ = q;\n  }\n\n  q.U = parent;\n  p.U = q;\n  p.L = q.R;\n  if (p.L) p.L.U = p;\n  q.R = p;\n}\n\nfunction RedBlackFirst(node) {\n  while (node.L) node = node.L;\n  return node;\n}\n\nexport default RedBlackTree;\n","import {cells, edges, epsilon} from \"./Diagram\";\n\nexport function createEdge(left, right, v0, v1) {\n  var edge = [null, null],\n      index = edges.push(edge) - 1;\n  edge.left = left;\n  edge.right = right;\n  if (v0) setEdgeEnd(edge, left, right, v0);\n  if (v1) setEdgeEnd(edge, right, left, v1);\n  cells[left.index].halfedges.push(index);\n  cells[right.index].halfedges.push(index);\n  return edge;\n}\n\nexport function createBorderEdge(left, v0, v1) {\n  var edge = [v0, v1];\n  edge.left = left;\n  return edge;\n}\n\nexport function setEdgeEnd(edge, left, right, vertex) {\n  if (!edge[0] && !edge[1]) {\n    edge[0] = vertex;\n    edge.left = left;\n    edge.right = right;\n  } else if (edge.left === right) {\n    edge[1] = vertex;\n  } else {\n    edge[0] = vertex;\n  }\n}\n\n// Liang–Barsky line clipping.\nfunction clipEdge(edge, x0, y0, x1, y1) {\n  var a = edge[0],\n      b = edge[1],\n      ax = a[0],\n      ay = a[1],\n      bx = b[0],\n      by = b[1],\n      t0 = 0,\n      t1 = 1,\n      dx = bx - ax,\n      dy = by - ay,\n      r;\n\n  r = x0 - ax;\n  if (!dx && r > 0) return;\n  r /= dx;\n  if (dx < 0) {\n    if (r < t0) return;\n    if (r < t1) t1 = r;\n  } else if (dx > 0) {\n    if (r > t1) return;\n    if (r > t0) t0 = r;\n  }\n\n  r = x1 - ax;\n  if (!dx && r < 0) return;\n  r /= dx;\n  if (dx < 0) {\n    if (r > t1) return;\n    if (r > t0) t0 = r;\n  } else if (dx > 0) {\n    if (r < t0) return;\n    if (r < t1) t1 = r;\n  }\n\n  r = y0 - ay;\n  if (!dy && r > 0) return;\n  r /= dy;\n  if (dy < 0) {\n    if (r < t0) return;\n    if (r < t1) t1 = r;\n  } else if (dy > 0) {\n    if (r > t1) return;\n    if (r > t0) t0 = r;\n  }\n\n  r = y1 - ay;\n  if (!dy && r < 0) return;\n  r /= dy;\n  if (dy < 0) {\n    if (r > t1) return;\n    if (r > t0) t0 = r;\n  } else if (dy > 0) {\n    if (r < t0) return;\n    if (r < t1) t1 = r;\n  }\n\n  if (!(t0 > 0) && !(t1 < 1)) return true; // TODO Better check?\n\n  if (t0 > 0) edge[0] = [ax + t0 * dx, ay + t0 * dy];\n  if (t1 < 1) edge[1] = [ax + t1 * dx, ay + t1 * dy];\n  return true;\n}\n\nfunction connectEdge(edge, x0, y0, x1, y1) {\n  var v1 = edge[1];\n  if (v1) return true;\n\n  var v0 = edge[0],\n      left = edge.left,\n      right = edge.right,\n      lx = left[0],\n      ly = left[1],\n      rx = right[0],\n      ry = right[1],\n      fx = (lx + rx) / 2,\n      fy = (ly + ry) / 2,\n      fm,\n      fb;\n\n  if (ry === ly) {\n    if (fx < x0 || fx >= x1) return;\n    if (lx > rx) {\n      if (!v0) v0 = [fx, y0];\n      else if (v0[1] >= y1) return;\n      v1 = [fx, y1];\n    } else {\n      if (!v0) v0 = [fx, y1];\n      else if (v0[1] < y0) return;\n      v1 = [fx, y0];\n    }\n  } else {\n    fm = (lx - rx) / (ry - ly);\n    fb = fy - fm * fx;\n    if (fm < -1 || fm > 1) {\n      if (lx > rx) {\n        if (!v0) v0 = [(y0 - fb) / fm, y0];\n        else if (v0[1] >= y1) return;\n        v1 = [(y1 - fb) / fm, y1];\n      } else {\n        if (!v0) v0 = [(y1 - fb) / fm, y1];\n        else if (v0[1] < y0) return;\n        v1 = [(y0 - fb) / fm, y0];\n      }\n    } else {\n      if (ly < ry) {\n        if (!v0) v0 = [x0, fm * x0 + fb];\n        else if (v0[0] >= x1) return;\n        v1 = [x1, fm * x1 + fb];\n      } else {\n        if (!v0) v0 = [x1, fm * x1 + fb];\n        else if (v0[0] < x0) return;\n        v1 = [x0, fm * x0 + fb];\n      }\n    }\n  }\n\n  edge[0] = v0;\n  edge[1] = v1;\n  return true;\n}\n\nexport function clipEdges(x0, y0, x1, y1) {\n  var i = edges.length,\n      edge;\n\n  while (i--) {\n    if (!connectEdge(edge = edges[i], x0, y0, x1, y1)\n        || !clipEdge(edge, x0, y0, x1, y1)\n        || !(Math.abs(edge[0][0] - edge[1][0]) > epsilon\n            || Math.abs(edge[0][1] - edge[1][1]) > epsilon)) {\n      delete edges[i];\n    }\n  }\n}\n","import {createBorderEdge} from \"./Edge\";\nimport {cells, edges, epsilon} from \"./Diagram\";\n\nexport function createCell(site) {\n  return cells[site.index] = {\n    site: site,\n    halfedges: []\n  };\n}\n\nfunction cellHalfedgeAngle(cell, edge) {\n  var site = cell.site,\n      va = edge.left,\n      vb = edge.right;\n  if (site === vb) vb = va, va = site;\n  if (vb) return Math.atan2(vb[1] - va[1], vb[0] - va[0]);\n  if (site === va) va = edge[1], vb = edge[0];\n  else va = edge[0], vb = edge[1];\n  return Math.atan2(va[0] - vb[0], vb[1] - va[1]);\n}\n\nexport function cellHalfedgeStart(cell, edge) {\n  return edge[+(edge.left !== cell.site)];\n}\n\nexport function cellHalfedgeEnd(cell, edge) {\n  return edge[+(edge.left === cell.site)];\n}\n\nexport function sortCellHalfedges() {\n  for (var i = 0, n = cells.length, cell, halfedges, j, m; i < n; ++i) {\n    if ((cell = cells[i]) && (m = (halfedges = cell.halfedges).length)) {\n      var index = new Array(m),\n          array = new Array(m);\n      for (j = 0; j < m; ++j) index[j] = j, array[j] = cellHalfedgeAngle(cell, edges[halfedges[j]]);\n      index.sort(function(i, j) { return array[j] - array[i]; });\n      for (j = 0; j < m; ++j) array[j] = halfedges[index[j]];\n      for (j = 0; j < m; ++j) halfedges[j] = array[j];\n    }\n  }\n}\n\nexport function clipCells(x0, y0, x1, y1) {\n  var nCells = cells.length,\n      iCell,\n      cell,\n      site,\n      iHalfedge,\n      halfedges,\n      nHalfedges,\n      start,\n      startX,\n      startY,\n      end,\n      endX,\n      endY,\n      cover = true;\n\n  for (iCell = 0; iCell < nCells; ++iCell) {\n    if (cell = cells[iCell]) {\n      site = cell.site;\n      halfedges = cell.halfedges;\n      iHalfedge = halfedges.length;\n\n      // Remove any dangling clipped edges.\n      while (iHalfedge--) {\n        if (!edges[halfedges[iHalfedge]]) {\n          halfedges.splice(iHalfedge, 1);\n        }\n      }\n\n      // Insert any border edges as necessary.\n      iHalfedge = 0, nHalfedges = halfedges.length;\n      while (iHalfedge < nHalfedges) {\n        end = cellHalfedgeEnd(cell, edges[halfedges[iHalfedge]]), endX = end[0], endY = end[1];\n        start = cellHalfedgeStart(cell, edges[halfedges[++iHalfedge % nHalfedges]]), startX = start[0], startY = start[1];\n        if (Math.abs(endX - startX) > epsilon || Math.abs(endY - startY) > epsilon) {\n          halfedges.splice(iHalfedge, 0, edges.push(createBorderEdge(site, end,\n              Math.abs(endX - x0) < epsilon && y1 - endY > epsilon ? [x0, Math.abs(startX - x0) < epsilon ? startY : y1]\n              : Math.abs(endY - y1) < epsilon && x1 - endX > epsilon ? [Math.abs(startY - y1) < epsilon ? startX : x1, y1]\n              : Math.abs(endX - x1) < epsilon && endY - y0 > epsilon ? [x1, Math.abs(startX - x1) < epsilon ? startY : y0]\n              : Math.abs(endY - y0) < epsilon && endX - x0 > epsilon ? [Math.abs(startY - y0) < epsilon ? startX : x0, y0]\n              : null)) - 1);\n          ++nHalfedges;\n        }\n      }\n\n      if (nHalfedges) cover = false;\n    }\n  }\n\n  // If there weren’t any edges, have the closest site cover the extent.\n  // It doesn’t matter which corner of the extent we measure!\n  if (cover) {\n    var dx, dy, d2, dc = Infinity;\n\n    for (iCell = 0, cover = null; iCell < nCells; ++iCell) {\n      if (cell = cells[iCell]) {\n        site = cell.site;\n        dx = site[0] - x0;\n        dy = site[1] - y0;\n        d2 = dx * dx + dy * dy;\n        if (d2 < dc) dc = d2, cover = cell;\n      }\n    }\n\n    if (cover) {\n      var v00 = [x0, y0], v01 = [x0, y1], v11 = [x1, y1], v10 = [x1, y0];\n      cover.halfedges.push(\n        edges.push(createBorderEdge(site = cover.site, v00, v01)) - 1,\n        edges.push(createBorderEdge(site, v01, v11)) - 1,\n        edges.push(createBorderEdge(site, v11, v10)) - 1,\n        edges.push(createBorderEdge(site, v10, v00)) - 1\n      );\n    }\n  }\n\n  // Lastly delete any cells with no edges; these were entirely clipped.\n  for (iCell = 0; iCell < nCells; ++iCell) {\n    if (cell = cells[iCell]) {\n      if (!cell.halfedges.length) {\n        delete cells[iCell];\n      }\n    }\n  }\n}\n","import {RedBlackNode} from \"./RedBlackTree\";\nimport {circles, epsilon2} from \"./Diagram\";\n\nvar circlePool = [];\n\nexport var firstCircle;\n\nfunction Circle() {\n  RedBlackNode(this);\n  this.x =\n  this.y =\n  this.arc =\n  this.site =\n  this.cy = null;\n}\n\nexport function attachCircle(arc) {\n  var lArc = arc.P,\n      rArc = arc.N;\n\n  if (!lArc || !rArc) return;\n\n  var lSite = lArc.site,\n      cSite = arc.site,\n      rSite = rArc.site;\n\n  if (lSite === rSite) return;\n\n  var bx = cSite[0],\n      by = cSite[1],\n      ax = lSite[0] - bx,\n      ay = lSite[1] - by,\n      cx = rSite[0] - bx,\n      cy = rSite[1] - by;\n\n  var d = 2 * (ax * cy - ay * cx);\n  if (d >= -epsilon2) return;\n\n  var ha = ax * ax + ay * ay,\n      hc = cx * cx + cy * cy,\n      x = (cy * ha - ay * hc) / d,\n      y = (ax * hc - cx * ha) / d;\n\n  var circle = circlePool.pop() || new Circle;\n  circle.arc = arc;\n  circle.site = cSite;\n  circle.x = x + bx;\n  circle.y = (circle.cy = y + by) + Math.sqrt(x * x + y * y); // y bottom\n\n  arc.circle = circle;\n\n  var before = null,\n      node = circles._;\n\n  while (node) {\n    if (circle.y < node.y || (circle.y === node.y && circle.x <= node.x)) {\n      if (node.L) node = node.L;\n      else { before = node.P; break; }\n    } else {\n      if (node.R) node = node.R;\n      else { before = node; break; }\n    }\n  }\n\n  circles.insert(before, circle);\n  if (!before) firstCircle = circle;\n}\n\nexport function detachCircle(arc) {\n  var circle = arc.circle;\n  if (circle) {\n    if (!circle.P) firstCircle = circle.N;\n    circles.remove(circle);\n    circlePool.push(circle);\n    RedBlackNode(circle);\n    arc.circle = null;\n  }\n}\n","import {RedBlackNode} from \"./RedBlackTree\";\nimport {createCell} from \"./Cell\";\nimport {attachCircle, detachCircle} from \"./Circle\";\nimport {createEdge, setEdgeEnd} from \"./Edge\";\nimport {beaches, epsilon} from \"./Diagram\";\n\nvar beachPool = [];\n\nfunction Beach() {\n  RedBlackNode(this);\n  this.edge =\n  this.site =\n  this.circle = null;\n}\n\nfunction createBeach(site) {\n  var beach = beachPool.pop() || new Beach;\n  beach.site = site;\n  return beach;\n}\n\nfunction detachBeach(beach) {\n  detachCircle(beach);\n  beaches.remove(beach);\n  beachPool.push(beach);\n  RedBlackNode(beach);\n}\n\nexport function removeBeach(beach) {\n  var circle = beach.circle,\n      x = circle.x,\n      y = circle.cy,\n      vertex = [x, y],\n      previous = beach.P,\n      next = beach.N,\n      disappearing = [beach];\n\n  detachBeach(beach);\n\n  var lArc = previous;\n  while (lArc.circle\n      && Math.abs(x - lArc.circle.x) < epsilon\n      && Math.abs(y - lArc.circle.cy) < epsilon) {\n    previous = lArc.P;\n    disappearing.unshift(lArc);\n    detachBeach(lArc);\n    lArc = previous;\n  }\n\n  disappearing.unshift(lArc);\n  detachCircle(lArc);\n\n  var rArc = next;\n  while (rArc.circle\n      && Math.abs(x - rArc.circle.x) < epsilon\n      && Math.abs(y - rArc.circle.cy) < epsilon) {\n    next = rArc.N;\n    disappearing.push(rArc);\n    detachBeach(rArc);\n    rArc = next;\n  }\n\n  disappearing.push(rArc);\n  detachCircle(rArc);\n\n  var nArcs = disappearing.length,\n      iArc;\n  for (iArc = 1; iArc < nArcs; ++iArc) {\n    rArc = disappearing[iArc];\n    lArc = disappearing[iArc - 1];\n    setEdgeEnd(rArc.edge, lArc.site, rArc.site, vertex);\n  }\n\n  lArc = disappearing[0];\n  rArc = disappearing[nArcs - 1];\n  rArc.edge = createEdge(lArc.site, rArc.site, null, vertex);\n\n  attachCircle(lArc);\n  attachCircle(rArc);\n}\n\nexport function addBeach(site) {\n  var x = site[0],\n      directrix = site[1],\n      lArc,\n      rArc,\n      dxl,\n      dxr,\n      node = beaches._;\n\n  while (node) {\n    dxl = leftBreakPoint(node, directrix) - x;\n    if (dxl > epsilon) node = node.L; else {\n      dxr = x - rightBreakPoint(node, directrix);\n      if (dxr > epsilon) {\n        if (!node.R) {\n          lArc = node;\n          break;\n        }\n        node = node.R;\n      } else {\n        if (dxl > -epsilon) {\n          lArc = node.P;\n          rArc = node;\n        } else if (dxr > -epsilon) {\n          lArc = node;\n          rArc = node.N;\n        } else {\n          lArc = rArc = node;\n        }\n        break;\n      }\n    }\n  }\n\n  createCell(site);\n  var newArc = createBeach(site);\n  beaches.insert(lArc, newArc);\n\n  if (!lArc && !rArc) return;\n\n  if (lArc === rArc) {\n    detachCircle(lArc);\n    rArc = createBeach(lArc.site);\n    beaches.insert(newArc, rArc);\n    newArc.edge = rArc.edge = createEdge(lArc.site, newArc.site);\n    attachCircle(lArc);\n    attachCircle(rArc);\n    return;\n  }\n\n  if (!rArc) { // && lArc\n    newArc.edge = createEdge(lArc.site, newArc.site);\n    return;\n  }\n\n  // else lArc !== rArc\n  detachCircle(lArc);\n  detachCircle(rArc);\n\n  var lSite = lArc.site,\n      ax = lSite[0],\n      ay = lSite[1],\n      bx = site[0] - ax,\n      by = site[1] - ay,\n      rSite = rArc.site,\n      cx = rSite[0] - ax,\n      cy = rSite[1] - ay,\n      d = 2 * (bx * cy - by * cx),\n      hb = bx * bx + by * by,\n      hc = cx * cx + cy * cy,\n      vertex = [(cy * hb - by * hc) / d + ax, (bx * hc - cx * hb) / d + ay];\n\n  setEdgeEnd(rArc.edge, lSite, rSite, vertex);\n  newArc.edge = createEdge(lSite, site, null, vertex);\n  rArc.edge = createEdge(site, rSite, null, vertex);\n  attachCircle(lArc);\n  attachCircle(rArc);\n}\n\nfunction leftBreakPoint(arc, directrix) {\n  var site = arc.site,\n      rfocx = site[0],\n      rfocy = site[1],\n      pby2 = rfocy - directrix;\n\n  if (!pby2) return rfocx;\n\n  var lArc = arc.P;\n  if (!lArc) return -Infinity;\n\n  site = lArc.site;\n  var lfocx = site[0],\n      lfocy = site[1],\n      plby2 = lfocy - directrix;\n\n  if (!plby2) return lfocx;\n\n  var hl = lfocx - rfocx,\n      aby2 = 1 / pby2 - 1 / plby2,\n      b = hl / plby2;\n\n  if (aby2) return (-b + Math.sqrt(b * b - 2 * aby2 * (hl * hl / (-2 * plby2) - lfocy + plby2 / 2 + rfocy - pby2 / 2))) / aby2 + rfocx;\n\n  return (rfocx + lfocx) / 2;\n}\n\nfunction rightBreakPoint(arc, directrix) {\n  var rArc = arc.N;\n  if (rArc) return leftBreakPoint(rArc, directrix);\n  var site = arc.site;\n  return site[1] === directrix ? site[0] : Infinity;\n}\n","import {addBeach, removeBeach} from \"./Beach\";\nimport {sortCellHalfedges, cellHalfedgeStart, clipCells} from \"./Cell\";\nimport {firstCircle} from \"./Circle\";\nimport {clipEdges} from \"./Edge\";\nimport RedBlackTree from \"./RedBlackTree\";\n\nexport var epsilon = 1e-6;\nexport var epsilon2 = 1e-12;\nexport var beaches;\nexport var cells;\nexport var circles;\nexport var edges;\n\nfunction triangleArea(a, b, c) {\n  return (a[0] - c[0]) * (b[1] - a[1]) - (a[0] - b[0]) * (c[1] - a[1]);\n}\n\nfunction lexicographic(a, b) {\n  return b[1] - a[1]\n      || b[0] - a[0];\n}\n\nexport default function Diagram(sites, extent) {\n  var site = sites.sort(lexicographic).pop(),\n      x,\n      y,\n      circle;\n\n  edges = [];\n  cells = new Array(sites.length);\n  beaches = new RedBlackTree;\n  circles = new RedBlackTree;\n\n  while (true) {\n    circle = firstCircle;\n    if (site && (!circle || site[1] < circle.y || (site[1] === circle.y && site[0] < circle.x))) {\n      if (site[0] !== x || site[1] !== y) {\n        addBeach(site);\n        x = site[0], y = site[1];\n      }\n      site = sites.pop();\n    } else if (circle) {\n      removeBeach(circle.arc);\n    } else {\n      break;\n    }\n  }\n\n  sortCellHalfedges();\n\n  if (extent) {\n    var x0 = +extent[0][0],\n        y0 = +extent[0][1],\n        x1 = +extent[1][0],\n        y1 = +extent[1][1];\n    clipEdges(x0, y0, x1, y1);\n    clipCells(x0, y0, x1, y1);\n  }\n\n  this.edges = edges;\n  this.cells = cells;\n\n  beaches =\n  circles =\n  edges =\n  cells = null;\n}\n\nDiagram.prototype = {\n  constructor: Diagram,\n\n  polygons: function() {\n    var edges = this.edges;\n\n    return this.cells.map(function(cell) {\n      var polygon = cell.halfedges.map(function(i) { return cellHalfedgeStart(cell, edges[i]); });\n      polygon.data = cell.site.data;\n      return polygon;\n    });\n  },\n\n  triangles: function() {\n    var triangles = [],\n        edges = this.edges;\n\n    this.cells.forEach(function(cell, i) {\n      if (!(m = (halfedges = cell.halfedges).length)) return;\n      var site = cell.site,\n          halfedges,\n          j = -1,\n          m,\n          s0,\n          e1 = edges[halfedges[m - 1]],\n          s1 = e1.left === site ? e1.right : e1.left;\n\n      while (++j < m) {\n        s0 = s1;\n        e1 = edges[halfedges[j]];\n        s1 = e1.left === site ? e1.right : e1.left;\n        if (s0 && s1 && i < s0.index && i < s1.index && triangleArea(site, s0, s1) < 0) {\n          triangles.push([site.data, s0.data, s1.data]);\n        }\n      }\n    });\n\n    return triangles;\n  },\n\n  links: function() {\n    return this.edges.filter(function(edge) {\n      return edge.right;\n    }).map(function(edge) {\n      return {\n        source: edge.left.data,\n        target: edge.right.data\n      };\n    });\n  },\n\n  find: function(x, y, radius) {\n    var that = this, i0, i1 = that._found || 0, n = that.cells.length, cell;\n\n    // Use the previously-found cell, or start with an arbitrary one.\n    while (!(cell = that.cells[i1])) if (++i1 >= n) return null;\n    var dx = x - cell.site[0], dy = y - cell.site[1], d2 = dx * dx + dy * dy;\n\n    // Traverse the half-edges to find a closer cell, if any.\n    do {\n      cell = that.cells[i0 = i1], i1 = null;\n      cell.halfedges.forEach(function(e) {\n        var edge = that.edges[e], v = edge.left;\n        if ((v === cell.site || !v) && !(v = edge.right)) return;\n        var vx = x - v[0], vy = y - v[1], v2 = vx * vx + vy * vy;\n        if (v2 < d2) d2 = v2, i1 = v.index;\n      });\n    } while (i1 !== null);\n\n    that._found = i0;\n\n    return radius == null || d2 <= radius * radius ? cell.site : null;\n  }\n}\n","import constant from \"./constant\";\nimport {x as pointX, y as pointY} from \"./point\";\nimport Diagram, {epsilon} from \"./Diagram\";\n\nexport default function() {\n  var x = pointX,\n      y = pointY,\n      extent = null;\n\n  function voronoi(data) {\n    return new Diagram(data.map(function(d, i) {\n      var s = [Math.round(x(d, i, data) / epsilon) * epsilon, Math.round(y(d, i, data) / epsilon) * epsilon];\n      s.index = i;\n      s.data = d;\n      return s;\n    }), extent);\n  }\n\n  voronoi.polygons = function(data) {\n    return voronoi(data).polygons();\n  };\n\n  voronoi.links = function(data) {\n    return voronoi(data).links();\n  };\n\n  voronoi.triangles = function(data) {\n    return voronoi(data).triangles();\n  };\n\n  voronoi.x = function(_) {\n    return arguments.length ? (x = typeof _ === \"function\" ? _ : constant(+_), voronoi) : x;\n  };\n\n  voronoi.y = function(_) {\n    return arguments.length ? (y = typeof _ === \"function\" ? _ : constant(+_), voronoi) : y;\n  };\n\n  voronoi.extent = function(_) {\n    return arguments.length ? (extent = _ == null ? null : [[+_[0][0], +_[0][1]], [+_[1][0], +_[1][1]]], voronoi) : extent && [[extent[0][0], extent[0][1]], [extent[1][0], extent[1][1]]];\n  };\n\n  voronoi.size = function(_) {\n    return arguments.length ? (extent = _ == null ? null : [[0, 0], [+_[0], +_[1]]], voronoi) : extent && [extent[1][0] - extent[0][0], extent[1][1] - extent[0][1]];\n  };\n\n  return voronoi;\n}\n","var pi = Math.PI,\n    tau = 2 * pi,\n    epsilon = 1e-6,\n    tauEpsilon = tau - epsilon;\n\nfunction Path() {\n  this._x0 = this._y0 = // start of current subpath\n  this._x1 = this._y1 = null; // end of current subpath\n  this._ = \"\";\n}\n\nfunction path() {\n  return new Path;\n}\n\nPath.prototype = path.prototype = {\n  constructor: Path,\n  moveTo: function(x, y) {\n    this._ += \"M\" + (this._x0 = this._x1 = +x) + \",\" + (this._y0 = this._y1 = +y);\n  },\n  closePath: function() {\n    if (this._x1 !== null) {\n      this._x1 = this._x0, this._y1 = this._y0;\n      this._ += \"Z\";\n    }\n  },\n  lineTo: function(x, y) {\n    this._ += \"L\" + (this._x1 = +x) + \",\" + (this._y1 = +y);\n  },\n  quadraticCurveTo: function(x1, y1, x, y) {\n    this._ += \"Q\" + (+x1) + \",\" + (+y1) + \",\" + (this._x1 = +x) + \",\" + (this._y1 = +y);\n  },\n  bezierCurveTo: function(x1, y1, x2, y2, x, y) {\n    this._ += \"C\" + (+x1) + \",\" + (+y1) + \",\" + (+x2) + \",\" + (+y2) + \",\" + (this._x1 = +x) + \",\" + (this._y1 = +y);\n  },\n  arcTo: function(x1, y1, x2, y2, r) {\n    x1 = +x1, y1 = +y1, x2 = +x2, y2 = +y2, r = +r;\n    var x0 = this._x1,\n        y0 = this._y1,\n        x21 = x2 - x1,\n        y21 = y2 - y1,\n        x01 = x0 - x1,\n        y01 = y0 - y1,\n        l01_2 = x01 * x01 + y01 * y01;\n\n    // Is the radius negative? Error.\n    if (r < 0) throw new Error(\"negative radius: \" + r);\n\n    // Is this path empty? Move to (x1,y1).\n    if (this._x1 === null) {\n      this._ += \"M\" + (this._x1 = x1) + \",\" + (this._y1 = y1);\n    }\n\n    // Or, is (x1,y1) coincident with (x0,y0)? Do nothing.\n    else if (!(l01_2 > epsilon));\n\n    // Or, are (x0,y0), (x1,y1) and (x2,y2) collinear?\n    // Equivalently, is (x1,y1) coincident with (x2,y2)?\n    // Or, is the radius zero? Line to (x1,y1).\n    else if (!(Math.abs(y01 * x21 - y21 * x01) > epsilon) || !r) {\n      this._ += \"L\" + (this._x1 = x1) + \",\" + (this._y1 = y1);\n    }\n\n    // Otherwise, draw an arc!\n    else {\n      var x20 = x2 - x0,\n          y20 = y2 - y0,\n          l21_2 = x21 * x21 + y21 * y21,\n          l20_2 = x20 * x20 + y20 * y20,\n          l21 = Math.sqrt(l21_2),\n          l01 = Math.sqrt(l01_2),\n          l = r * Math.tan((pi - Math.acos((l21_2 + l01_2 - l20_2) / (2 * l21 * l01))) / 2),\n          t01 = l / l01,\n          t21 = l / l21;\n\n      // If the start tangent is not coincident with (x0,y0), line to.\n      if (Math.abs(t01 - 1) > epsilon) {\n        this._ += \"L\" + (x1 + t01 * x01) + \",\" + (y1 + t01 * y01);\n      }\n\n      this._ += \"A\" + r + \",\" + r + \",0,0,\" + (+(y01 * x20 > x01 * y20)) + \",\" + (this._x1 = x1 + t21 * x21) + \",\" + (this._y1 = y1 + t21 * y21);\n    }\n  },\n  arc: function(x, y, r, a0, a1, ccw) {\n    x = +x, y = +y, r = +r, ccw = !!ccw;\n    var dx = r * Math.cos(a0),\n        dy = r * Math.sin(a0),\n        x0 = x + dx,\n        y0 = y + dy,\n        cw = 1 ^ ccw,\n        da = ccw ? a0 - a1 : a1 - a0;\n\n    // Is the radius negative? Error.\n    if (r < 0) throw new Error(\"negative radius: \" + r);\n\n    // Is this path empty? Move to (x0,y0).\n    if (this._x1 === null) {\n      this._ += \"M\" + x0 + \",\" + y0;\n    }\n\n    // Or, is (x0,y0) not coincident with the previous point? Line to (x0,y0).\n    else if (Math.abs(this._x1 - x0) > epsilon || Math.abs(this._y1 - y0) > epsilon) {\n      this._ += \"L\" + x0 + \",\" + y0;\n    }\n\n    // Is this arc empty? We’re done.\n    if (!r) return;\n\n    // Does the angle go the wrong way? Flip the direction.\n    if (da < 0) da = da % tau + tau;\n\n    // Is this a complete circle? Draw two arcs to complete the circle.\n    if (da > tauEpsilon) {\n      this._ += \"A\" + r + \",\" + r + \",0,1,\" + cw + \",\" + (x - dx) + \",\" + (y - dy) + \"A\" + r + \",\" + r + \",0,1,\" + cw + \",\" + (this._x1 = x0) + \",\" + (this._y1 = y0);\n    }\n\n    // Is this arc non-empty? Draw an arc!\n    else if (da > epsilon) {\n      this._ += \"A\" + r + \",\" + r + \",0,\" + (+(da >= pi)) + \",\" + cw + \",\" + (this._x1 = x + r * Math.cos(a1)) + \",\" + (this._y1 = y + r * Math.sin(a1));\n    }\n  },\n  rect: function(x, y, w, h) {\n    this._ += \"M\" + (this._x0 = this._x1 = +x) + \",\" + (this._y0 = this._y1 = +y) + \"h\" + (+w) + \"v\" + (+h) + \"h\" + (-w) + \"Z\";\n  },\n  toString: function() {\n    return this._;\n  }\n};\n\nexport default path;\n","export default function(x) {\n  return function constant() {\n    return x;\n  };\n}\n","export var abs = Math.abs;\nexport var atan2 = Math.atan2;\nexport var cos = Math.cos;\nexport var max = Math.max;\nexport var min = Math.min;\nexport var sin = Math.sin;\nexport var sqrt = Math.sqrt;\n\nexport var epsilon = 1e-12;\nexport var pi = Math.PI;\nexport var halfPi = pi / 2;\nexport var tau = 2 * pi;\n\nexport function acos(x) {\n  return x > 1 ? 0 : x < -1 ? pi : Math.acos(x);\n}\n\nexport function asin(x) {\n  return x >= 1 ? halfPi : x <= -1 ? -halfPi : Math.asin(x);\n}\n","function Linear(context) {\n  this._context = context;\n}\n\nLinear.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y); break;\n      case 1: this._point = 2; // proceed\n      default: this._context.lineTo(x, y); break;\n    }\n  }\n};\n\nexport default function(context) {\n  return new Linear(context);\n}\n","export function x(p) {\n  return p[0];\n}\n\nexport function y(p) {\n  return p[1];\n}\n","import {path} from \"d3-path\";\nimport constant from \"./constant.js\";\nimport curveLinear from \"./curve/linear.js\";\nimport {x as pointX, y as pointY} from \"./point.js\";\n\nexport default function() {\n  var x = pointX,\n      y = pointY,\n      defined = constant(true),\n      context = null,\n      curve = curveLinear,\n      output = null;\n\n  function line(data) {\n    var i,\n        n = data.length,\n        d,\n        defined0 = false,\n        buffer;\n\n    if (context == null) output = curve(buffer = path());\n\n    for (i = 0; i <= n; ++i) {\n      if (!(i < n && defined(d = data[i], i, data)) === defined0) {\n        if (defined0 = !defined0) output.lineStart();\n        else output.lineEnd();\n      }\n      if (defined0) output.point(+x(d, i, data), +y(d, i, data));\n    }\n\n    if (buffer) return output = null, buffer + \"\" || null;\n  }\n\n  line.x = function(_) {\n    return arguments.length ? (x = typeof _ === \"function\" ? _ : constant(+_), line) : x;\n  };\n\n  line.y = function(_) {\n    return arguments.length ? (y = typeof _ === \"function\" ? _ : constant(+_), line) : y;\n  };\n\n  line.defined = function(_) {\n    return arguments.length ? (defined = typeof _ === \"function\" ? _ : constant(!!_), line) : defined;\n  };\n\n  line.curve = function(_) {\n    return arguments.length ? (curve = _, context != null && (output = curve(context)), line) : curve;\n  };\n\n  line.context = function(_) {\n    return arguments.length ? (_ == null ? context = output = null : output = curve(context = _), line) : context;\n  };\n\n  return line;\n}\n","import {path} from \"d3-path\";\nimport constant from \"./constant.js\";\nimport curveLinear from \"./curve/linear.js\";\nimport line from \"./line.js\";\nimport {x as pointX, y as pointY} from \"./point.js\";\n\nexport default function() {\n  var x0 = pointX,\n      x1 = null,\n      y0 = constant(0),\n      y1 = pointY,\n      defined = constant(true),\n      context = null,\n      curve = curveLinear,\n      output = null;\n\n  function area(data) {\n    var i,\n        j,\n        k,\n        n = data.length,\n        d,\n        defined0 = false,\n        buffer,\n        x0z = new Array(n),\n        y0z = new Array(n);\n\n    if (context == null) output = curve(buffer = path());\n\n    for (i = 0; i <= n; ++i) {\n      if (!(i < n && defined(d = data[i], i, data)) === defined0) {\n        if (defined0 = !defined0) {\n          j = i;\n          output.areaStart();\n          output.lineStart();\n        } else {\n          output.lineEnd();\n          output.lineStart();\n          for (k = i - 1; k >= j; --k) {\n            output.point(x0z[k], y0z[k]);\n          }\n          output.lineEnd();\n          output.areaEnd();\n        }\n      }\n      if (defined0) {\n        x0z[i] = +x0(d, i, data), y0z[i] = +y0(d, i, data);\n        output.point(x1 ? +x1(d, i, data) : x0z[i], y1 ? +y1(d, i, data) : y0z[i]);\n      }\n    }\n\n    if (buffer) return output = null, buffer + \"\" || null;\n  }\n\n  function arealine() {\n    return line().defined(defined).curve(curve).context(context);\n  }\n\n  area.x = function(_) {\n    return arguments.length ? (x0 = typeof _ === \"function\" ? _ : constant(+_), x1 = null, area) : x0;\n  };\n\n  area.x0 = function(_) {\n    return arguments.length ? (x0 = typeof _ === \"function\" ? _ : constant(+_), area) : x0;\n  };\n\n  area.x1 = function(_) {\n    return arguments.length ? (x1 = _ == null ? null : typeof _ === \"function\" ? _ : constant(+_), area) : x1;\n  };\n\n  area.y = function(_) {\n    return arguments.length ? (y0 = typeof _ === \"function\" ? _ : constant(+_), y1 = null, area) : y0;\n  };\n\n  area.y0 = function(_) {\n    return arguments.length ? (y0 = typeof _ === \"function\" ? _ : constant(+_), area) : y0;\n  };\n\n  area.y1 = function(_) {\n    return arguments.length ? (y1 = _ == null ? null : typeof _ === \"function\" ? _ : constant(+_), area) : y1;\n  };\n\n  area.lineX0 =\n  area.lineY0 = function() {\n    return arealine().x(x0).y(y0);\n  };\n\n  area.lineY1 = function() {\n    return arealine().x(x0).y(y1);\n  };\n\n  area.lineX1 = function() {\n    return arealine().x(x1).y(y0);\n  };\n\n  area.defined = function(_) {\n    return arguments.length ? (defined = typeof _ === \"function\" ? _ : constant(!!_), area) : defined;\n  };\n\n  area.curve = function(_) {\n    return arguments.length ? (curve = _, context != null && (output = curve(context)), area) : curve;\n  };\n\n  area.context = function(_) {\n    return arguments.length ? (_ == null ? context = output = null : output = curve(context = _), area) : context;\n  };\n\n  return area;\n}\n","export default function() {}\n","export function point(that, x, y) {\n  that._context.bezierCurveTo(\n    (2 * that._x0 + that._x1) / 3,\n    (2 * that._y0 + that._y1) / 3,\n    (that._x0 + 2 * that._x1) / 3,\n    (that._y0 + 2 * that._y1) / 3,\n    (that._x0 + 4 * that._x1 + x) / 6,\n    (that._y0 + 4 * that._y1 + y) / 6\n  );\n}\n\nexport function Basis(context) {\n  this._context = context;\n}\n\nBasis.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x0 = this._x1 =\n    this._y0 = this._y1 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    switch (this._point) {\n      case 3: point(this, this._x1, this._y1); // proceed\n      case 2: this._context.lineTo(this._x1, this._y1); break;\n    }\n    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y); break;\n      case 1: this._point = 2; break;\n      case 2: this._point = 3; this._context.lineTo((5 * this._x0 + this._x1) / 6, (5 * this._y0 + this._y1) / 6); // proceed\n      default: point(this, x, y); break;\n    }\n    this._x0 = this._x1, this._x1 = x;\n    this._y0 = this._y1, this._y1 = y;\n  }\n};\n\nexport default function(context) {\n  return new Basis(context);\n}\n","import noop from \"../noop.js\";\nimport {point} from \"./basis.js\";\n\nfunction BasisClosed(context) {\n  this._context = context;\n}\n\nBasisClosed.prototype = {\n  areaStart: noop,\n  areaEnd: noop,\n  lineStart: function() {\n    this._x0 = this._x1 = this._x2 = this._x3 = this._x4 =\n    this._y0 = this._y1 = this._y2 = this._y3 = this._y4 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    switch (this._point) {\n      case 1: {\n        this._context.moveTo(this._x2, this._y2);\n        this._context.closePath();\n        break;\n      }\n      case 2: {\n        this._context.moveTo((this._x2 + 2 * this._x3) / 3, (this._y2 + 2 * this._y3) / 3);\n        this._context.lineTo((this._x3 + 2 * this._x2) / 3, (this._y3 + 2 * this._y2) / 3);\n        this._context.closePath();\n        break;\n      }\n      case 3: {\n        this.point(this._x2, this._y2);\n        this.point(this._x3, this._y3);\n        this.point(this._x4, this._y4);\n        break;\n      }\n    }\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; this._x2 = x, this._y2 = y; break;\n      case 1: this._point = 2; this._x3 = x, this._y3 = y; break;\n      case 2: this._point = 3; this._x4 = x, this._y4 = y; this._context.moveTo((this._x0 + 4 * this._x1 + x) / 6, (this._y0 + 4 * this._y1 + y) / 6); break;\n      default: point(this, x, y); break;\n    }\n    this._x0 = this._x1, this._x1 = x;\n    this._y0 = this._y1, this._y1 = y;\n  }\n};\n\nexport default function(context) {\n  return new BasisClosed(context);\n}\n","import {point} from \"./basis.js\";\n\nfunction BasisOpen(context) {\n  this._context = context;\n}\n\nBasisOpen.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x0 = this._x1 =\n    this._y0 = this._y1 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (this._line || (this._line !== 0 && this._point === 3)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; break;\n      case 1: this._point = 2; break;\n      case 2: this._point = 3; var x0 = (this._x0 + 4 * this._x1 + x) / 6, y0 = (this._y0 + 4 * this._y1 + y) / 6; this._line ? this._context.lineTo(x0, y0) : this._context.moveTo(x0, y0); break;\n      case 3: this._point = 4; // proceed\n      default: point(this, x, y); break;\n    }\n    this._x0 = this._x1, this._x1 = x;\n    this._y0 = this._y1, this._y1 = y;\n  }\n};\n\nexport default function(context) {\n  return new BasisOpen(context);\n}\n","import {Basis} from \"./basis.js\";\n\nfunction Bundle(context, beta) {\n  this._basis = new Basis(context);\n  this._beta = beta;\n}\n\nBundle.prototype = {\n  lineStart: function() {\n    this._x = [];\n    this._y = [];\n    this._basis.lineStart();\n  },\n  lineEnd: function() {\n    var x = this._x,\n        y = this._y,\n        j = x.length - 1;\n\n    if (j > 0) {\n      var x0 = x[0],\n          y0 = y[0],\n          dx = x[j] - x0,\n          dy = y[j] - y0,\n          i = -1,\n          t;\n\n      while (++i <= j) {\n        t = i / j;\n        this._basis.point(\n          this._beta * x[i] + (1 - this._beta) * (x0 + t * dx),\n          this._beta * y[i] + (1 - this._beta) * (y0 + t * dy)\n        );\n      }\n    }\n\n    this._x = this._y = null;\n    this._basis.lineEnd();\n  },\n  point: function(x, y) {\n    this._x.push(+x);\n    this._y.push(+y);\n  }\n};\n\nexport default (function custom(beta) {\n\n  function bundle(context) {\n    return beta === 1 ? new Basis(context) : new Bundle(context, beta);\n  }\n\n  bundle.beta = function(beta) {\n    return custom(+beta);\n  };\n\n  return bundle;\n})(0.85);\n","export function point(that, x, y) {\n  that._context.bezierCurveTo(\n    that._x1 + that._k * (that._x2 - that._x0),\n    that._y1 + that._k * (that._y2 - that._y0),\n    that._x2 + that._k * (that._x1 - x),\n    that._y2 + that._k * (that._y1 - y),\n    that._x2,\n    that._y2\n  );\n}\n\nexport function Cardinal(context, tension) {\n  this._context = context;\n  this._k = (1 - tension) / 6;\n}\n\nCardinal.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x0 = this._x1 = this._x2 =\n    this._y0 = this._y1 = this._y2 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    switch (this._point) {\n      case 2: this._context.lineTo(this._x2, this._y2); break;\n      case 3: point(this, this._x1, this._y1); break;\n    }\n    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y); break;\n      case 1: this._point = 2; this._x1 = x, this._y1 = y; break;\n      case 2: this._point = 3; // proceed\n      default: point(this, x, y); break;\n    }\n    this._x0 = this._x1, this._x1 = this._x2, this._x2 = x;\n    this._y0 = this._y1, this._y1 = this._y2, this._y2 = y;\n  }\n};\n\nexport default (function custom(tension) {\n\n  function cardinal(context) {\n    return new Cardinal(context, tension);\n  }\n\n  cardinal.tension = function(tension) {\n    return custom(+tension);\n  };\n\n  return cardinal;\n})(0);\n","import noop from \"../noop.js\";\nimport {point} from \"./cardinal.js\";\n\nexport function CardinalClosed(context, tension) {\n  this._context = context;\n  this._k = (1 - tension) / 6;\n}\n\nCardinalClosed.prototype = {\n  areaStart: noop,\n  areaEnd: noop,\n  lineStart: function() {\n    this._x0 = this._x1 = this._x2 = this._x3 = this._x4 = this._x5 =\n    this._y0 = this._y1 = this._y2 = this._y3 = this._y4 = this._y5 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    switch (this._point) {\n      case 1: {\n        this._context.moveTo(this._x3, this._y3);\n        this._context.closePath();\n        break;\n      }\n      case 2: {\n        this._context.lineTo(this._x3, this._y3);\n        this._context.closePath();\n        break;\n      }\n      case 3: {\n        this.point(this._x3, this._y3);\n        this.point(this._x4, this._y4);\n        this.point(this._x5, this._y5);\n        break;\n      }\n    }\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; this._x3 = x, this._y3 = y; break;\n      case 1: this._point = 2; this._context.moveTo(this._x4 = x, this._y4 = y); break;\n      case 2: this._point = 3; this._x5 = x, this._y5 = y; break;\n      default: point(this, x, y); break;\n    }\n    this._x0 = this._x1, this._x1 = this._x2, this._x2 = x;\n    this._y0 = this._y1, this._y1 = this._y2, this._y2 = y;\n  }\n};\n\nexport default (function custom(tension) {\n\n  function cardinal(context) {\n    return new CardinalClosed(context, tension);\n  }\n\n  cardinal.tension = function(tension) {\n    return custom(+tension);\n  };\n\n  return cardinal;\n})(0);\n","import {point} from \"./cardinal.js\";\n\nexport function CardinalOpen(context, tension) {\n  this._context = context;\n  this._k = (1 - tension) / 6;\n}\n\nCardinalOpen.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x0 = this._x1 = this._x2 =\n    this._y0 = this._y1 = this._y2 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (this._line || (this._line !== 0 && this._point === 3)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; break;\n      case 1: this._point = 2; break;\n      case 2: this._point = 3; this._line ? this._context.lineTo(this._x2, this._y2) : this._context.moveTo(this._x2, this._y2); break;\n      case 3: this._point = 4; // proceed\n      default: point(this, x, y); break;\n    }\n    this._x0 = this._x1, this._x1 = this._x2, this._x2 = x;\n    this._y0 = this._y1, this._y1 = this._y2, this._y2 = y;\n  }\n};\n\nexport default (function custom(tension) {\n\n  function cardinal(context) {\n    return new CardinalOpen(context, tension);\n  }\n\n  cardinal.tension = function(tension) {\n    return custom(+tension);\n  };\n\n  return cardinal;\n})(0);\n","import {epsilon} from \"../math.js\";\nimport {Cardinal} from \"./cardinal.js\";\n\nexport function point(that, x, y) {\n  var x1 = that._x1,\n      y1 = that._y1,\n      x2 = that._x2,\n      y2 = that._y2;\n\n  if (that._l01_a > epsilon) {\n    var a = 2 * that._l01_2a + 3 * that._l01_a * that._l12_a + that._l12_2a,\n        n = 3 * that._l01_a * (that._l01_a + that._l12_a);\n    x1 = (x1 * a - that._x0 * that._l12_2a + that._x2 * that._l01_2a) / n;\n    y1 = (y1 * a - that._y0 * that._l12_2a + that._y2 * that._l01_2a) / n;\n  }\n\n  if (that._l23_a > epsilon) {\n    var b = 2 * that._l23_2a + 3 * that._l23_a * that._l12_a + that._l12_2a,\n        m = 3 * that._l23_a * (that._l23_a + that._l12_a);\n    x2 = (x2 * b + that._x1 * that._l23_2a - x * that._l12_2a) / m;\n    y2 = (y2 * b + that._y1 * that._l23_2a - y * that._l12_2a) / m;\n  }\n\n  that._context.bezierCurveTo(x1, y1, x2, y2, that._x2, that._y2);\n}\n\nfunction CatmullRom(context, alpha) {\n  this._context = context;\n  this._alpha = alpha;\n}\n\nCatmullRom.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x0 = this._x1 = this._x2 =\n    this._y0 = this._y1 = this._y2 = NaN;\n    this._l01_a = this._l12_a = this._l23_a =\n    this._l01_2a = this._l12_2a = this._l23_2a =\n    this._point = 0;\n  },\n  lineEnd: function() {\n    switch (this._point) {\n      case 2: this._context.lineTo(this._x2, this._y2); break;\n      case 3: this.point(this._x2, this._y2); break;\n    }\n    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n\n    if (this._point) {\n      var x23 = this._x2 - x,\n          y23 = this._y2 - y;\n      this._l23_a = Math.sqrt(this._l23_2a = Math.pow(x23 * x23 + y23 * y23, this._alpha));\n    }\n\n    switch (this._point) {\n      case 0: this._point = 1; this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y); break;\n      case 1: this._point = 2; break;\n      case 2: this._point = 3; // proceed\n      default: point(this, x, y); break;\n    }\n\n    this._l01_a = this._l12_a, this._l12_a = this._l23_a;\n    this._l01_2a = this._l12_2a, this._l12_2a = this._l23_2a;\n    this._x0 = this._x1, this._x1 = this._x2, this._x2 = x;\n    this._y0 = this._y1, this._y1 = this._y2, this._y2 = y;\n  }\n};\n\nexport default (function custom(alpha) {\n\n  function catmullRom(context) {\n    return alpha ? new CatmullRom(context, alpha) : new Cardinal(context, 0);\n  }\n\n  catmullRom.alpha = function(alpha) {\n    return custom(+alpha);\n  };\n\n  return catmullRom;\n})(0.5);\n","import {CardinalClosed} from \"./cardinalClosed.js\";\nimport noop from \"../noop.js\";\nimport {point} from \"./catmullRom.js\";\n\nfunction CatmullRomClosed(context, alpha) {\n  this._context = context;\n  this._alpha = alpha;\n}\n\nCatmullRomClosed.prototype = {\n  areaStart: noop,\n  areaEnd: noop,\n  lineStart: function() {\n    this._x0 = this._x1 = this._x2 = this._x3 = this._x4 = this._x5 =\n    this._y0 = this._y1 = this._y2 = this._y3 = this._y4 = this._y5 = NaN;\n    this._l01_a = this._l12_a = this._l23_a =\n    this._l01_2a = this._l12_2a = this._l23_2a =\n    this._point = 0;\n  },\n  lineEnd: function() {\n    switch (this._point) {\n      case 1: {\n        this._context.moveTo(this._x3, this._y3);\n        this._context.closePath();\n        break;\n      }\n      case 2: {\n        this._context.lineTo(this._x3, this._y3);\n        this._context.closePath();\n        break;\n      }\n      case 3: {\n        this.point(this._x3, this._y3);\n        this.point(this._x4, this._y4);\n        this.point(this._x5, this._y5);\n        break;\n      }\n    }\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n\n    if (this._point) {\n      var x23 = this._x2 - x,\n          y23 = this._y2 - y;\n      this._l23_a = Math.sqrt(this._l23_2a = Math.pow(x23 * x23 + y23 * y23, this._alpha));\n    }\n\n    switch (this._point) {\n      case 0: this._point = 1; this._x3 = x, this._y3 = y; break;\n      case 1: this._point = 2; this._context.moveTo(this._x4 = x, this._y4 = y); break;\n      case 2: this._point = 3; this._x5 = x, this._y5 = y; break;\n      default: point(this, x, y); break;\n    }\n\n    this._l01_a = this._l12_a, this._l12_a = this._l23_a;\n    this._l01_2a = this._l12_2a, this._l12_2a = this._l23_2a;\n    this._x0 = this._x1, this._x1 = this._x2, this._x2 = x;\n    this._y0 = this._y1, this._y1 = this._y2, this._y2 = y;\n  }\n};\n\nexport default (function custom(alpha) {\n\n  function catmullRom(context) {\n    return alpha ? new CatmullRomClosed(context, alpha) : new CardinalClosed(context, 0);\n  }\n\n  catmullRom.alpha = function(alpha) {\n    return custom(+alpha);\n  };\n\n  return catmullRom;\n})(0.5);\n","import {CardinalOpen} from \"./cardinalOpen.js\";\nimport {point} from \"./catmullRom.js\";\n\nfunction CatmullRomOpen(context, alpha) {\n  this._context = context;\n  this._alpha = alpha;\n}\n\nCatmullRomOpen.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x0 = this._x1 = this._x2 =\n    this._y0 = this._y1 = this._y2 = NaN;\n    this._l01_a = this._l12_a = this._l23_a =\n    this._l01_2a = this._l12_2a = this._l23_2a =\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (this._line || (this._line !== 0 && this._point === 3)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n\n    if (this._point) {\n      var x23 = this._x2 - x,\n          y23 = this._y2 - y;\n      this._l23_a = Math.sqrt(this._l23_2a = Math.pow(x23 * x23 + y23 * y23, this._alpha));\n    }\n\n    switch (this._point) {\n      case 0: this._point = 1; break;\n      case 1: this._point = 2; break;\n      case 2: this._point = 3; this._line ? this._context.lineTo(this._x2, this._y2) : this._context.moveTo(this._x2, this._y2); break;\n      case 3: this._point = 4; // proceed\n      default: point(this, x, y); break;\n    }\n\n    this._l01_a = this._l12_a, this._l12_a = this._l23_a;\n    this._l01_2a = this._l12_2a, this._l12_2a = this._l23_2a;\n    this._x0 = this._x1, this._x1 = this._x2, this._x2 = x;\n    this._y0 = this._y1, this._y1 = this._y2, this._y2 = y;\n  }\n};\n\nexport default (function custom(alpha) {\n\n  function catmullRom(context) {\n    return alpha ? new CatmullRomOpen(context, alpha) : new CardinalOpen(context, 0);\n  }\n\n  catmullRom.alpha = function(alpha) {\n    return custom(+alpha);\n  };\n\n  return catmullRom;\n})(0.5);\n","import noop from \"../noop.js\";\n\nfunction LinearClosed(context) {\n  this._context = context;\n}\n\nLinearClosed.prototype = {\n  areaStart: noop,\n  areaEnd: noop,\n  lineStart: function() {\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (this._point) this._context.closePath();\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    if (this._point) this._context.lineTo(x, y);\n    else this._point = 1, this._context.moveTo(x, y);\n  }\n};\n\nexport default function(context) {\n  return new LinearClosed(context);\n}\n","function sign(x) {\n  return x < 0 ? -1 : 1;\n}\n\n// Calculate the slopes of the tangents (Hermite-type interpolation) based on\n// the following paper: Steffen, M. 1990. A Simple Method for Monotonic\n// Interpolation in One Dimension. Astronomy and Astrophysics, Vol. 239, NO.\n// NOV(II), P. 443, 1990.\nfunction slope3(that, x2, y2) {\n  var h0 = that._x1 - that._x0,\n      h1 = x2 - that._x1,\n      s0 = (that._y1 - that._y0) / (h0 || h1 < 0 && -0),\n      s1 = (y2 - that._y1) / (h1 || h0 < 0 && -0),\n      p = (s0 * h1 + s1 * h0) / (h0 + h1);\n  return (sign(s0) + sign(s1)) * Math.min(Math.abs(s0), Math.abs(s1), 0.5 * Math.abs(p)) || 0;\n}\n\n// Calculate a one-sided slope.\nfunction slope2(that, t) {\n  var h = that._x1 - that._x0;\n  return h ? (3 * (that._y1 - that._y0) / h - t) / 2 : t;\n}\n\n// According to https://en.wikipedia.org/wiki/Cubic_Hermite_spline#Representations\n// \"you can express cubic Hermite interpolation in terms of cubic Bézier curves\n// with respect to the four values p0, p0 + m0 / 3, p1 - m1 / 3, p1\".\nfunction point(that, t0, t1) {\n  var x0 = that._x0,\n      y0 = that._y0,\n      x1 = that._x1,\n      y1 = that._y1,\n      dx = (x1 - x0) / 3;\n  that._context.bezierCurveTo(x0 + dx, y0 + dx * t0, x1 - dx, y1 - dx * t1, x1, y1);\n}\n\nfunction MonotoneX(context) {\n  this._context = context;\n}\n\nMonotoneX.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x0 = this._x1 =\n    this._y0 = this._y1 =\n    this._t0 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    switch (this._point) {\n      case 2: this._context.lineTo(this._x1, this._y1); break;\n      case 3: point(this, this._t0, slope2(this, this._t0)); break;\n    }\n    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    var t1 = NaN;\n\n    x = +x, y = +y;\n    if (x === this._x1 && y === this._y1) return; // Ignore coincident points.\n    switch (this._point) {\n      case 0: this._point = 1; this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y); break;\n      case 1: this._point = 2; break;\n      case 2: this._point = 3; point(this, slope2(this, t1 = slope3(this, x, y)), t1); break;\n      default: point(this, this._t0, t1 = slope3(this, x, y)); break;\n    }\n\n    this._x0 = this._x1, this._x1 = x;\n    this._y0 = this._y1, this._y1 = y;\n    this._t0 = t1;\n  }\n}\n\nfunction MonotoneY(context) {\n  this._context = new ReflectContext(context);\n}\n\n(MonotoneY.prototype = Object.create(MonotoneX.prototype)).point = function(x, y) {\n  MonotoneX.prototype.point.call(this, y, x);\n};\n\nfunction ReflectContext(context) {\n  this._context = context;\n}\n\nReflectContext.prototype = {\n  moveTo: function(x, y) { this._context.moveTo(y, x); },\n  closePath: function() { this._context.closePath(); },\n  lineTo: function(x, y) { this._context.lineTo(y, x); },\n  bezierCurveTo: function(x1, y1, x2, y2, x, y) { this._context.bezierCurveTo(y1, x1, y2, x2, y, x); }\n};\n\nexport function monotoneX(context) {\n  return new MonotoneX(context);\n}\n\nexport function monotoneY(context) {\n  return new MonotoneY(context);\n}\n","function Natural(context) {\n  this._context = context;\n}\n\nNatural.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x = [];\n    this._y = [];\n  },\n  lineEnd: function() {\n    var x = this._x,\n        y = this._y,\n        n = x.length;\n\n    if (n) {\n      this._line ? this._context.lineTo(x[0], y[0]) : this._context.moveTo(x[0], y[0]);\n      if (n === 2) {\n        this._context.lineTo(x[1], y[1]);\n      } else {\n        var px = controlPoints(x),\n            py = controlPoints(y);\n        for (var i0 = 0, i1 = 1; i1 < n; ++i0, ++i1) {\n          this._context.bezierCurveTo(px[0][i0], py[0][i0], px[1][i0], py[1][i0], x[i1], y[i1]);\n        }\n      }\n    }\n\n    if (this._line || (this._line !== 0 && n === 1)) this._context.closePath();\n    this._line = 1 - this._line;\n    this._x = this._y = null;\n  },\n  point: function(x, y) {\n    this._x.push(+x);\n    this._y.push(+y);\n  }\n};\n\n// See https://www.particleincell.com/2012/bezier-splines/ for derivation.\nfunction controlPoints(x) {\n  var i,\n      n = x.length - 1,\n      m,\n      a = new Array(n),\n      b = new Array(n),\n      r = new Array(n);\n  a[0] = 0, b[0] = 2, r[0] = x[0] + 2 * x[1];\n  for (i = 1; i < n - 1; ++i) a[i] = 1, b[i] = 4, r[i] = 4 * x[i] + 2 * x[i + 1];\n  a[n - 1] = 2, b[n - 1] = 7, r[n - 1] = 8 * x[n - 1] + x[n];\n  for (i = 1; i < n; ++i) m = a[i] / b[i - 1], b[i] -= m, r[i] -= m * r[i - 1];\n  a[n - 1] = r[n - 1] / b[n - 1];\n  for (i = n - 2; i >= 0; --i) a[i] = (r[i] - a[i + 1]) / b[i];\n  b[n - 1] = (x[n] + a[n - 1]) / 2;\n  for (i = 0; i < n - 1; ++i) b[i] = 2 * x[i + 1] - a[i + 1];\n  return [a, b];\n}\n\nexport default function(context) {\n  return new Natural(context);\n}\n","function Step(context, t) {\n  this._context = context;\n  this._t = t;\n}\n\nStep.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x = this._y = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (0 < this._t && this._t < 1 && this._point === 2) this._context.lineTo(this._x, this._y);\n    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n    if (this._line >= 0) this._t = 1 - this._t, this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y); break;\n      case 1: this._point = 2; // proceed\n      default: {\n        if (this._t <= 0) {\n          this._context.lineTo(this._x, y);\n          this._context.lineTo(x, y);\n        } else {\n          var x1 = this._x * (1 - this._t) + x * this._t;\n          this._context.lineTo(x1, this._y);\n          this._context.lineTo(x1, y);\n        }\n        break;\n      }\n    }\n    this._x = x, this._y = y;\n  }\n};\n\nexport default function(context) {\n  return new Step(context, 0.5);\n}\n\nexport function stepBefore(context) {\n  return new Step(context, 0);\n}\n\nexport function stepAfter(context) {\n  return new Step(context, 1);\n}\n","import React from \"react\";\n//\n\nconst defaultStyle = {\n  strokeWidth: 2,\n  stroke: \"#6b6b6b\",\n  fill: \"transparent\",\n  opacity: 1\n};\n\nexport default function Path({ style, ...rest }) {\n  const resolvedStyle = {\n    ...defaultStyle,\n    ...style\n  };\n\n  return <path {...rest} style={resolvedStyle} />;\n}\n","import React from \"react\";\nimport { voronoi } from \"d3-voronoi\";\nimport { line, arc as makeArc } from \"d3-shape\";\n//\nimport ChartContext from \"../utils/ChartContext\";\nimport Path from \"../primitives/Path\";\n// import Utils from '../utils/Utils'\n\nconst lineFn = line();\n\nconst VoronoiElement = ({ children, ...rest }) => (\n  <g className=\"Voronoi\" {...rest}>\n    {children}\n  </g>\n);\n\nexport default function Voronoi() {\n  const [\n    {\n      // type,\n      stackData,\n      primaryAxes,\n      secondaryAxes,\n      showVoronoi,\n      width,\n      height,\n      gridWidth,\n      gridHeight\n    },\n    setChartState\n  ] = React.useContext(ChartContext);\n\n  const onHover = React.useCallback(\n    datum => {\n      return setChartState(state => ({\n        ...state,\n        focused: datum\n      }));\n    },\n    [setChartState]\n  );\n\n  return React.useMemo(\n    () => {\n      // Don't render until we have all dependencies\n      if (\n        !stackData ||\n        !primaryAxes.length ||\n        !secondaryAxes.length ||\n        !width ||\n        !height\n      ) {\n        return null;\n      }\n\n      const extent = [[0, 0], [gridWidth, gridHeight]];\n\n      // if (type === 'pie') {\n      //   const primaryAxis = primaryAxes[0]\n\n      //   return (\n      //     <VoronoiElement\n      //       style={{\n      //         transform: Utils.translate(primaryAxis.width /\n      //           2, primaryAxis.height / 2)\n      //       }}\n      //     >\n      //       {stackData.map(series => (\n      //         <React.Fragment key={series.index}>\n      //           {series.datums.map((datum, i) => {\n      //             const arc = makeArc()\n      //               .startAngle(datum.arcData.startAngle)\n      //               .endAngle(datum.arcData.endAngle)\n      //               .padAngle(0)\n      //               .padRadius(0)\n      //               .innerRadius(\n      //                 !series.index\n      //                   ? 0\n      //                   : datum.arcData.innerRadius -\n      //                       datum.arcData.seriesPaddingRadius / 2\n      //               )\n      //               .outerRadius(\n      //                 series.index === stackData.length - 1\n      //                   ? Math.max(primaryAxis.width, primaryAxis.height)\n      //                   : datum.arcData.outerRadius +\n      //                       datum.arcData.seriesPaddingRadius / 2\n      //               )\n      //               .cornerRadius(0)\n\n      //             return (\n      //               <Path\n      //                 key={i}\n      //                 d={arc()}\n      //                 className='action-voronoi'\n      //                 onMouseEnter={() => onHover([datum])}\n      //                 style={{\n      //                   fill: 'rgba(0,0,0,.2)',\n      //                   stroke: 'rgba(255,255,255,.5)',\n      //                   opacity: showVoronoi ? 1 : 0\n      //                 }}\n      //               />\n      //             )\n      //           })}\n      //         </React.Fragment>\n      //       ))}\n      //     </VoronoiElement>\n      //   )\n      // }\n\n      let vor;\n      let polygons = null;\n\n      const voronoiData = [];\n      stackData.forEach(series => {\n        series.datums\n          .filter(d => d.defined)\n          .forEach(datum => {\n            datum.boundingPoints.forEach(boundingPoint => {\n              if (\n                typeof datum.x !== \"number\" ||\n                typeof datum.y !== \"number\" ||\n                Number.isNaN(datum.y) ||\n                Number.isNaN(datum.x)\n              ) {\n                return;\n              }\n              voronoiData.push({\n                x: boundingPoint.x,\n                y: boundingPoint.y,\n                datum\n              });\n            });\n          });\n      });\n\n      vor = voronoi()\n        .x(d => d.x)\n        .y(d => d.y)\n        .extent(extent)(voronoiData);\n\n      polygons = vor.polygons();\n\n      return (\n        <VoronoiElement>\n          {polygons.map((points, i) => {\n            const path = lineFn(points);\n            return (\n              <Path\n                key={i}\n                d={path}\n                className=\"action-voronoi\"\n                onMouseEnter={e => onHover(points.data.datum)}\n                onMouseLeave={e => onHover(null)}\n                style={{\n                  fill: \"rgba(0,0,0,.2)\",\n                  stroke: \"rgba(255,255,255,.5)\",\n                  opacity: showVoronoi ? 1 : 0\n                }}\n              />\n            );\n          })}\n        </VoronoiElement>\n      );\n    },\n    [\n      gridHeight,\n      gridWidth,\n      height,\n      onHover,\n      primaryAxes.length,\n      secondaryAxes.length,\n      showVoronoi,\n      stackData,\n      width\n    ]\n  );\n}\n","import React from \"react\";\n//\n\nconst defaultStyle = {\n  strokeWidth: 1,\n  fill: \"transparent\",\n  opacity: 1\n};\n\nexport default class Line extends React.Component {\n  render() {\n    const { style, ...rest } = this.props;\n\n    const resolvedStyle = {\n      ...defaultStyle,\n      ...style\n    };\n\n    return <line {...rest} style={resolvedStyle} />;\n  }\n}\n","import React from \"react\";\n//\n\nconst defaultStyle = {\n  fontFamily: \"Helvetica\",\n  fontSize: 10,\n  opacity: 1\n};\n\nexport default function Text ({ style, opacity = 1, ...rest }) {\n  const resolvedStyle = {\n    ...defaultStyle,\n    ...style\n  };\n\n  return <text {...rest} style={resolvedStyle} />;\n}\n","import React from \"react\";\n\nexport default React.forwardRef(function Group(props, ref) {\n  return <g {...props} ref={ref} />;\n});\n","export const positionTop = \"top\";\nexport const positionRight = \"right\";\nexport const positionBottom = \"bottom\";\nexport const positionLeft = \"left\";\n\nexport const groupingSingle = \"single\";\nexport const groupingSeries = \"series\";\nexport const groupingPrimary = \"primary\";\nexport const groupingSecondary = \"secondary\";\n\nexport const alignAuto = \"auto\";\nexport const alignRight = \"right\";\nexport const alignTopRight = \"topRight\";\nexport const alignBottomRight = \"bottomRight\";\nexport const alignLeft = \"left\";\nexport const alignTopLeft = \"topLeft\";\nexport const alignBottomLeft = \"bottomLeft\";\nexport const alignTop = \"top\";\nexport const alignBottom = \"bottom\";\n\nexport const axisTypeOrdinal = \"ordinal\";\nexport const axisTypeTime = \"time\";\nexport const axisTypeUtc = \"utc\";\nexport const axisTypeLinear = \"linear\";\nexport const axisTypeLog = \"log\";\n\nexport const anchorPointer = \"pointer\";\nexport const anchorClosest = \"closest\";\nexport const anchorCenter = \"center\";\nexport const anchorTop = \"top\";\nexport const anchorBottom = \"bottom\";\nexport const anchorLeft = \"left\";\nexport const anchorRight = \"right\";\nexport const anchorGridTop = \"gridTop\";\nexport const anchorGridBottom = \"gridBottom\";\nexport const anchorGridLeft = \"gridLeft\";\nexport const anchorGridRight = \"gridRight\";\n\nexport const focusAuto = \"auto\";\nexport const focusClosest = \"closest\";\nexport const focusElement = \"element\";\n","import React from \"react\";\n//\nimport ChartContext from \"../utils/ChartContext\";\nimport Utils from \"../utils/Utils\";\n\nimport usePrevious from \"../hooks/usePrevious\";\n\nimport Path from \"../primitives/Path\";\nimport Line from \"../primitives/Line\";\nimport Text from \"../primitives/Text\";\nimport Group from \"../primitives/Group\";\n\nimport {\n  positionTop,\n  positionRight,\n  positionBottom,\n  positionLeft,\n  axisTypeOrdinal\n} from \"../utils/Constants.js\";\n\nconst defaultStyles = {\n  line: {\n    strokeWidth: \"1\",\n    fill: \"transparent\"\n  },\n  tick: {\n    fontSize: 10,\n    fontFamily: \"sans-serif\"\n  }\n};\n\nconst radiansToDegrees = r => r * (180 / Math.PI);\n\nexport default function AxisLinear({\n  id,\n  type,\n  position,\n  tickSizeInner,\n  tickSizeOuter,\n  show,\n  showGrid,\n  showTicks,\n  styles,\n  maxLabelRotation,\n  labelRotationStep,\n  tickPadding,\n  ticks,\n  tickCount,\n  minTickCount,\n  maxTickCount,\n  scale,\n  max: scaleMax,\n  transform,\n  vertical,\n  format,\n  range: [range0, range1],\n  directionMultiplier,\n  tickOffset,\n  gridOffset,\n  spacing\n}) {\n  const [rotation, setRotation] = React.useState(0);\n  const [\n    { gridWidth, gridHeight, dark, axisDimensions },\n    setChartState\n  ] = React.useContext(ChartContext);\n\n  const elRef = React.useRef();\n  const visibleLabelStepRef = React.useRef();\n\n  const measureDimensions = React.useCallback(\n    () => {\n      if (!elRef.current) {\n        if (axisDimensions[position] && axisDimensions[position][id]) {\n          // If the entire axis is hidden, then we need to remove the axis dimensions\n          setChartState(state => {\n            const newAxes = state.axisDimensions[position] || {};\n            delete newAxes[id];\n            return {\n              ...state,\n              axisDimensions: {\n                ...state.axisDimensions,\n                [position]: newAxes\n              }\n            };\n          });\n        }\n        return;\n      }\n\n      const labelDims = Array(\n        ...elRef.current.querySelectorAll(\".tickLabel\")\n      ).map(el => {\n        const rect = el.getBoundingClientRect();\n        return {\n          width: rect.width,\n          height: rect.height\n        };\n      });\n\n      let tickSpace = !vertical ? gridWidth : gridHeight;\n      let calculatedTickCount = tickCount;\n      let width = 0;\n      let height = 0;\n      let top = 0;\n      let bottom = 0;\n      let left = 0;\n      let right = 0;\n\n      let smallestTickGap = 100000; // This is just a ridiculously large tick spacing that would never happen (hopefully)\n\n      // First find the dimensions of each tick\n      const tickDims = Array(...elRef.current.querySelectorAll(\".tick\")).map(\n        el => el.getBoundingClientRect()\n      );\n\n      // Then, determine the smallest gap in ticks on the axis\n      tickDims.reduce((prev, current) => {\n        if (prev) {\n          const gap = vertical\n            ? current.top - prev.top\n            : current.left - prev.left;\n          smallestTickGap = gap < smallestTickGap ? gap : smallestTickGap;\n        }\n        return current;\n      }, false);\n\n      const firstLabelDim = labelDims[0] || { width: 0, height: 0 };\n      const lastLabelDim = labelDims[labelDims.length - 1] || {\n        width: 0,\n        height: 0\n      };\n\n      // Then determine the largest label\n      let largestLabel = { ...firstLabelDim, _overflow: 0 };\n\n      // Determine the largest label on the axis\n      labelDims.forEach(labelDim => {\n        labelDim._overflow = !vertical\n          ? labelDim.width\n          : labelDim.height - smallestTickGap;\n        if (\n          labelDim._overflow > 0 &&\n          labelDim._overflow > largestLabel._overflow\n        ) {\n          largestLabel = labelDim;\n        }\n      });\n\n      const largestLabelSize = !vertical\n        ? largestLabel.width\n        : largestLabel.height;\n\n      // We need to detect auto tick mode\n      if ((vertical || type !== \"ordinal\") && tickCount === \"auto\") {\n        // if it's on, determine how many ticks we could display if they were all flat\n        // How many ticks can we fit in the available axis space?\n        calculatedTickCount = Math.max(\n          minTickCount,\n          Math.min(\n            Math.floor(\n              (tickSpace + largestLabelSize - tickPadding) /\n                (largestLabelSize + tickPadding * 2)\n            ),\n            maxTickCount\n          )\n        );\n      } else if (!vertical) {\n        // Otherwise, if it's horizontal, then we need to determine axis rotation\n        // This is the raw mathematical rotation, using acosign and radians\n        // (some tricky stuff I found on some geomoetry forum. Can't remember where though)\n        let newRotation = Math.min(\n          Math.max(\n            Math.abs(\n              radiansToDegrees(\n                Math.acos(smallestTickGap / (largestLabel.width + tickPadding))\n              )\n            ),\n            0\n          ),\n          maxLabelRotation\n        );\n\n        // Make sure the rotation isn't NaN\n        newRotation = Number.isNaN(newRotation) ? 0 : newRotation;\n\n        // Round the rotation to the nearest rotationStep\n        newRotation = Math.ceil(\n          Math.ceil(newRotation / labelRotationStep) * labelRotationStep\n        );\n\n        if (\n          newRotation === 0 ||\n          newRotation === maxLabelRotation ||\n          Math.abs(newRotation) - Math.abs(rotation) > 5\n        ) {\n          setRotation(() => (position === \"top\" ? -newRotation : newRotation));\n        }\n      }\n\n      const newVisibleLabelStep = Math.ceil(tickPadding / smallestTickGap);\n\n      if (visibleLabelStepRef.current !== newVisibleLabelStep) {\n        visibleLabelStepRef.current = newVisibleLabelStep;\n      }\n\n      if (!vertical) {\n        // Add width overflow from the first and last ticks\n        // const leftWidth = firstLabelDim.width\n        // const rightWidth = lastLabelDim.width\n        // if (rotation) {\n        //   right = tickPadding\n        //   left = Math.abs(Math.ceil(Math.cos(rotation) * leftWidth)) - barSize / 2\n        // } else {\n        //   left = Math.ceil(leftWidth / 2)\n        //   right = Math.ceil(rightWidth / 2)\n        // }\n        height =\n          Math.max(tickSizeInner, tickSizeOuter) + // Add tick size\n          tickPadding + // Add tick padding\n          // Add the height of the largest label\n          Math.max(...labelDims.map(d => Math.ceil(d.height)));\n      } else {\n        // Add height overflow from the first and last ticks\n        top = Math.ceil(firstLabelDim.height / 2);\n        bottom = Math.ceil(lastLabelDim.height / 2);\n        width =\n          Math.max(tickSizeInner, tickSizeOuter) + // Add tick size\n          tickPadding + // Add tick padding\n          // Add the width of the largest label\n          Math.max(...labelDims.map(d => Math.ceil(d.width)));\n      }\n\n      const newDimensions = {\n        width,\n        height,\n        top,\n        bottom,\n        left,\n        right,\n        tickCount: calculatedTickCount\n      };\n\n      // Only update the axisDimensions if something has changed\n      if (\n        !axisDimensions ||\n        !axisDimensions[position] ||\n        !axisDimensions[position][id] ||\n        Object.keys(newDimensions).some(key => {\n          return newDimensions[key] !== axisDimensions[position][id][key];\n        })\n      ) {\n        setChartState(state => ({\n          ...state,\n          axisDimensions: {\n            ...state.axisDimensions,\n            [position]: {\n              ...(state.axisDimensions[position] || {}),\n              [id]: newDimensions\n            }\n          }\n        }));\n      }\n    },\n    [\n      axisDimensions,\n      gridHeight,\n      gridWidth,\n      id,\n      labelRotationStep,\n      maxLabelRotation,\n      maxTickCount,\n      minTickCount,\n      position,\n      rotation,\n      setChartState,\n      tickCount,\n      tickPadding,\n      tickSizeInner,\n      tickSizeOuter,\n      type,\n      vertical\n    ]\n  );\n\n  const previousRotation = usePrevious(rotation);\n\n  // Measure after if needed\n  React.useLayoutEffect(\n    () => {\n      if (previousRotation === rotation) {\n        measureDimensions();\n      }\n    },\n    [\n      axisDimensions,\n      id,\n      measureDimensions,\n      position,\n      previousRotation,\n      rotation\n    ]\n  );\n\n  // Measure after if needed\n  React.useEffect(\n    () => {\n      if (previousRotation !== rotation) {\n        measureDimensions();\n      }\n    },\n    [\n      axisDimensions,\n      id,\n      measureDimensions,\n      position,\n      previousRotation,\n      rotation\n    ]\n  );\n\n  return React.useMemo(\n    () => {\n      // Not ready? Render null\n      if (!show) {\n        return null;\n      }\n\n      let axisPath;\n      if (vertical) {\n        if (position === positionLeft) {\n          axisPath = `\n        M ${-tickSizeOuter}, ${range0}\n        H 0\n        V ${range1}\n        H ${-tickSizeOuter}\n      `;\n        } else {\n          axisPath = `\n        M ${tickSizeOuter}, ${range0}\n        H 0\n        V ${range1}\n        H ${tickSizeOuter}\n      `;\n        }\n      } else if (position === positionBottom) {\n        axisPath = `\n        M 0, ${tickSizeOuter}\n        V 0\n        H ${range1}\n        V ${tickSizeOuter}\n      `;\n      } else {\n        axisPath = `\n        M 0, ${-tickSizeOuter}\n        V 0\n        H ${range1}\n        V ${-tickSizeOuter}\n              `;\n      }\n\n      let showGridLine;\n      if (typeof showGrid === \"boolean\") {\n        showGridLine = showGrid;\n      } else if (type === axisTypeOrdinal) {\n        showGridLine = false;\n      } else {\n        showGridLine = true;\n      }\n\n      // Combine default styles with style props\n      const axisStyles = {\n        ...defaultStyles,\n        ...styles\n      };\n\n      return (\n        <Group\n          ref={elRef}\n          className=\"Axis\"\n          style={{\n            pointerEvents: \"none\",\n            transform:\n              position === positionRight\n                ? Utils.translateX(gridWidth)\n                : position === positionBottom\n                ? Utils.translateY(gridHeight)\n                : undefined\n          }}\n        >\n          <Path\n            className=\"domain\"\n            d={axisPath}\n            style={{\n              stroke: dark ? \"rgba(255,255,255, .1)\" : \"rgba(0,0,0, .1)\",\n              ...axisStyles.line\n            }}\n          />\n          <Group className=\"ticks\" style={{}}>\n            {ticks.map((tick, i) => (\n              <Group\n                key={[String(tick), i].join(\"_\")}\n                className=\"tick\"\n                style={{\n                  transform: transform(scale(tick) || 0)\n                }}\n              >\n                {/* Render the grid line */}\n                {showGridLine && (\n                  <Line\n                    className=\"gridLine\"\n                    x1={vertical ? 0 : gridOffset}\n                    x2={vertical ? scaleMax : gridOffset}\n                    y1={vertical ? gridOffset : 0}\n                    y2={vertical ? gridOffset : scaleMax}\n                    style={{\n                      stroke: dark\n                        ? \"rgba(255,255,255, .1)\"\n                        : \"rgba(0,0,0, .1)\",\n                      strokeWidth: 1,\n                      ...axisStyles.line\n                    }}\n                  />\n                )}\n                {/* Render the tick line  */}\n                {showTicks ? (\n                  <g className=\"labelGroup\">\n                    <Line\n                      className=\"tickline\"\n                      x1={vertical ? 0 : tickOffset}\n                      x2={\n                        vertical\n                          ? directionMultiplier * tickSizeInner\n                          : tickOffset\n                      }\n                      y1={vertical ? tickOffset : 0}\n                      y2={\n                        vertical\n                          ? tickOffset\n                          : directionMultiplier * tickSizeInner\n                      }\n                      style={{\n                        stroke: dark\n                          ? \"rgba(255,255,255, .1)\"\n                          : \"rgba(0,0,0, .1)\",\n                        strokeWidth: 1,\n                        ...axisStyles.line\n                      }}\n                    />\n                    <Text\n                      className=\"tickLabel\"\n                      style={{\n                        fill: dark ? \"white\" : \"black\",\n                        ...axisStyles.tick,\n                        transform: `${Utils.translate(\n                          vertical ? directionMultiplier * spacing : tickOffset,\n                          vertical ? tickOffset : directionMultiplier * spacing\n                        )} rotate(${-rotation}deg)`\n                      }}\n                      dominantBaseline={\n                        rotation\n                          ? \"central\"\n                          : position === positionBottom\n                          ? \"hanging\"\n                          : position === positionTop\n                          ? \"alphabetic\"\n                          : \"central\"\n                      }\n                      textAnchor={\n                        rotation\n                          ? \"end\"\n                          : position === positionRight\n                          ? \"start\"\n                          : position === positionLeft\n                          ? \"end\"\n                          : \"middle\"\n                      }\n                    >\n                      {format(tick, i)}\n                    </Text>\n                  </g>\n                ) : null}\n              </Group>\n            ))}\n          </Group>\n        </Group>\n      );\n    },\n    [dark, directionMultiplier, format, gridHeight, gridOffset, gridWidth, position, range0, range1, rotation, scale, scaleMax, show, showGrid, showTicks, spacing, styles, tickOffset, tickSizeInner, tickSizeOuter, ticks, transform, type, vertical]\n  );\n}\n","import React from \"react\";\n//\n// import AxisPie from './AxisPie'\nimport AxisLinear from \"./AxisLinear\";\n\nexport default class Axis extends React.Component {\n  render() {\n    const { type } = this.props;\n\n    // if (type === 'pie') {\n    //   return <AxisPie {...this.props} />\n    // }\n\n    return <AxisLinear {...this.props} />;\n  }\n}\n","import React from \"react\";\n//\nimport ChartContext from \"../utils/ChartContext\";\nimport Utils from \"../utils/Utils\";\n//\n\nconst triangleSize = 7;\n\nconst getBackgroundColor = dark =>\n  dark ? \"rgba(255,255,255,.9)\" : \"rgba(0, 26, 39, 0.9)\";\n\nexport default function Tooltip() {\n  const [chartState] = React.useContext(ChartContext);\n\n  const {\n    primaryAxes,\n    secondaryAxes,\n    gridX,\n    gridY,\n    gridWidth,\n    gridHeight,\n    dark,\n    focused,\n    latestFocused,\n    getDatumStyle,\n    tooltip\n  } = chartState;\n\n  const elRef = React.useRef();\n  const tooltipElRef = React.useRef();\n  const previousShowRef = React.useRef();\n\n  const {\n    align,\n    alignPriority,\n    padding,\n    tooltipArrowPadding,\n    //\n    arrowPosition,\n    render,\n    anchor,\n    show\n  } = tooltip || {};\n\n  const [finalAlign, setFinalAlign] = React.useState(align || \"auto\");\n\n  React.useEffect(\n    () => {\n      previousShowRef.current = show;\n    },\n    [show]\n  );\n\n  React.useLayoutEffect(\n    () => {\n      if (align !== \"auto\" || !elRef.current || !show || !anchor) {\n        return;\n      }\n\n      const space = {\n        left: Infinity,\n        top: Infinity,\n        right: Infinity,\n        bottom: Infinity\n      };\n\n      let container = elRef.current;\n      const gridDims = container.getBoundingClientRect();\n      const tooltipDims = tooltipElRef.current.getBoundingClientRect();\n\n      while (container !== document.body) {\n        container = container.parentElement;\n        const { overflowX, overflowY } = window.getComputedStyle(container);\n        if (\n          container === document.body ||\n          [overflowX, overflowY].find(d => [\"auto\", \"hidden\"].includes(d))\n        ) {\n          const containerDims = container.getBoundingClientRect();\n          const left = gridDims.left - containerDims.left + anchor.x;\n          const top = gridDims.top - containerDims.top + anchor.y;\n          const right = containerDims.width - left;\n          const bottom = containerDims.height - top;\n\n          space.left = Math.min(space.left, left);\n          space.top = Math.min(space.top, top);\n          space.right = Math.min(space.right, right);\n          space.bottom = Math.min(space.bottom, bottom);\n        }\n      }\n\n      let resolvedAlign = null;\n\n      alignPriority.forEach(priority => {\n        if (resolvedAlign) {\n          return;\n        }\n        const fits = {\n          left:\n            space.left -\n              tooltipArrowPadding -\n              padding -\n              anchor.horizontalPadding >\n            tooltipDims.width,\n          right:\n            space.right -\n              tooltipArrowPadding -\n              padding -\n              anchor.horizontalPadding >\n            tooltipDims.width,\n          top:\n            space.top - tooltipArrowPadding - padding - anchor.verticalPadding >\n              tooltipDims.height && space.left > tooltipDims.width / 2,\n          bottom:\n            space.bottom -\n              tooltipArrowPadding -\n              padding -\n              anchor.verticalPadding >\n            tooltipDims.height,\n          centeredFromLeft: space.left > tooltipDims.width / 2,\n          centeredFromRight: space.right > tooltipDims.width / 2,\n          centeredFromTop: space.top > tooltipDims.height / 2,\n          centeredFromBottom: space.bottom > tooltipDims.height / 2\n        };\n        if (priority === \"left\") {\n          if (fits.left && fits.centeredFromTop && fits.centeredFromBottom) {\n            resolvedAlign = priority;\n          }\n        } else if (priority === \"right\") {\n          if (fits.right && fits.centeredFromTop && fits.centeredFromBottom) {\n            resolvedAlign = priority;\n          }\n        } else if (priority === \"top\") {\n          if (fits.top && fits.centeredFromLeft && fits.centeredFromRight) {\n            resolvedAlign = priority;\n          }\n        } else if (priority === \"bottom\") {\n          if (fits.bottom && fits.centeredFromLeft && fits.centeredFromRight) {\n            resolvedAlign = priority;\n          }\n        } else if (priority === \"topLeft\") {\n          if (fits.top && fits.left) {\n            resolvedAlign = priority;\n          }\n        } else if (priority === \"topRight\") {\n          if (fits.top && fits.right) {\n            resolvedAlign = priority;\n          }\n        } else if (priority === \"bottomLeft\") {\n          if (fits.bottom && fits.left) {\n            resolvedAlign = priority;\n          }\n        } else if (priority === \"bottomRight\") {\n          if (fits.bottom && fits.right) {\n            resolvedAlign = priority;\n          }\n        }\n      });\n\n      if (resolvedAlign !== finalAlign) {\n        setFinalAlign(resolvedAlign);\n      }\n    },\n    [\n      align,\n      alignPriority,\n      anchor,\n      finalAlign,\n      padding,\n      show,\n      tooltipArrowPadding\n    ]\n  );\n\n  if (!tooltip) {\n    return null;\n  }\n\n  const resolvedFocused = focused || latestFocused;\n\n  let alignX = 0;\n  let alignY = -50;\n  let triangleStyles = {};\n\n  const backgroundColor = getBackgroundColor(dark);\n\n  let resolvedArrowPosition = arrowPosition;\n\n  if (finalAlign === \"top\") {\n    alignX = -50;\n    alignY = -100;\n  } else if (finalAlign === \"topRight\") {\n    alignX = 0;\n    alignY = -100;\n  } else if (finalAlign === \"right\") {\n    alignX = 0;\n    alignY = -50;\n  } else if (finalAlign === \"bottomRight\") {\n    alignX = 0;\n    alignY = 0;\n  } else if (finalAlign === \"bottom\") {\n    alignX = -50;\n    alignY = 0;\n  } else if (finalAlign === \"bottomLeft\") {\n    alignX = -100;\n    alignY = 0;\n  } else if (finalAlign === \"left\") {\n    alignX = -100;\n    alignY = -50;\n  } else if (finalAlign === \"topLeft\") {\n    alignX = -100;\n    alignY = -100;\n  } else if (finalAlign === \"center\") {\n    alignX = -50;\n    alignY = -50;\n  }\n\n  if (!resolvedArrowPosition) {\n    if (finalAlign === \"left\") {\n      resolvedArrowPosition = \"right\";\n    } else if (finalAlign === \"right\") {\n      resolvedArrowPosition = \"left\";\n    } else if (finalAlign === \"top\") {\n      resolvedArrowPosition = \"bottom\";\n    } else if (finalAlign === \"bottom\") {\n      resolvedArrowPosition = \"top\";\n    } else if (finalAlign === \"topRight\") {\n      resolvedArrowPosition = \"bottomLeft\";\n    } else if (finalAlign === \"bottomRight\") {\n      resolvedArrowPosition = \"topLeft\";\n    } else if (finalAlign === \"topLeft\") {\n      resolvedArrowPosition = \"bottomRight\";\n    } else if (finalAlign === \"bottomLeft\") {\n      resolvedArrowPosition = \"topRight\";\n    }\n  }\n\n  if (resolvedArrowPosition === \"bottom\") {\n    triangleStyles = {\n      top: \"100%\",\n      left: \"50%\",\n      transform: \"translate3d(-50%, 0%, 0)\",\n      borderLeft: `${triangleSize * 0.8}px solid transparent`,\n      borderRight: `${triangleSize * 0.8}px solid transparent`,\n      borderTop: `${triangleSize}px solid ${backgroundColor}`\n    };\n  } else if (resolvedArrowPosition === \"top\") {\n    triangleStyles = {\n      top: \"0%\",\n      left: \"50%\",\n      transform: \"translate3d(-50%, -100%, 0)\",\n      borderLeft: `${triangleSize * 0.8}px solid transparent`,\n      borderRight: `${triangleSize * 0.8}px solid transparent`,\n      borderBottom: `${triangleSize}px solid ${backgroundColor}`\n    };\n  } else if (resolvedArrowPosition === \"right\") {\n    triangleStyles = {\n      top: \"50%\",\n      left: \"100%\",\n      transform: \"translate3d(0%, -50%, 0)\",\n      borderTop: `${triangleSize * 0.8}px solid transparent`,\n      borderBottom: `${triangleSize * 0.8}px solid transparent`,\n      borderLeft: `${triangleSize}px solid ${backgroundColor}`\n    };\n  } else if (resolvedArrowPosition === \"left\") {\n    triangleStyles = {\n      top: \"50%\",\n      left: \"0%\",\n      transform: \"translate3d(-100%, -50%, 0)\",\n      borderTop: `${triangleSize * 0.8}px solid transparent`,\n      borderBottom: `${triangleSize * 0.8}px solid transparent`,\n      borderRight: `${triangleSize}px solid ${backgroundColor}`\n    };\n  } else if (resolvedArrowPosition === \"topRight\") {\n    triangleStyles = {\n      top: \"0%\",\n      left: \"100%\",\n      transform: \"translate3d(-50%, -50%, 0) rotate(-45deg)\",\n      borderTop: `${triangleSize * 0.8}px solid transparent`,\n      borderBottom: `${triangleSize * 0.8}px solid transparent`,\n      borderLeft: `${triangleSize * 2}px solid ${backgroundColor}`\n    };\n  } else if (resolvedArrowPosition === \"bottomRight\") {\n    triangleStyles = {\n      top: \"100%\",\n      left: \"100%\",\n      transform: \"translate3d(-50%, -50%, 0) rotate(45deg)\",\n      borderTop: `${triangleSize * 0.8}px solid transparent`,\n      borderBottom: `${triangleSize * 0.8}px solid transparent`,\n      borderLeft: `${triangleSize * 2}px solid ${backgroundColor}`\n    };\n  } else if (resolvedArrowPosition === \"topLeft\") {\n    triangleStyles = {\n      top: \"0%\",\n      left: \"0%\",\n      transform: \"translate3d(-50%, -50%, 0) rotate(45deg)\",\n      borderTop: `${triangleSize * 0.8}px solid transparent`,\n      borderBottom: `${triangleSize * 0.8}px solid transparent`,\n      borderRight: `${triangleSize * 2}px solid ${backgroundColor}`\n    };\n  } else if (resolvedArrowPosition === \"bottomLeft\") {\n    triangleStyles = {\n      top: \"100%\",\n      left: \"0%\",\n      transform: \"translate3d(-50%, -50%, 0) rotate(-45deg)\",\n      borderTop: `${triangleSize * 0.8}px solid transparent`,\n      borderBottom: `${triangleSize * 0.8}px solid transparent`,\n      borderRight: `${triangleSize * 2}px solid ${backgroundColor}`\n    };\n  } else {\n    triangleStyles = {\n      opacity: 0\n    };\n  }\n\n  const primaryAxis = Utils.getAxisByAxisID(\n    primaryAxes,\n    resolvedFocused ? resolvedFocused.series.primaryAxisID : null\n  );\n  const secondaryAxis = Utils.getAxisByAxisID(\n    secondaryAxes,\n    resolvedFocused ? resolvedFocused.series.secondaryAxisID : null\n  );\n\n  const resolvedHorizontalPadding = padding + anchor.horizontalPadding;\n  const resolvedVerticalPadding = padding + anchor.verticalPadding;\n\n  const renderProps = {\n    ...chartState,\n    ...chartState.tooltip,\n    datum: resolvedFocused,\n    getStyle: datum => datum.getStatusStyle(resolvedFocused, getDatumStyle),\n    primaryAxis,\n    secondaryAxis\n  };\n\n  const renderedChildren = React.createElement(render, renderProps);\n\n  let animateCoords;\n  if (previousShowRef.current === show) {\n    animateCoords = true;\n  }\n\n  return (\n    <div\n      className=\"tooltip-wrap\"\n      style={{\n        pointerEvents: \"none\",\n        position: \"absolute\",\n        left: `${gridX}px`,\n        top: `${gridY}px`,\n        width: `${gridWidth}px`,\n        height: `${gridHeight}px`,\n        opacity: show ? 1 : 0,\n        transition: \"all .3s ease\"\n      }}\n      ref={el => {\n        elRef.current = el;\n      }}\n    >\n      <div\n        style={{\n          position: \"absolute\",\n          left: 0,\n          top: 0,\n          transform: Utils.translate(anchor.x, anchor.y),\n          transition: animateCoords ? \"all .2s ease\" : \"opacity .2s ease\"\n        }}\n      >\n        <div\n          style={{\n            transform: `translate3d(${alignX}%, ${alignY}%, 0)`,\n            padding: `${tooltipArrowPadding +\n              resolvedVerticalPadding}px ${tooltipArrowPadding +\n              resolvedHorizontalPadding}px`,\n            width: \"auto\",\n            transition: \"all .2s ease\"\n          }}\n        >\n          <div\n            ref={el => {\n              tooltipElRef.current = el;\n            }}\n            style={{\n              fontSize: \"12px\",\n              padding: \"5px\",\n              background: getBackgroundColor(dark),\n              color: dark ? \"black\" : \"white\",\n              borderRadius: \"3px\",\n              position: \"relative\"\n            }}\n          >\n            <div\n              style={{\n                position: \"absolute\",\n                width: 0,\n                height: 0,\n                ...triangleStyles,\n                transition: animateCoords ? \"all .2s ease\" : \"none\"\n              }}\n            />\n            {renderedChildren}\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n","import React from \"react\";\n//\nimport ChartContext from \"../utils/ChartContext\";\nimport Utils from \"../utils/Utils\";\n\nimport useLatest from \"../hooks/useLatest\";\n\nconst getLineBackgroundColor = dark =>\n  dark ? \"rgba(255,255,255,.3)\" : \"rgba(0, 26, 39, 0.3)\";\n\nconst getBackgroundColor = dark =>\n  dark ? \"rgba(255,255,255,.9)\" : \"rgba(0, 26, 39, 0.9)\";\n\nexport default function Cursor({ primary }) {\n  const [\n    {\n      primaryCursor,\n      secondaryCursor,\n      focused,\n      latestFocused,\n      gridX,\n      gridY,\n      dark\n    }\n  ] = React.useContext(ChartContext);\n\n  const resolvedFocused = focused || latestFocused;\n  const cursor = primary ? primaryCursor : secondaryCursor;\n\n  const {\n    showLine,\n    showLabel,\n    resolvedValue,\n    snap,\n    render,\n    axis,\n    siblingAxis,\n    resolvedShow\n  } = cursor || {};\n\n  const latestValue = useLatest(\n    resolvedValue,\n    typeof resolvedValue !== \"undefined\"\n  );\n\n  const previousShowRef = React.useRef();\n  React.useEffect(\n    () => {\n      previousShowRef.current = resolvedShow;\n    },\n    [resolvedShow]\n  );\n\n  if (!cursor) {\n    return null;\n  }\n\n  // Should we animate?\n  const animated = snap || axis.type === \"ordinal\";\n\n  // Get the sibling range\n  const siblingRange = siblingAxis.scale.range();\n\n  let x;\n  let y;\n  let x1;\n  let x2;\n  let y1;\n  let y2;\n  let alignPctX;\n  let alignPctY;\n\n  // Vertical alignment\n  if (axis.vertical) {\n    y = axis.scale(latestValue);\n    x1 = siblingRange[0];\n    x2 = siblingRange[1];\n    y1 = y - 1;\n    y2 = y + axis.cursorSize + 1;\n    if (axis.position === \"left\") {\n      alignPctX = -100;\n      alignPctY = -50;\n    } else {\n      alignPctX = 0;\n      alignPctY = -50;\n    }\n  } else {\n    x = axis.scale(latestValue);\n    x1 = x - 1;\n    x2 = x + axis.cursorSize + 1;\n    y1 = siblingRange[0];\n    y2 = siblingRange[1];\n    if (axis.position === \"top\") {\n      alignPctX = -500;\n      alignPctY = -100;\n    } else {\n      alignPctX = -50;\n      alignPctY = 0;\n    }\n  }\n\n  const renderProps = { ...cursor };\n\n  renderProps.formattedValue = String(\n    axis.vertical\n      ? typeof latestValue !== \"undefined\"\n        ? axis.format(\n            axis.stacked && !primary && resolvedFocused\n              ? resolvedFocused.totalValue\n              : latestValue\n          )\n        : \"\"\n      : typeof latestValue !== \"undefined\"\n      ? axis.format(\n          axis.stacked && !primary && resolvedFocused\n            ? resolvedFocused.totalValue\n            : latestValue\n        )\n      : \"\"\n  );\n\n  const lineStartX = Math.min(x1, x2);\n  const lineStartY = Math.min(y1, y2);\n  const lineEndX = Math.max(x1, x2);\n  const lineEndY = Math.max(y1, y2);\n  const bubbleX =\n    axis.vertical && axis.RTL\n      ? lineEndX\n      : x1 + (!axis.vertical ? (x2 - x1) / 2 : 0) + (!axis.vertical ? 1 : 0);\n  const bubbleY =\n    !axis.vertical && axis.RTL\n      ? lineStartY\n      : y1 + (axis.vertical ? (y2 - y1) / 2 : 0) + (axis.vertical ? 1 : 0);\n\n  const lineHeight = Math.max(lineEndY - lineStartY, 0);\n  const lineWidth = Math.max(lineEndX - lineStartX, 0);\n\n  let animateCoords;\n  if (previousShowRef.current === resolvedShow) {\n    animateCoords = true;\n  }\n\n  let renderedChildren = render(renderProps);\n\n  return (\n    <div\n      style={{\n        pointerEvents: \"none\",\n        position: \"absolute\",\n        top: 0,\n        left: 0,\n        transform: Utils.translate(gridX, gridY),\n        opacity: resolvedShow ? 1 : 0,\n        transition: \"all .3s ease\"\n      }}\n      className=\"Cursor\"\n    >\n      {/* Render the cursor line */}\n      {showLine ? (\n        <div\n          style={{\n            position: \"absolute\",\n            top: 0,\n            left: 0,\n            transform: Utils.translate(lineStartX, lineStartY),\n            width: `${lineWidth}px`,\n            height: `${lineHeight}px`,\n            background: getLineBackgroundColor(dark),\n            transition:\n              animated && animateCoords ? \"all .2s ease\" : \"opacity .2s ease\"\n          }}\n        />\n      ) : null}\n      {/* Render the cursor bubble */}\n      {showLabel ? (\n        <div\n          style={{\n            position: \"absolute\",\n            top: 0,\n            left: 0,\n            transform: Utils.translate(bubbleX, bubbleY),\n            transition:\n              animated && animateCoords ? \"all .2s ease\" : \"opacity .2s ease\"\n          }}\n        >\n          {/* Render the cursor label */}\n          <div\n            style={{\n              padding: \"5px\",\n              fontSize: \"10px\",\n              background: getBackgroundColor(dark),\n              color: getBackgroundColor(!dark),\n              borderRadius: \"3px\",\n              position: \"relative\",\n              transform: `translate3d(${alignPctX}%, ${alignPctY}%, 0)`,\n              whiteSpace: \"nowrap\"\n            }}\n          >\n            {renderedChildren}\n          </div>\n        </div>\n      ) : null}\n    </div>\n  );\n}\n","import React from \"react\";\nimport Utils from \"../utils/Utils\";\n//\nimport ChartContext from \"../utils/ChartContext\";\n\nexport default function Brush() {\n  const [{ pointer, brush, gridX, gridY, gridHeight, dark }] = React.useContext(\n    ChartContext\n  );\n\n  if (!brush) {\n    return null;\n  }\n\n  return (\n    <div\n      className=\"Brush\"\n      style={{\n        pointerEvents: \"none\",\n        position: \"absolute\",\n        left: 0,\n        top: 0,\n        transform: Utils.translate(gridX, gridY),\n        opacity: pointer.dragging\n          ? Math.abs(pointer.sourceX - pointer.x) < 20\n            ? 0.5\n            : 1\n          : 0\n      }}\n    >\n      <div\n        style={{\n          position: \"absolute\",\n          transform: Utils.translate(Math.min(pointer.x, pointer.sourceX), 0),\n          width: `${Math.abs(pointer.x - pointer.sourceX)}px`,\n          height: `${gridHeight}px`,\n          background: dark ? \"rgba(255,255,255,.3)\" : \"rgba(0, 26, 39, 0.3)\",\n          ...brush.style\n        }}\n      />\n    </div>\n  );\n}\n\nBrush.defaultProps = {\n  onSelect: () => {}\n};\n","import React from \"react\";\nimport RAF from \"raf\";\n//\nimport Utils from \"../utils/Utils\";\nimport ChartContext from \"../utils/ChartContext\";\n\nimport Rectangle from \"../primitives/Rectangle\";\n\nimport Voronoi from \"./Voronoi\";\nimport Axis from \"./Axis\";\nimport Tooltip from \"./Tooltip\";\nimport Cursor from \"./Cursor\";\nimport Brush from \"./Brush\";\n\nexport default React.forwardRef(function ChartInner(\n  { className, style = {}, ...rest },\n  ref\n) {\n  const [chartState] = React.useContext(ChartContext);\n  const [\n    {\n      width,\n      height,\n      offset,\n      gridX,\n      gridY,\n      stackData,\n      primaryAxes,\n      secondaryAxes,\n      renderSVG,\n      onClick,\n      seriesOptions,\n      getSeriesOrder,\n      focused\n    },\n    setChartState\n  ] = React.useContext(ChartContext);\n\n  const svgRef = React.useRef();\n\n  React.useLayoutEffect(() => {\n    if (!svgRef.current) {\n      return;\n    }\n    const current = svgRef.current.getBoundingClientRect();\n    if (current.left !== offset.left || current.top !== offset.top) {\n      setChartState(state => ({\n        ...state,\n        offset: {\n          left: current.left,\n          top: current.top\n        }\n      }));\n    }\n  });\n\n  const onMouseLeave = e => {\n    setChartState(state => ({\n      ...state,\n      focused: null\n    }));\n    setChartState(state => ({\n      ...state,\n      pointer: {\n        ...state.pointer,\n        active: false\n      }\n    }));\n  };\n\n  const rafRef = React.useRef();\n\n  const onMouseMove = e => {\n    if (rafRef.current) {\n      RAF.cancel(rafRef.current);\n    }\n    rafRef.current = RAF(() => {\n      rafRef.current = null;\n      const { clientX, clientY } = e;\n\n      setChartState(state => {\n        const x = clientX - offset.left - gridX;\n        const y = clientY - offset.top - gridY;\n\n        const pointer = {\n          ...state.pointer,\n          active: true,\n          x,\n          y,\n          dragging: state.pointer && state.pointer.down\n        };\n        return {\n          ...state,\n          pointer\n        };\n      });\n    });\n  };\n\n  const onMouseUp = () => {\n    document.removeEventListener(\"mouseup\", onMouseUp);\n    document.removeEventListener(\"mousemove\", onMouseMove);\n\n    setChartState(state => ({\n      ...state,\n      pointer: {\n        ...state.pointer,\n        down: false,\n        dragging: false,\n        released: {\n          x: state.pointer.x,\n          y: state.pointer.y\n        }\n      }\n    }));\n  };\n\n  const onMouseDown = () => {\n    document.addEventListener(\"mouseup\", onMouseUp);\n    document.addEventListener(\"mousemove\", onMouseMove);\n\n    setChartState(state => ({\n      ...state,\n      pointer: {\n        ...state.pointer,\n        sourceX: state.pointer.x,\n        sourceY: state.pointer.y,\n        down: true\n      }\n    }));\n  };\n\n  // Reverse the stack order for proper z-indexing\n  const reversedStackData = [...stackData].reverse();\n  const orderedStackData = getSeriesOrder(reversedStackData);\n\n  const focusedSeriesIndex = focused\n    ? orderedStackData.findIndex(series => series.id === focused.series.id)\n    : -1;\n\n  // Bring focused series to the front\n  const focusOrderedStackData = focused\n    ? [\n        ...orderedStackData.slice(0, focusedSeriesIndex),\n        ...orderedStackData.slice(focusedSeriesIndex + 1),\n        orderedStackData[focusedSeriesIndex]\n      ]\n    : orderedStackData;\n\n  const stacks = focusOrderedStackData.map(stack => {\n    return (\n      <stack.Component\n        key={stack.id}\n        {...seriesOptions[stack.index]}\n        series={stack}\n        stackData={stackData}\n      />\n    );\n  });\n\n  return (\n    <div\n      ref={ref}\n      {...rest}\n      className={`ReactChart ${className || \"\"}`}\n      style={{\n        width,\n        height,\n        position: \"relative\",\n        ...style\n      }}\n    >\n      <svg\n        ref={svgRef}\n        style={{\n          width,\n          height,\n          overflow: \"hidden\"\n        }}\n        onMouseEnter={e => e.persist() || onMouseMove(e)}\n        onMouseMove={e => e.persist() || onMouseMove(e)}\n        onMouseLeave={e => e.persist() || onMouseLeave(e)}\n        onMouseDown={e => e.persist() || onMouseDown(e)}\n        onClick={onClick}\n      >\n        <g\n          style={{\n            transform: Utils.translate(gridX, gridY)\n          }}\n        >\n          <Rectangle\n            // To ensure the pointer always has something to hit\n            x1={-gridX}\n            x2={width - gridX}\n            y1={-gridY}\n            y2={height - gridY}\n            style={{\n              opacity: 0\n            }}\n          />\n          <Voronoi />\n          <g className=\"axes\">\n            {[...primaryAxes, ...secondaryAxes].map(axis => (\n              <Axis key={axis.id} {...axis} />\n            ))}\n          </g>\n          <g\n            className=\"Series\"\n            style={{\n              pointerEvents: \"none\"\n            }}\n          >\n            {stacks}\n          </g>\n        </g>\n        {renderSVG\n          ? renderSVG({\n              chartState,\n              setChartState\n            })\n          : null}\n      </svg>\n      <Cursor primary />\n      <Cursor />\n      <Brush />\n      <Tooltip />\n    </div>\n  );\n});\n","import React from 'react'\n//\n\nexport default ({\n  data,\n  getSeriesID,\n  getLabel,\n  getPrimaryAxisID,\n  getSecondaryAxisID,\n  getDatums,\n  getPrimary,\n  getSecondary,\n  getR\n}) => {\n  return React.useMemo(() => {\n    const materializedData = []\n\n    // First access the data, and provide it to the context\n    for (let seriesIndex = 0; seriesIndex < data.length; seriesIndex++) {\n      const originalSeries = data[seriesIndex]\n      const seriesID = getSeriesID(originalSeries, seriesIndex, data)\n      const seriesLabel = getLabel(originalSeries, seriesIndex, data)\n      const primaryAxisID = getPrimaryAxisID(originalSeries, seriesIndex, data)\n      const secondaryAxisID = getSecondaryAxisID(\n        originalSeries,\n        seriesIndex,\n        data\n      )\n      const originalDatums = getDatums(originalSeries, seriesIndex, data)\n      const datums = []\n\n      for (\n        let datumIndex = 0;\n        datumIndex < originalDatums.length;\n        datumIndex++\n      ) {\n        const originalDatum = originalDatums[datumIndex]\n        datums[datumIndex] = {\n          originalSeries,\n          seriesIndex,\n          seriesID,\n          seriesLabel,\n          index: datumIndex,\n          originalDatum,\n          primary: getPrimary(\n            originalDatum,\n            datumIndex,\n            originalSeries,\n            seriesIndex,\n            data\n          ),\n          secondary: getSecondary(\n            originalDatum,\n            datumIndex,\n            originalSeries,\n            seriesIndex,\n            data\n          ),\n          r: getR(originalDatum, datumIndex, originalSeries, seriesIndex, data)\n        }\n      }\n\n      materializedData[seriesIndex] = {\n        originalSeries,\n        index: seriesIndex,\n        id: seriesID,\n        label: seriesLabel,\n        primaryAxisID,\n        secondaryAxisID,\n        datums\n      }\n    }\n\n    return materializedData\n  }, [\n    data,\n    getDatums,\n    getLabel,\n    getPrimary,\n    getPrimaryAxisID,\n    getR,\n    getSecondary,\n    getSecondaryAxisID,\n    getSeriesID\n  ])\n}\n","import React from \"react\";\n//\nimport Utils from \"../utils/Utils\";\n\nexport default function usePropsMemo(fn, obj = {}) {\n  const watchRef = React.useRef({\n    style: {},\n    props: {}\n  });\n  const valueRef = React.useRef();\n\n  const { style = {}, ...props } = obj;\n  if (\n    Utils.shallowDiff(watchRef.current.style, style) ||\n    Utils.shallowDiff(watchRef.current.props, props)\n  ) {\n    watchRef.current = obj;\n    valueRef.current = fn();\n  }\n  return valueRef.current;\n}\n","import React from \"react\";\n//\nimport ChartContext from \"../utils/ChartContext\";\n\nexport default function useSeriesStyle(series) {\n  const [{ focused, getSeriesStyle }] = React.useContext(ChartContext);\n  return series.getStatusStyle(focused, getSeriesStyle);\n}\n","import React from \"react\";\n//\nimport ChartContext from \"../utils/ChartContext\";\n\nexport default function useDatumStyle(datum) {\n  const [{ focused, getDatumStyle }] = React.useContext(ChartContext);\n  return datum.getStatusStyle(focused, getDatumStyle);\n}\n","import React from \"react\";\n//\n\nconst defaultStyle = {\n  r: 2,\n  strokeWidth: \"1\",\n  stroke: \"#000000\",\n  fill: \"#000000\",\n  opacity: 1\n};\n\nexport default function Circle({ x, y, r, style, ...rest }) {\n  const resolvedStyle = {\n    ...defaultStyle,\n    ...style\n  };\n\n  return (\n    <circle {...rest} cx={x || 0} cy={y || 0} r={1} style={resolvedStyle} />\n  );\n}\n","import React from \"react\";\nimport { line } from \"d3-shape\";\n\n//\nimport ChartContext from \"../utils/ChartContext\";\nimport Utils from \"../utils/Utils\";\nimport { curveMonotoneX } from \"../utils/Curves\";\n\nimport usePropsMemo from \"../hooks/usePropsMemo\";\nimport useSeriesStyle from \"../hooks/useSeriesStyle\";\nimport useDatumStyle from \"../hooks/useDatumStyle\";\n\nimport Path from \"../primitives/Path\";\nimport Circle from \"../primitives/Circle\";\n\nconst pathDefaultStyle = {\n  strokeWidth: 2\n};\n\nconst circleDefaultStyle = {\n  r: 2\n};\n\nexport default function Line({ series, showPoints, curve }) {\n  const lineFn = React.useMemo(\n    () =>\n      line()\n        .x(d => d.x)\n        .y(d => d.y)\n        .defined(d => d.defined)\n        .curve(curve),\n    [curve]\n  );\n  const path = React.useMemo(() => lineFn(series.datums), [\n    lineFn,\n    series.datums\n  ]);\n\n  const style = useSeriesStyle(series);\n\n  const pathProps = {\n    d: path,\n    style: {\n      ...pathDefaultStyle,\n      ...style,\n      ...style.line,\n      fill: \"none\"\n    }\n  };\n  const renderedPath = usePropsMemo(() => <Path {...pathProps} />, pathProps);\n\n  return React.useMemo(\n    () => (\n      <g>\n        {renderedPath}\n        {showPoints &&\n          series.datums.map((datum, i) => {\n            return (\n              <Point\n                {...{\n                  key: i,\n                  datum,\n                  style\n                }}\n              />\n            );\n          })}\n      </g>\n    ),\n    [renderedPath, series.datums, showPoints, style]\n  );\n}\n\nLine.defaultProps = {\n  curve: curveMonotoneX\n};\n\nLine.plotDatum = (datum, { primaryAxis, secondaryAxis, xAxis, yAxis }) => {\n  datum.primaryCoord = primaryAxis.scale(datum.primary);\n  datum.secondaryCoord = secondaryAxis.scale(datum.secondary);\n  datum.x = xAxis.scale(datum.xValue);\n  datum.y = yAxis.scale(datum.yValue);\n  datum.defined =\n    Utils.isValidPoint(datum.xValue) && Utils.isValidPoint(datum.yValue);\n  datum.base = primaryAxis.vertical\n    ? xAxis.scale(datum.baseValue)\n    : yAxis.scale(datum.baseValue);\n\n  // Adjust non-bar elements for ordinal scales\n  if (xAxis.type === \"ordinal\") {\n    datum.x += xAxis.tickOffset;\n  }\n  if (yAxis.type === \"ordinal\") {\n    datum.y += yAxis.tickOffset;\n  }\n\n  // Set the default anchor point\n  datum.anchor = {\n    x: datum.x,\n    y: datum.y\n  };\n\n  // Set the pointer points (used in voronoi)\n  datum.boundingPoints = [datum.anchor];\n};\n\nLine.buildStyles = (series, { defaultColors }) => {\n  const defaults = {\n    // Pass some sane defaults\n    color: defaultColors[series.index % (defaultColors.length - 1)]\n  };\n\n  Utils.buildStyleGetters(series, defaults);\n};\n\nfunction Point({ datum, style }) {\n  const [, setChartState] = React.useContext(ChartContext);\n\n  const dataStyle = useDatumStyle(datum);\n\n  const circleProps = {\n    x: datum ? datum.x : undefined,\n    y: datum ? datum.y : undefined,\n    style: {\n      ...circleDefaultStyle,\n      ...style,\n      ...style.circle,\n      ...dataStyle,\n      ...dataStyle.circle\n    },\n    onMouseEnter: e =>\n      setChartState(state => ({\n        ...state,\n        element: datum\n      })),\n    onMouseLeave: e =>\n      setChartState(state => ({\n        ...state,\n        element: null\n      }))\n  };\n  return usePropsMemo(() => {\n    if (!datum.defined) {\n      return null;\n    }\n    return <Circle {...circleProps} />;\n  }, circleProps);\n}\n","import React from \"react\";\n//\n\nimport ChartContext from \"../utils/ChartContext\";\nimport Utils from \"../utils/Utils\";\n\nimport usePropsMemo from \"../hooks/usePropsMemo\";\nimport useSeriesStyle from \"../hooks/useSeriesStyle\";\nimport useDatumStyle from \"../hooks/useDatumStyle\";\n\nimport Circle from \"../primitives/Circle\";\n\nconst circleDefaultStyle = {\n  r: 2\n};\n\nexport default function Bubble({ series }) {\n  const style = useSeriesStyle(series);\n\n  return (\n    <g>\n      {series.datums.map((datum, i) => {\n        return (\n          <Point\n            {...{\n              key: i,\n              datum,\n              style\n            }}\n          />\n        );\n      })}\n    </g>\n  );\n}\n\nBubble.plotDatum = (datum, { primaryAxis, secondaryAxis, xAxis, yAxis }) => {\n  datum.primaryCoord = primaryAxis.scale(datum.primary);\n  datum.secondaryCoord = secondaryAxis.scale(datum.secondary);\n  datum.x = xAxis.scale(datum.xValue);\n  datum.y = yAxis.scale(datum.yValue);\n  datum.defined =\n    Utils.isValidPoint(datum.xValue) && Utils.isValidPoint(datum.yValue);\n  datum.base = primaryAxis.vertical\n    ? xAxis.scale(datum.baseValue)\n    : yAxis.scale(datum.baseValue);\n  // Adjust non-bar elements for ordinal scales\n  if (xAxis.type === \"ordinal\") {\n    datum.x += xAxis.tickOffset;\n  }\n  if (yAxis.type === \"ordinal\") {\n    datum.y += yAxis.tickOffset;\n  }\n\n  // Set the default anchor point\n  datum.anchor = {\n    x: datum.x,\n    y: datum.y,\n    verticalPadding: datum.r,\n    horizontalPadding: datum.r\n  };\n\n  // Set the pointer points (used in voronoi)\n  datum.boundingPoints = [datum.anchor];\n};\n\nBubble.buildStyles = (series, { defaultColors }) => {\n  const defaults = {\n    // Pass some sane defaults\n    color: defaultColors[series.index % (defaultColors.length - 1)]\n  };\n\n  Utils.buildStyleGetters(series, defaults);\n};\n\nfunction Point({ datum, style }) {\n  const dataStyle = useDatumStyle(datum);\n  const [, setChartState] = React.useContext(ChartContext);\n\n  const circleProps = {\n    x: datum ? datum.x : undefined,\n    y: datum ? datum.y : undefined,\n    style: {\n      ...circleDefaultStyle,\n      ...(typeof datum.r !== \"undefined\"\n        ? {\n            r: datum.r\n          }\n        : {}),\n      ...style,\n      ...style.circle,\n      ...dataStyle,\n      ...dataStyle.circle\n    },\n    onMouseEnter: e =>\n      setChartState(state => ({\n        ...state,\n        element: datum\n      })),\n    onMouseLeave: e =>\n      setChartState(state => ({\n        ...state,\n        element: null\n      }))\n  };\n\n  return usePropsMemo(() => {\n    if (!datum.defined) {\n      return null;\n    }\n    return <Circle {...circleProps} />;\n  }, circleProps);\n}\n","import React from \"react\";\nimport { area, line } from \"d3-shape\";\n//\n\nimport Utils from \"../utils/Utils\";\nimport { curveLinear } from \"../utils/Curves\";\n\nimport usePropsMemo from \"../hooks/usePropsMemo\";\nimport useSeriesStyle from \"../hooks/useSeriesStyle\";\nimport useDatumStyle from \"../hooks/useDatumStyle\";\n\nimport Path from \"../primitives/Path\";\nimport Line from \"../primitives/Line\";\n\nconst defaultAreaStyle = {\n  strokeWidth: 0\n};\n\nconst lineDefaultStyle = {\n  strokeWidth: 3\n};\n\nexport default function Area({ series, showOrphans, curve }) {\n  const areaFn = React.useMemo(\n    () =>\n      area()\n        .x(d => d.x)\n        .y0(d => d.base)\n        .y1(d => d.y)\n        .defined(d => d.defined)\n        .curve(curve),\n    [curve]\n  );\n\n  const lineFn = React.useMemo(\n    () =>\n      line()\n        .x(d => d.x)\n        .y(d => d.y)\n        .defined(d => d.defined)\n        .curve(curve),\n    [curve]\n  );\n  const areaPath = React.useMemo(() => areaFn(series.datums), [\n    areaFn,\n    series.datums\n  ]);\n  const linePath = React.useMemo(() => lineFn(series.datums), [\n    lineFn,\n    series.datums\n  ]);\n\n  const style = useSeriesStyle(series);\n\n  const areaPathProps = {\n    d: areaPath,\n    style: {\n      ...defaultAreaStyle,\n      ...style,\n      ...style.line\n    }\n  };\n  const renderedAreaPath = usePropsMemo(\n    () => <Path {...areaPathProps} />,\n    areaPathProps\n  );\n\n  const linePathProps = {\n    d: linePath,\n    style: {\n      ...defaultAreaStyle,\n      ...style,\n      ...style.line,\n      fill: \"none\"\n    }\n  };\n  const renderedLinePath = usePropsMemo(\n    () => <Path {...linePathProps} />,\n    linePathProps\n  );\n\n  return (\n    <g>\n      {renderedAreaPath}\n      {renderedLinePath}\n      {showOrphans &&\n        series.datums.map((datum, index, all) => {\n          return (\n            <OrphanLine\n              {...{\n                key: index,\n                datum,\n                style,\n                all,\n                index\n              }}\n            />\n          );\n        })}\n    </g>\n  );\n}\n\nArea.defaultProps = {\n  showOrphans: true,\n  curve: curveLinear\n};\n\nArea.plotDatum = (datum, { primaryAxis, secondaryAxis, xAxis, yAxis }) => {\n  // Turn clamping on for secondaryAxis\n  secondaryAxis.scale.clamp(true);\n\n  datum.primaryCoord = primaryAxis.scale(datum.primary);\n  datum.secondaryCoord = secondaryAxis.scale(datum.secondary);\n  datum.x = xAxis.scale(datum.xValue);\n  datum.y = yAxis.scale(datum.yValue);\n  datum.defined =\n    Utils.isValidPoint(datum.xValue) && Utils.isValidPoint(datum.yValue);\n  datum.base = primaryAxis.vertical\n    ? xAxis.scale(datum.baseValue)\n    : yAxis.scale(datum.baseValue);\n\n  // Turn clamping back off for secondaryAxis\n  secondaryAxis.scale.clamp(false);\n\n  // Adjust non-bar elements for ordinal scales\n  if (xAxis.type === \"ordinal\") {\n    datum.x += xAxis.tickOffset;\n  }\n  if (yAxis.type === \"ordinal\") {\n    datum.y += yAxis.tickOffset;\n  }\n\n  // Set the default anchor point\n  datum.anchor = {\n    x: datum.x,\n    y: datum.y\n  };\n\n  // Set the pointer points (used in voronoi)\n  datum.boundingPoints = [\n    datum.anchor,\n    {\n      x: primaryAxis.vertical\n        ? primaryAxis.position === \"left\"\n          ? datum.base - 1\n          : datum.base\n        : datum.anchor.x,\n      y: !primaryAxis.vertical\n        ? primaryAxis.position === \"bottom\"\n          ? datum.base - 1\n          : datum.base\n        : datum.anchor.y\n    }\n  ];\n};\n\nArea.buildStyles = (series, { defaultColors }) => {\n  const defaults = {\n    // Pass some sane defaults\n    color: defaultColors[series.index % (defaultColors.length - 1)]\n  };\n\n  Utils.buildStyleGetters(series, defaults);\n};\n\nconst OrphanLine = function OrphanLine({ datum, style, all, index }) {\n  const prev = all[index - 1] || { defined: false };\n  const next = all[index + 1] || { defined: false };\n\n  const dataStyle = useDatumStyle(datum);\n\n  const lineProps = {\n    x1: !datum || Number.isNaN(datum.x) ? null : datum.x,\n    y1: !datum || Number.isNaN(datum.base) ? null : datum.base,\n    x2: !datum || Number.isNaN(datum.x) ? null : datum.x,\n    y2: !datum || Number.isNaN(datum.y) ? null : datum.y,\n    style: {\n      ...lineDefaultStyle,\n      ...style,\n      ...style.line,\n      ...dataStyle,\n      ...dataStyle.line\n    }\n  };\n\n  return usePropsMemo(() => {\n    if (!datum.defined || prev.defined || next.defined) {\n      return null;\n    }\n    return <Line {...lineProps} />;\n  }, lineProps);\n};\n","import React from \"react\";\n//\nimport ChartContext from \"../utils/ChartContext\";\nimport Utils from \"../utils/Utils\";\n\nimport usePropsMemo from \"../hooks/usePropsMemo\";\nimport useSeriesStyle from \"../hooks/useSeriesStyle\";\nimport useDatumStyle from \"../hooks/useDatumStyle\";\n\nimport Rectangle from \"../primitives/Rectangle\";\n\nexport default function Bar({ series }) {\n  const [{ primaryAxes }] = React.useContext(ChartContext);\n\n  const style = useSeriesStyle(series);\n\n  const { barOffset } = series.primaryAxisID\n    ? primaryAxes.find(d => d.id === series.primaryAxisID)\n    : primaryAxes[0];\n\n  return (\n    <g className=\"series bar\">\n      {series.datums.map((datum, i) => {\n        return (\n          <BarPiece\n            key={i}\n            {...{\n              datum,\n              barOffset,\n              style\n            }}\n          />\n        );\n      })}\n    </g>\n  );\n}\n\nfunction BarPiece({ datum, barOffset, style }) {\n  const [{ primaryAxes }, setChartState] = React.useContext(ChartContext);\n\n  const x = datum ? datum.x : 0;\n  const y = datum ? datum.y : 0;\n  const base = datum ? datum.base : 0;\n  const size = datum ? datum.size : 0;\n  let x1;\n  let y1;\n  let x2;\n  let y2;\n  if (primaryAxes.find(d => d.vertical)) {\n    x1 = base;\n    x2 = x;\n    y1 = y + barOffset;\n    y2 = y1 + size;\n  } else {\n    x1 = x + barOffset;\n    x2 = x1 + size;\n    y1 = y;\n    y2 = base;\n  }\n\n  const dataStyle = useDatumStyle(datum);\n\n  const rectangleProps = {\n    style: {\n      pointerEvents: \"all\",\n      ...style,\n      ...style.rectangle,\n      ...dataStyle,\n      ...dataStyle.rectangle\n    },\n    x1: Number.isNaN(x1) ? null : x1,\n    y1: Number.isNaN(y1) ? null : y1,\n    x2: Number.isNaN(x2) ? null : x2,\n    y2: Number.isNaN(y2) ? null : y2,\n    onMouseEnter: e =>\n      setChartState(state => ({\n        ...state,\n        element: datum\n      })),\n    onMouseLeave: e =>\n      setChartState(state => ({\n        ...state,\n        element: null\n      }))\n  };\n\n  return usePropsMemo(() => <Rectangle {...rectangleProps} />, rectangleProps);\n}\n\nBar.plotDatum = (datum, { xAxis, yAxis, primaryAxis, secondaryAxis }) => {\n  // Turn clamping on for secondaryAxis\n  secondaryAxis.scale.clamp(true);\n\n  datum.primaryCoord = primaryAxis.scale(datum.primary);\n  datum.secondaryCoord = secondaryAxis.scale(datum.secondary);\n  datum.x = xAxis.scale(datum.xValue);\n  datum.y = yAxis.scale(datum.yValue);\n  datum.defined =\n    Utils.isValidPoint(datum.xValue) && Utils.isValidPoint(datum.yValue);\n  datum.base = secondaryAxis.scale(datum.baseValue);\n  datum.size = primaryAxis.barSize;\n\n  // Turn clamping back off for secondaryAxis\n  secondaryAxis.scale.clamp(false);\n\n  if (!secondaryAxis.stacked) {\n    datum.size = primaryAxis.seriesBarSize;\n    // Use the seriesTypeIndex here in case we have mixed types.\n    const seriesBandScaleOffset = primaryAxis.seriesBandScale(\n      datum.seriesTypeIndex\n    );\n    if (secondaryAxis.vertical) {\n      datum.x += seriesBandScaleOffset;\n    } else {\n      datum.y += seriesBandScaleOffset;\n    }\n  }\n\n  // Set the default anchor point\n  datum.anchor = {\n    x: datum.x,\n    y: datum.y,\n    horizontalPadding: secondaryAxis.vertical ? datum.size / 2 : 0,\n    verticalPadding: secondaryAxis.vertical ? 0 : datum.size / 2\n  };\n\n  // Adjust the anchor point for bars\n  if (!primaryAxis.vertical) {\n    datum.anchor.x += primaryAxis.type !== \"ordinal\" ? 0 : datum.size / 2;\n  } else {\n    datum.anchor.y += primaryAxis.type !== \"ordinal\" ? 0 : datum.size / 2;\n  }\n\n  // Set the pointer points (used in voronoi)\n  datum.boundingPoints = [\n    // End of bar\n    datum.anchor,\n    // Start of bar\n    {\n      x: primaryAxis.vertical\n        ? primaryAxis.position === \"left\"\n          ? datum.base + 1\n          : datum.base\n        : datum.anchor.x,\n      y: !primaryAxis.vertical\n        ? primaryAxis.position === \"bottom\"\n          ? datum.base - 1\n          : datum.base\n        : datum.anchor.y\n    }\n  ];\n};\n\nBar.buildStyles = (series, { defaultColors }) => {\n  const defaults = {\n    // Pass some sane defaults\n    color: defaultColors[series.index % (defaultColors.length - 1)]\n  };\n\n  Utils.buildStyleGetters(series, defaults);\n};\n","import React from 'react'\nimport PropTypes from 'prop-types'\n//\n\nimport { curveMonotoneX } from '../../utils/Curves'\n\nimport Line from '../../seriesTypes/Line'\nimport Bubble from '../../seriesTypes/Bubble'\nimport Area from '../../seriesTypes/Area'\nimport Bar from '../../seriesTypes/Bar'\n\nconst seriesTypes = {\n  line: Line,\n  bubble: Bubble,\n  area: Area,\n  bar: Bar\n  // pie: Pie\n}\n\nconst defaultSeries = {\n  type: 'line',\n  showPoints: true,\n  showOrphans: true,\n  curve: curveMonotoneX\n}\n\nexport const seriesPropType = PropTypes.oneOfType([\n  PropTypes.shape({\n    type: PropTypes.string,\n    showPoints: PropTypes.bool,\n    showOrphans: PropTypes.bool,\n    curve: PropTypes.func\n  }),\n  PropTypes.func\n])\n\nexport default ({ materializedData, series }) =>\n  React.useMemo(\n    () =>\n      materializedData.map((s, seriesIndex) => {\n        const { type, ...rest } = {\n          ...defaultSeries,\n          ...(typeof series === 'function' ? series(s, seriesIndex) : series)\n        }\n        const renderer = seriesTypes[type]\n        if (!renderer) {\n          throw new Error(`Could not find a registered series type for ${type}`)\n        }\n        return {\n          ...rest,\n          type,\n          renderer\n        }\n      }),\n    [materializedData, series]\n  )\n","import React from 'react'\n\nexport default ({ materializedData, seriesOptions }) =>\n  React.useMemo(() => {\n    return materializedData\n      .map((series, i) => {\n        series.Component = seriesOptions[i].renderer\n        return series\n      })\n      .map((series, i, all) => {\n        const seriesTypeIndex = all.filter(\n          (d, j) => j < i && d.Component === series.Component\n        ).length\n        return {\n          ...series,\n          seriesTypeIndex,\n          datums: series.datums.map(datum => ({\n            ...datum,\n            seriesTypeIndex\n          }))\n        }\n      })\n  }, [materializedData, seriesOptions])\n","import React from 'react'\n\nimport Utils from '../../utils/Utils'\n\nexport default ({ width, height, axisDimensions, padding, offset }) => {\n  offset = React.useMemo(() => {\n    return {\n      left: offset.left || 0,\n      top: offset.top || 0\n    }\n  }, [offset])\n\n  const { gridX, gridY, gridWidth, gridHeight } = React.useMemo(() => {\n    // Left\n    const axesLeftWidth =\n      (axisDimensions.left && Utils.sumObjBy(axisDimensions.left, 'width')) || 0\n    const axesLeftTop =\n      (axisDimensions.left && Utils.sumObjBy(axisDimensions.left, 'top')) || 0\n    const axesLeftBottom =\n      (axisDimensions.left && Utils.sumObjBy(axisDimensions.left, 'bottom')) ||\n      0\n\n    // Right\n    const axesRightWidth =\n      (axisDimensions.right && Utils.sumObjBy(axisDimensions.right, 'width')) ||\n      0\n    const axesRightTop =\n      (axisDimensions.right && Utils.sumObjBy(axisDimensions.right, 'top')) || 0\n    const axesRightBottom =\n      (axisDimensions.right &&\n        Utils.sumObjBy(axisDimensions.right, 'bottom')) ||\n      0\n\n    // Top\n    const axesTopHeight =\n      (axisDimensions.top && Utils.sumObjBy(axisDimensions.top, 'height')) || 0\n    const axesTopLeft =\n      (axisDimensions.top && Utils.sumObjBy(axisDimensions.top, 'left')) || 0\n    const axesTopRight =\n      (axisDimensions.top && Utils.sumObjBy(axisDimensions.top, 'right')) || 0\n\n    // Bottom\n    const axesBottomHeight =\n      (axisDimensions.bottom &&\n        Utils.sumObjBy(axisDimensions.bottom, 'height')) ||\n      0\n    const axesBottomLeft =\n      (axisDimensions.bottom &&\n        Utils.sumObjBy(axisDimensions.bottom, 'left')) ||\n      0\n    const axesBottomRight =\n      (axisDimensions.bottom &&\n        Utils.sumObjBy(axisDimensions.bottom, 'right')) ||\n      0\n\n    const paddingLeft = padding.left || 0\n    const paddingRight = padding.right || 0\n    const paddingTop = padding.top || 0\n    const paddingBottom = padding.bottom || 0\n\n    const gridX =\n      paddingLeft + Math.max(axesLeftWidth, axesTopLeft, axesBottomLeft)\n\n    const gridY =\n      paddingTop + Math.max(axesTopHeight, axesLeftTop, axesRightTop)\n\n    const gridWidth =\n      width -\n      paddingLeft -\n      paddingRight -\n      Math.max(axesLeftWidth, axesTopLeft, axesBottomLeft) -\n      Math.max(axesRightWidth, axesTopRight, axesBottomRight)\n\n    const gridHeight =\n      height -\n      paddingTop -\n      paddingBottom -\n      Math.max(axesTopHeight, axesLeftTop, axesRightTop) -\n      Math.max(axesBottomHeight, axesLeftBottom, axesRightBottom)\n\n    return { gridX, gridY, gridWidth, gridHeight }\n  }, [width, height, axisDimensions, padding])\n\n  return {\n    offset,\n    gridX,\n    gridY,\n    gridWidth,\n    gridHeight\n  }\n}\n","export default function(a, b) {\n  return a < b ? -1 : a > b ? 1 : a >= b ? 0 : NaN;\n}\n","import ascending from \"./ascending.js\";\n\nexport default function(compare) {\n  if (compare.length === 1) compare = ascendingComparator(compare);\n  return {\n    left: function(a, x, lo, hi) {\n      if (lo == null) lo = 0;\n      if (hi == null) hi = a.length;\n      while (lo < hi) {\n        var mid = lo + hi >>> 1;\n        if (compare(a[mid], x) < 0) lo = mid + 1;\n        else hi = mid;\n      }\n      return lo;\n    },\n    right: function(a, x, lo, hi) {\n      if (lo == null) lo = 0;\n      if (hi == null) hi = a.length;\n      while (lo < hi) {\n        var mid = lo + hi >>> 1;\n        if (compare(a[mid], x) > 0) hi = mid;\n        else lo = mid + 1;\n      }\n      return lo;\n    }\n  };\n}\n\nfunction ascendingComparator(f) {\n  return function(d, x) {\n    return ascending(f(d), x);\n  };\n}\n","import ascending from \"./ascending.js\";\nimport bisector from \"./bisector.js\";\n\nvar ascendingBisect = bisector(ascending);\nexport var bisectRight = ascendingBisect.right;\nexport var bisectLeft = ascendingBisect.left;\nexport default bisectRight;\n","export default function(start, stop, step) {\n  start = +start, stop = +stop, step = (n = arguments.length) < 2 ? (stop = start, start = 0, 1) : n < 3 ? 1 : +step;\n\n  var i = -1,\n      n = Math.max(0, Math.ceil((stop - start) / step)) | 0,\n      range = new Array(n);\n\n  while (++i < n) {\n    range[i] = start + i * step;\n  }\n\n  return range;\n}\n","var e10 = Math.sqrt(50),\n    e5 = Math.sqrt(10),\n    e2 = Math.sqrt(2);\n\nexport default function(start, stop, count) {\n  var reverse,\n      i = -1,\n      n,\n      ticks,\n      step;\n\n  stop = +stop, start = +start, count = +count;\n  if (start === stop && count > 0) return [start];\n  if (reverse = stop < start) n = start, start = stop, stop = n;\n  if ((step = tickIncrement(start, stop, count)) === 0 || !isFinite(step)) return [];\n\n  if (step > 0) {\n    start = Math.ceil(start / step);\n    stop = Math.floor(stop / step);\n    ticks = new Array(n = Math.ceil(stop - start + 1));\n    while (++i < n) ticks[i] = (start + i) * step;\n  } else {\n    start = Math.floor(start * step);\n    stop = Math.ceil(stop * step);\n    ticks = new Array(n = Math.ceil(start - stop + 1));\n    while (++i < n) ticks[i] = (start - i) / step;\n  }\n\n  if (reverse) ticks.reverse();\n\n  return ticks;\n}\n\nexport function tickIncrement(start, stop, count) {\n  var step = (stop - start) / Math.max(0, count),\n      power = Math.floor(Math.log(step) / Math.LN10),\n      error = step / Math.pow(10, power);\n  return power >= 0\n      ? (error >= e10 ? 10 : error >= e5 ? 5 : error >= e2 ? 2 : 1) * Math.pow(10, power)\n      : -Math.pow(10, -power) / (error >= e10 ? 10 : error >= e5 ? 5 : error >= e2 ? 2 : 1);\n}\n\nexport function tickStep(start, stop, count) {\n  var step0 = Math.abs(stop - start) / Math.max(0, count),\n      step1 = Math.pow(10, Math.floor(Math.log(step0) / Math.LN10)),\n      error = step0 / step1;\n  if (error >= e10) step1 *= 10;\n  else if (error >= e5) step1 *= 5;\n  else if (error >= e2) step1 *= 2;\n  return stop < start ? -step1 : step1;\n}\n","export function initRange(domain, range) {\n  switch (arguments.length) {\n    case 0: break;\n    case 1: this.range(domain); break;\n    default: this.range(range).domain(domain); break;\n  }\n  return this;\n}\n\nexport function initInterpolator(domain, interpolator) {\n  switch (arguments.length) {\n    case 0: break;\n    case 1: {\n      if (typeof domain === \"function\") this.interpolator(domain);\n      else this.range(domain);\n      break;\n    }\n    default: {\n      this.domain(domain);\n      if (typeof interpolator === \"function\") this.interpolator(interpolator);\n      else this.range(interpolator);\n      break;\n    }\n  }\n  return this;\n}\n","import {initRange} from \"./init.js\";\n\nexport const implicit = Symbol(\"implicit\");\n\nexport default function ordinal() {\n  var index = new Map(),\n      domain = [],\n      range = [],\n      unknown = implicit;\n\n  function scale(d) {\n    var key = d + \"\", i = index.get(key);\n    if (!i) {\n      if (unknown !== implicit) return unknown;\n      index.set(key, i = domain.push(d));\n    }\n    return range[(i - 1) % range.length];\n  }\n\n  scale.domain = function(_) {\n    if (!arguments.length) return domain.slice();\n    domain = [], index = new Map();\n    for (const value of _) {\n      const key = value + \"\";\n      if (index.has(key)) continue;\n      index.set(key, domain.push(value));\n    }\n    return scale;\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? (range = Array.from(_), scale) : range.slice();\n  };\n\n  scale.unknown = function(_) {\n    return arguments.length ? (unknown = _, scale) : unknown;\n  };\n\n  scale.copy = function() {\n    return ordinal(domain, range).unknown(unknown);\n  };\n\n  initRange.apply(scale, arguments);\n\n  return scale;\n}\n","import {range as sequence} from \"d3-array\";\nimport {initRange} from \"./init.js\";\nimport ordinal from \"./ordinal.js\";\n\nexport default function band() {\n  var scale = ordinal().unknown(undefined),\n      domain = scale.domain,\n      ordinalRange = scale.range,\n      r0 = 0,\n      r1 = 1,\n      step,\n      bandwidth,\n      round = false,\n      paddingInner = 0,\n      paddingOuter = 0,\n      align = 0.5;\n\n  delete scale.unknown;\n\n  function rescale() {\n    var n = domain().length,\n        reverse = r1 < r0,\n        start = reverse ? r1 : r0,\n        stop = reverse ? r0 : r1;\n    step = (stop - start) / Math.max(1, n - paddingInner + paddingOuter * 2);\n    if (round) step = Math.floor(step);\n    start += (stop - start - step * (n - paddingInner)) * align;\n    bandwidth = step * (1 - paddingInner);\n    if (round) start = Math.round(start), bandwidth = Math.round(bandwidth);\n    var values = sequence(n).map(function(i) { return start + step * i; });\n    return ordinalRange(reverse ? values.reverse() : values);\n  }\n\n  scale.domain = function(_) {\n    return arguments.length ? (domain(_), rescale()) : domain();\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? ([r0, r1] = _, r0 = +r0, r1 = +r1, rescale()) : [r0, r1];\n  };\n\n  scale.rangeRound = function(_) {\n    return [r0, r1] = _, r0 = +r0, r1 = +r1, round = true, rescale();\n  };\n\n  scale.bandwidth = function() {\n    return bandwidth;\n  };\n\n  scale.step = function() {\n    return step;\n  };\n\n  scale.round = function(_) {\n    return arguments.length ? (round = !!_, rescale()) : round;\n  };\n\n  scale.padding = function(_) {\n    return arguments.length ? (paddingInner = Math.min(1, paddingOuter = +_), rescale()) : paddingInner;\n  };\n\n  scale.paddingInner = function(_) {\n    return arguments.length ? (paddingInner = Math.min(1, _), rescale()) : paddingInner;\n  };\n\n  scale.paddingOuter = function(_) {\n    return arguments.length ? (paddingOuter = +_, rescale()) : paddingOuter;\n  };\n\n  scale.align = function(_) {\n    return arguments.length ? (align = Math.max(0, Math.min(1, _)), rescale()) : align;\n  };\n\n  scale.copy = function() {\n    return band(domain(), [r0, r1])\n        .round(round)\n        .paddingInner(paddingInner)\n        .paddingOuter(paddingOuter)\n        .align(align);\n  };\n\n  return initRange.apply(rescale(), arguments);\n}\n\nfunction pointish(scale) {\n  var copy = scale.copy;\n\n  scale.padding = scale.paddingOuter;\n  delete scale.paddingInner;\n  delete scale.paddingOuter;\n\n  scale.copy = function() {\n    return pointish(copy());\n  };\n\n  return scale;\n}\n\nexport function point() {\n  return pointish(band.apply(null, arguments).paddingInner(1));\n}\n","export default function(constructor, factory, prototype) {\n  constructor.prototype = factory.prototype = prototype;\n  prototype.constructor = constructor;\n}\n\nexport function extend(parent, definition) {\n  var prototype = Object.create(parent.prototype);\n  for (var key in definition) prototype[key] = definition[key];\n  return prototype;\n}\n","import define, {extend} from \"./define.js\";\n\nexport function Color() {}\n\nexport var darker = 0.7;\nexport var brighter = 1 / darker;\n\nvar reI = \"\\\\s*([+-]?\\\\d+)\\\\s*\",\n    reN = \"\\\\s*([+-]?\\\\d*\\\\.?\\\\d+(?:[eE][+-]?\\\\d+)?)\\\\s*\",\n    reP = \"\\\\s*([+-]?\\\\d*\\\\.?\\\\d+(?:[eE][+-]?\\\\d+)?)%\\\\s*\",\n    reHex = /^#([0-9a-f]{3,8})$/,\n    reRgbInteger = new RegExp(\"^rgb\\\\(\" + [reI, reI, reI] + \"\\\\)$\"),\n    reRgbPercent = new RegExp(\"^rgb\\\\(\" + [reP, reP, reP] + \"\\\\)$\"),\n    reRgbaInteger = new RegExp(\"^rgba\\\\(\" + [reI, reI, reI, reN] + \"\\\\)$\"),\n    reRgbaPercent = new RegExp(\"^rgba\\\\(\" + [reP, reP, reP, reN] + \"\\\\)$\"),\n    reHslPercent = new RegExp(\"^hsl\\\\(\" + [reN, reP, reP] + \"\\\\)$\"),\n    reHslaPercent = new RegExp(\"^hsla\\\\(\" + [reN, reP, reP, reN] + \"\\\\)$\");\n\nvar named = {\n  aliceblue: 0xf0f8ff,\n  antiquewhite: 0xfaebd7,\n  aqua: 0x00ffff,\n  aquamarine: 0x7fffd4,\n  azure: 0xf0ffff,\n  beige: 0xf5f5dc,\n  bisque: 0xffe4c4,\n  black: 0x000000,\n  blanchedalmond: 0xffebcd,\n  blue: 0x0000ff,\n  blueviolet: 0x8a2be2,\n  brown: 0xa52a2a,\n  burlywood: 0xdeb887,\n  cadetblue: 0x5f9ea0,\n  chartreuse: 0x7fff00,\n  chocolate: 0xd2691e,\n  coral: 0xff7f50,\n  cornflowerblue: 0x6495ed,\n  cornsilk: 0xfff8dc,\n  crimson: 0xdc143c,\n  cyan: 0x00ffff,\n  darkblue: 0x00008b,\n  darkcyan: 0x008b8b,\n  darkgoldenrod: 0xb8860b,\n  darkgray: 0xa9a9a9,\n  darkgreen: 0x006400,\n  darkgrey: 0xa9a9a9,\n  darkkhaki: 0xbdb76b,\n  darkmagenta: 0x8b008b,\n  darkolivegreen: 0x556b2f,\n  darkorange: 0xff8c00,\n  darkorchid: 0x9932cc,\n  darkred: 0x8b0000,\n  darksalmon: 0xe9967a,\n  darkseagreen: 0x8fbc8f,\n  darkslateblue: 0x483d8b,\n  darkslategray: 0x2f4f4f,\n  darkslategrey: 0x2f4f4f,\n  darkturquoise: 0x00ced1,\n  darkviolet: 0x9400d3,\n  deeppink: 0xff1493,\n  deepskyblue: 0x00bfff,\n  dimgray: 0x696969,\n  dimgrey: 0x696969,\n  dodgerblue: 0x1e90ff,\n  firebrick: 0xb22222,\n  floralwhite: 0xfffaf0,\n  forestgreen: 0x228b22,\n  fuchsia: 0xff00ff,\n  gainsboro: 0xdcdcdc,\n  ghostwhite: 0xf8f8ff,\n  gold: 0xffd700,\n  goldenrod: 0xdaa520,\n  gray: 0x808080,\n  green: 0x008000,\n  greenyellow: 0xadff2f,\n  grey: 0x808080,\n  honeydew: 0xf0fff0,\n  hotpink: 0xff69b4,\n  indianred: 0xcd5c5c,\n  indigo: 0x4b0082,\n  ivory: 0xfffff0,\n  khaki: 0xf0e68c,\n  lavender: 0xe6e6fa,\n  lavenderblush: 0xfff0f5,\n  lawngreen: 0x7cfc00,\n  lemonchiffon: 0xfffacd,\n  lightblue: 0xadd8e6,\n  lightcoral: 0xf08080,\n  lightcyan: 0xe0ffff,\n  lightgoldenrodyellow: 0xfafad2,\n  lightgray: 0xd3d3d3,\n  lightgreen: 0x90ee90,\n  lightgrey: 0xd3d3d3,\n  lightpink: 0xffb6c1,\n  lightsalmon: 0xffa07a,\n  lightseagreen: 0x20b2aa,\n  lightskyblue: 0x87cefa,\n  lightslategray: 0x778899,\n  lightslategrey: 0x778899,\n  lightsteelblue: 0xb0c4de,\n  lightyellow: 0xffffe0,\n  lime: 0x00ff00,\n  limegreen: 0x32cd32,\n  linen: 0xfaf0e6,\n  magenta: 0xff00ff,\n  maroon: 0x800000,\n  mediumaquamarine: 0x66cdaa,\n  mediumblue: 0x0000cd,\n  mediumorchid: 0xba55d3,\n  mediumpurple: 0x9370db,\n  mediumseagreen: 0x3cb371,\n  mediumslateblue: 0x7b68ee,\n  mediumspringgreen: 0x00fa9a,\n  mediumturquoise: 0x48d1cc,\n  mediumvioletred: 0xc71585,\n  midnightblue: 0x191970,\n  mintcream: 0xf5fffa,\n  mistyrose: 0xffe4e1,\n  moccasin: 0xffe4b5,\n  navajowhite: 0xffdead,\n  navy: 0x000080,\n  oldlace: 0xfdf5e6,\n  olive: 0x808000,\n  olivedrab: 0x6b8e23,\n  orange: 0xffa500,\n  orangered: 0xff4500,\n  orchid: 0xda70d6,\n  palegoldenrod: 0xeee8aa,\n  palegreen: 0x98fb98,\n  paleturquoise: 0xafeeee,\n  palevioletred: 0xdb7093,\n  papayawhip: 0xffefd5,\n  peachpuff: 0xffdab9,\n  peru: 0xcd853f,\n  pink: 0xffc0cb,\n  plum: 0xdda0dd,\n  powderblue: 0xb0e0e6,\n  purple: 0x800080,\n  rebeccapurple: 0x663399,\n  red: 0xff0000,\n  rosybrown: 0xbc8f8f,\n  royalblue: 0x4169e1,\n  saddlebrown: 0x8b4513,\n  salmon: 0xfa8072,\n  sandybrown: 0xf4a460,\n  seagreen: 0x2e8b57,\n  seashell: 0xfff5ee,\n  sienna: 0xa0522d,\n  silver: 0xc0c0c0,\n  skyblue: 0x87ceeb,\n  slateblue: 0x6a5acd,\n  slategray: 0x708090,\n  slategrey: 0x708090,\n  snow: 0xfffafa,\n  springgreen: 0x00ff7f,\n  steelblue: 0x4682b4,\n  tan: 0xd2b48c,\n  teal: 0x008080,\n  thistle: 0xd8bfd8,\n  tomato: 0xff6347,\n  turquoise: 0x40e0d0,\n  violet: 0xee82ee,\n  wheat: 0xf5deb3,\n  white: 0xffffff,\n  whitesmoke: 0xf5f5f5,\n  yellow: 0xffff00,\n  yellowgreen: 0x9acd32\n};\n\ndefine(Color, color, {\n  copy: function(channels) {\n    return Object.assign(new this.constructor, this, channels);\n  },\n  displayable: function() {\n    return this.rgb().displayable();\n  },\n  hex: color_formatHex, // Deprecated! Use color.formatHex.\n  formatHex: color_formatHex,\n  formatHsl: color_formatHsl,\n  formatRgb: color_formatRgb,\n  toString: color_formatRgb\n});\n\nfunction color_formatHex() {\n  return this.rgb().formatHex();\n}\n\nfunction color_formatHsl() {\n  return hslConvert(this).formatHsl();\n}\n\nfunction color_formatRgb() {\n  return this.rgb().formatRgb();\n}\n\nexport default function color(format) {\n  var m, l;\n  format = (format + \"\").trim().toLowerCase();\n  return (m = reHex.exec(format)) ? (l = m[1].length, m = parseInt(m[1], 16), l === 6 ? rgbn(m) // #ff0000\n      : l === 3 ? new Rgb((m >> 8 & 0xf) | (m >> 4 & 0xf0), (m >> 4 & 0xf) | (m & 0xf0), ((m & 0xf) << 4) | (m & 0xf), 1) // #f00\n      : l === 8 ? new Rgb(m >> 24 & 0xff, m >> 16 & 0xff, m >> 8 & 0xff, (m & 0xff) / 0xff) // #ff000000\n      : l === 4 ? new Rgb((m >> 12 & 0xf) | (m >> 8 & 0xf0), (m >> 8 & 0xf) | (m >> 4 & 0xf0), (m >> 4 & 0xf) | (m & 0xf0), (((m & 0xf) << 4) | (m & 0xf)) / 0xff) // #f000\n      : null) // invalid hex\n      : (m = reRgbInteger.exec(format)) ? new Rgb(m[1], m[2], m[3], 1) // rgb(255, 0, 0)\n      : (m = reRgbPercent.exec(format)) ? new Rgb(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, 1) // rgb(100%, 0%, 0%)\n      : (m = reRgbaInteger.exec(format)) ? rgba(m[1], m[2], m[3], m[4]) // rgba(255, 0, 0, 1)\n      : (m = reRgbaPercent.exec(format)) ? rgba(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, m[4]) // rgb(100%, 0%, 0%, 1)\n      : (m = reHslPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, 1) // hsl(120, 50%, 50%)\n      : (m = reHslaPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, m[4]) // hsla(120, 50%, 50%, 1)\n      : named.hasOwnProperty(format) ? rgbn(named[format]) // eslint-disable-line no-prototype-builtins\n      : format === \"transparent\" ? new Rgb(NaN, NaN, NaN, 0)\n      : null;\n}\n\nfunction rgbn(n) {\n  return new Rgb(n >> 16 & 0xff, n >> 8 & 0xff, n & 0xff, 1);\n}\n\nfunction rgba(r, g, b, a) {\n  if (a <= 0) r = g = b = NaN;\n  return new Rgb(r, g, b, a);\n}\n\nexport function rgbConvert(o) {\n  if (!(o instanceof Color)) o = color(o);\n  if (!o) return new Rgb;\n  o = o.rgb();\n  return new Rgb(o.r, o.g, o.b, o.opacity);\n}\n\nexport function rgb(r, g, b, opacity) {\n  return arguments.length === 1 ? rgbConvert(r) : new Rgb(r, g, b, opacity == null ? 1 : opacity);\n}\n\nexport function Rgb(r, g, b, opacity) {\n  this.r = +r;\n  this.g = +g;\n  this.b = +b;\n  this.opacity = +opacity;\n}\n\ndefine(Rgb, rgb, extend(Color, {\n  brighter: function(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  darker: function(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  rgb: function() {\n    return this;\n  },\n  displayable: function() {\n    return (-0.5 <= this.r && this.r < 255.5)\n        && (-0.5 <= this.g && this.g < 255.5)\n        && (-0.5 <= this.b && this.b < 255.5)\n        && (0 <= this.opacity && this.opacity <= 1);\n  },\n  hex: rgb_formatHex, // Deprecated! Use color.formatHex.\n  formatHex: rgb_formatHex,\n  formatRgb: rgb_formatRgb,\n  toString: rgb_formatRgb\n}));\n\nfunction rgb_formatHex() {\n  return \"#\" + hex(this.r) + hex(this.g) + hex(this.b);\n}\n\nfunction rgb_formatRgb() {\n  var a = this.opacity; a = isNaN(a) ? 1 : Math.max(0, Math.min(1, a));\n  return (a === 1 ? \"rgb(\" : \"rgba(\")\n      + Math.max(0, Math.min(255, Math.round(this.r) || 0)) + \", \"\n      + Math.max(0, Math.min(255, Math.round(this.g) || 0)) + \", \"\n      + Math.max(0, Math.min(255, Math.round(this.b) || 0))\n      + (a === 1 ? \")\" : \", \" + a + \")\");\n}\n\nfunction hex(value) {\n  value = Math.max(0, Math.min(255, Math.round(value) || 0));\n  return (value < 16 ? \"0\" : \"\") + value.toString(16);\n}\n\nfunction hsla(h, s, l, a) {\n  if (a <= 0) h = s = l = NaN;\n  else if (l <= 0 || l >= 1) h = s = NaN;\n  else if (s <= 0) h = NaN;\n  return new Hsl(h, s, l, a);\n}\n\nexport function hslConvert(o) {\n  if (o instanceof Hsl) return new Hsl(o.h, o.s, o.l, o.opacity);\n  if (!(o instanceof Color)) o = color(o);\n  if (!o) return new Hsl;\n  if (o instanceof Hsl) return o;\n  o = o.rgb();\n  var r = o.r / 255,\n      g = o.g / 255,\n      b = o.b / 255,\n      min = Math.min(r, g, b),\n      max = Math.max(r, g, b),\n      h = NaN,\n      s = max - min,\n      l = (max + min) / 2;\n  if (s) {\n    if (r === max) h = (g - b) / s + (g < b) * 6;\n    else if (g === max) h = (b - r) / s + 2;\n    else h = (r - g) / s + 4;\n    s /= l < 0.5 ? max + min : 2 - max - min;\n    h *= 60;\n  } else {\n    s = l > 0 && l < 1 ? 0 : h;\n  }\n  return new Hsl(h, s, l, o.opacity);\n}\n\nexport function hsl(h, s, l, opacity) {\n  return arguments.length === 1 ? hslConvert(h) : new Hsl(h, s, l, opacity == null ? 1 : opacity);\n}\n\nfunction Hsl(h, s, l, opacity) {\n  this.h = +h;\n  this.s = +s;\n  this.l = +l;\n  this.opacity = +opacity;\n}\n\ndefine(Hsl, hsl, extend(Color, {\n  brighter: function(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  darker: function(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  rgb: function() {\n    var h = this.h % 360 + (this.h < 0) * 360,\n        s = isNaN(h) || isNaN(this.s) ? 0 : this.s,\n        l = this.l,\n        m2 = l + (l < 0.5 ? l : 1 - l) * s,\n        m1 = 2 * l - m2;\n    return new Rgb(\n      hsl2rgb(h >= 240 ? h - 240 : h + 120, m1, m2),\n      hsl2rgb(h, m1, m2),\n      hsl2rgb(h < 120 ? h + 240 : h - 120, m1, m2),\n      this.opacity\n    );\n  },\n  displayable: function() {\n    return (0 <= this.s && this.s <= 1 || isNaN(this.s))\n        && (0 <= this.l && this.l <= 1)\n        && (0 <= this.opacity && this.opacity <= 1);\n  },\n  formatHsl: function() {\n    var a = this.opacity; a = isNaN(a) ? 1 : Math.max(0, Math.min(1, a));\n    return (a === 1 ? \"hsl(\" : \"hsla(\")\n        + (this.h || 0) + \", \"\n        + (this.s || 0) * 100 + \"%, \"\n        + (this.l || 0) * 100 + \"%\"\n        + (a === 1 ? \")\" : \", \" + a + \")\");\n  }\n}));\n\n/* From FvD 13.37, CSS Color Module Level 3 */\nfunction hsl2rgb(h, m1, m2) {\n  return (h < 60 ? m1 + (m2 - m1) * h / 60\n      : h < 180 ? m2\n      : h < 240 ? m1 + (m2 - m1) * (240 - h) / 60\n      : m1) * 255;\n}\n","export default function(x) {\n  return function() {\n    return x;\n  };\n}\n","import constant from \"./constant.js\";\n\nfunction linear(a, d) {\n  return function(t) {\n    return a + t * d;\n  };\n}\n\nfunction exponential(a, b, y) {\n  return a = Math.pow(a, y), b = Math.pow(b, y) - a, y = 1 / y, function(t) {\n    return Math.pow(a + t * b, y);\n  };\n}\n\nexport function hue(a, b) {\n  var d = b - a;\n  return d ? linear(a, d > 180 || d < -180 ? d - 360 * Math.round(d / 360) : d) : constant(isNaN(a) ? b : a);\n}\n\nexport function gamma(y) {\n  return (y = +y) === 1 ? nogamma : function(a, b) {\n    return b - a ? exponential(a, b, y) : constant(isNaN(a) ? b : a);\n  };\n}\n\nexport default function nogamma(a, b) {\n  var d = b - a;\n  return d ? linear(a, d) : constant(isNaN(a) ? b : a);\n}\n","import {rgb as colorRgb} from \"d3-color\";\nimport basis from \"./basis.js\";\nimport basisClosed from \"./basisClosed.js\";\nimport nogamma, {gamma} from \"./color.js\";\n\nexport default (function rgbGamma(y) {\n  var color = gamma(y);\n\n  function rgb(start, end) {\n    var r = color((start = colorRgb(start)).r, (end = colorRgb(end)).r),\n        g = color(start.g, end.g),\n        b = color(start.b, end.b),\n        opacity = nogamma(start.opacity, end.opacity);\n    return function(t) {\n      start.r = r(t);\n      start.g = g(t);\n      start.b = b(t);\n      start.opacity = opacity(t);\n      return start + \"\";\n    };\n  }\n\n  rgb.gamma = rgbGamma;\n\n  return rgb;\n})(1);\n\nfunction rgbSpline(spline) {\n  return function(colors) {\n    var n = colors.length,\n        r = new Array(n),\n        g = new Array(n),\n        b = new Array(n),\n        i, color;\n    for (i = 0; i < n; ++i) {\n      color = colorRgb(colors[i]);\n      r[i] = color.r || 0;\n      g[i] = color.g || 0;\n      b[i] = color.b || 0;\n    }\n    r = spline(r);\n    g = spline(g);\n    b = spline(b);\n    color.opacity = 1;\n    return function(t) {\n      color.r = r(t);\n      color.g = g(t);\n      color.b = b(t);\n      return color + \"\";\n    };\n  };\n}\n\nexport var rgbBasis = rgbSpline(basis);\nexport var rgbBasisClosed = rgbSpline(basisClosed);\n","import value from \"./value.js\";\n\nexport default function(a, b) {\n  var nb = b ? b.length : 0,\n      na = a ? Math.min(nb, a.length) : 0,\n      x = new Array(na),\n      c = new Array(nb),\n      i;\n\n  for (i = 0; i < na; ++i) x[i] = value(a[i], b[i]);\n  for (; i < nb; ++i) c[i] = b[i];\n\n  return function(t) {\n    for (i = 0; i < na; ++i) c[i] = x[i](t);\n    return c;\n  };\n}\n","export default function(a, b) {\n  var d = new Date;\n  return a = +a, b -= a, function(t) {\n    return d.setTime(a + b * t), d;\n  };\n}\n","export default function(a, b) {\n  return a = +a, b -= a, function(t) {\n    return a + b * t;\n  };\n}\n","import value from \"./value.js\";\n\nexport default function(a, b) {\n  var i = {},\n      c = {},\n      k;\n\n  if (a === null || typeof a !== \"object\") a = {};\n  if (b === null || typeof b !== \"object\") b = {};\n\n  for (k in b) {\n    if (k in a) {\n      i[k] = value(a[k], b[k]);\n    } else {\n      c[k] = b[k];\n    }\n  }\n\n  return function(t) {\n    for (k in i) c[k] = i[k](t);\n    return c;\n  };\n}\n","import number from \"./number.js\";\n\nvar reA = /[-+]?(?:\\d+\\.?\\d*|\\.?\\d+)(?:[eE][-+]?\\d+)?/g,\n    reB = new RegExp(reA.source, \"g\");\n\nfunction zero(b) {\n  return function() {\n    return b;\n  };\n}\n\nfunction one(b) {\n  return function(t) {\n    return b(t) + \"\";\n  };\n}\n\nexport default function(a, b) {\n  var bi = reA.lastIndex = reB.lastIndex = 0, // scan index for next number in b\n      am, // current match in a\n      bm, // current match in b\n      bs, // string preceding current number in b, if any\n      i = -1, // index in s\n      s = [], // string constants and placeholders\n      q = []; // number interpolators\n\n  // Coerce inputs to strings.\n  a = a + \"\", b = b + \"\";\n\n  // Interpolate pairs of numbers in a & b.\n  while ((am = reA.exec(a))\n      && (bm = reB.exec(b))) {\n    if ((bs = bm.index) > bi) { // a string precedes the next number in b\n      bs = b.slice(bi, bs);\n      if (s[i]) s[i] += bs; // coalesce with previous string\n      else s[++i] = bs;\n    }\n    if ((am = am[0]) === (bm = bm[0])) { // numbers in a & b match\n      if (s[i]) s[i] += bm; // coalesce with previous string\n      else s[++i] = bm;\n    } else { // interpolate non-matching numbers\n      s[++i] = null;\n      q.push({i: i, x: number(am, bm)});\n    }\n    bi = reB.lastIndex;\n  }\n\n  // Add remains of b.\n  if (bi < b.length) {\n    bs = b.slice(bi);\n    if (s[i]) s[i] += bs; // coalesce with previous string\n    else s[++i] = bs;\n  }\n\n  // Special optimization for only a single match.\n  // Otherwise, interpolate each of the numbers and rejoin the string.\n  return s.length < 2 ? (q[0]\n      ? one(q[0].x)\n      : zero(b))\n      : (b = q.length, function(t) {\n          for (var i = 0, o; i < b; ++i) s[(o = q[i]).i] = o.x(t);\n          return s.join(\"\");\n        });\n}\n","import {color} from \"d3-color\";\nimport rgb from \"./rgb.js\";\nimport array from \"./array.js\";\nimport date from \"./date.js\";\nimport number from \"./number.js\";\nimport object from \"./object.js\";\nimport string from \"./string.js\";\nimport constant from \"./constant.js\";\n\nexport default function(a, b) {\n  var t = typeof b, c;\n  return b == null || t === \"boolean\" ? constant(b)\n      : (t === \"number\" ? number\n      : t === \"string\" ? ((c = color(b)) ? (b = c, rgb) : string)\n      : b instanceof color ? rgb\n      : b instanceof Date ? date\n      : Array.isArray(b) ? array\n      : typeof b.valueOf !== \"function\" && typeof b.toString !== \"function\" || isNaN(b) ? object\n      : number)(a, b);\n}\n","export default function(a, b) {\n  return a = +a, b -= a, function(t) {\n    return Math.round(a + b * t);\n  };\n}\n","export default function(x) {\n  return function() {\n    return x;\n  };\n}\n","export default function(x) {\n  return +x;\n}\n","import {bisect} from \"d3-array\";\nimport {interpolate as interpolateValue, interpolateNumber, interpolateRound} from \"d3-interpolate\";\nimport constant from \"./constant.js\";\nimport number from \"./number.js\";\n\nvar unit = [0, 1];\n\nexport function identity(x) {\n  return x;\n}\n\nfunction normalize(a, b) {\n  return (b -= (a = +a))\n      ? function(x) { return (x - a) / b; }\n      : constant(isNaN(b) ? NaN : 0.5);\n}\n\nfunction clamper(a, b) {\n  var t;\n  if (a > b) t = a, a = b, b = t;\n  return function(x) { return Math.max(a, Math.min(b, x)); };\n}\n\n// normalize(a, b)(x) takes a domain value x in [a,b] and returns the corresponding parameter t in [0,1].\n// interpolate(a, b)(t) takes a parameter t in [0,1] and returns the corresponding range value x in [a,b].\nfunction bimap(domain, range, interpolate) {\n  var d0 = domain[0], d1 = domain[1], r0 = range[0], r1 = range[1];\n  if (d1 < d0) d0 = normalize(d1, d0), r0 = interpolate(r1, r0);\n  else d0 = normalize(d0, d1), r0 = interpolate(r0, r1);\n  return function(x) { return r0(d0(x)); };\n}\n\nfunction polymap(domain, range, interpolate) {\n  var j = Math.min(domain.length, range.length) - 1,\n      d = new Array(j),\n      r = new Array(j),\n      i = -1;\n\n  // Reverse descending domains.\n  if (domain[j] < domain[0]) {\n    domain = domain.slice().reverse();\n    range = range.slice().reverse();\n  }\n\n  while (++i < j) {\n    d[i] = normalize(domain[i], domain[i + 1]);\n    r[i] = interpolate(range[i], range[i + 1]);\n  }\n\n  return function(x) {\n    var i = bisect(domain, x, 1, j) - 1;\n    return r[i](d[i](x));\n  };\n}\n\nexport function copy(source, target) {\n  return target\n      .domain(source.domain())\n      .range(source.range())\n      .interpolate(source.interpolate())\n      .clamp(source.clamp())\n      .unknown(source.unknown());\n}\n\nexport function transformer() {\n  var domain = unit,\n      range = unit,\n      interpolate = interpolateValue,\n      transform,\n      untransform,\n      unknown,\n      clamp = identity,\n      piecewise,\n      output,\n      input;\n\n  function rescale() {\n    var n = Math.min(domain.length, range.length);\n    if (clamp !== identity) clamp = clamper(domain[0], domain[n - 1]);\n    piecewise = n > 2 ? polymap : bimap;\n    output = input = null;\n    return scale;\n  }\n\n  function scale(x) {\n    return isNaN(x = +x) ? unknown : (output || (output = piecewise(domain.map(transform), range, interpolate)))(transform(clamp(x)));\n  }\n\n  scale.invert = function(y) {\n    return clamp(untransform((input || (input = piecewise(range, domain.map(transform), interpolateNumber)))(y)));\n  };\n\n  scale.domain = function(_) {\n    return arguments.length ? (domain = Array.from(_, number), rescale()) : domain.slice();\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? (range = Array.from(_), rescale()) : range.slice();\n  };\n\n  scale.rangeRound = function(_) {\n    return range = Array.from(_), interpolate = interpolateRound, rescale();\n  };\n\n  scale.clamp = function(_) {\n    return arguments.length ? (clamp = _ ? true : identity, rescale()) : clamp !== identity;\n  };\n\n  scale.interpolate = function(_) {\n    return arguments.length ? (interpolate = _, rescale()) : interpolate;\n  };\n\n  scale.unknown = function(_) {\n    return arguments.length ? (unknown = _, scale) : unknown;\n  };\n\n  return function(t, u) {\n    transform = t, untransform = u;\n    return rescale();\n  };\n}\n\nexport default function continuous() {\n  return transformer()(identity, identity);\n}\n","// Computes the decimal coefficient and exponent of the specified number x with\n// significant digits p, where x is positive and p is in [1, 21] or undefined.\n// For example, formatDecimal(1.23) returns [\"123\", 0].\nexport default function(x, p) {\n  if ((i = (x = p ? x.toExponential(p - 1) : x.toExponential()).indexOf(\"e\")) < 0) return null; // NaN, ±Infinity\n  var i, coefficient = x.slice(0, i);\n\n  // The string returned by toExponential either has the form \\d\\.\\d+e[-+]\\d+\n  // (e.g., 1.2e+3) or the form \\de[-+]\\d+ (e.g., 1e+3).\n  return [\n    coefficient.length > 1 ? coefficient[0] + coefficient.slice(2) : coefficient,\n    +x.slice(i + 1)\n  ];\n}\n","import formatDecimal from \"./formatDecimal.js\";\n\nexport default function(x) {\n  return x = formatDecimal(Math.abs(x)), x ? x[1] : NaN;\n}\n","export default function(grouping, thousands) {\n  return function(value, width) {\n    var i = value.length,\n        t = [],\n        j = 0,\n        g = grouping[0],\n        length = 0;\n\n    while (i > 0 && g > 0) {\n      if (length + g + 1 > width) g = Math.max(1, width - length);\n      t.push(value.substring(i -= g, i + g));\n      if ((length += g + 1) > width) break;\n      g = grouping[j = (j + 1) % grouping.length];\n    }\n\n    return t.reverse().join(thousands);\n  };\n}\n","export default function(numerals) {\n  return function(value) {\n    return value.replace(/[0-9]/g, function(i) {\n      return numerals[+i];\n    });\n  };\n}\n","// [[fill]align][sign][symbol][0][width][,][.precision][~][type]\nvar re = /^(?:(.)?([<>=^]))?([+\\-( ])?([$#])?(0)?(\\d+)?(,)?(\\.\\d+)?(~)?([a-z%])?$/i;\n\nexport default function formatSpecifier(specifier) {\n  if (!(match = re.exec(specifier))) throw new Error(\"invalid format: \" + specifier);\n  var match;\n  return new FormatSpecifier({\n    fill: match[1],\n    align: match[2],\n    sign: match[3],\n    symbol: match[4],\n    zero: match[5],\n    width: match[6],\n    comma: match[7],\n    precision: match[8] && match[8].slice(1),\n    trim: match[9],\n    type: match[10]\n  });\n}\n\nformatSpecifier.prototype = FormatSpecifier.prototype; // instanceof\n\nexport function FormatSpecifier(specifier) {\n  this.fill = specifier.fill === undefined ? \" \" : specifier.fill + \"\";\n  this.align = specifier.align === undefined ? \">\" : specifier.align + \"\";\n  this.sign = specifier.sign === undefined ? \"-\" : specifier.sign + \"\";\n  this.symbol = specifier.symbol === undefined ? \"\" : specifier.symbol + \"\";\n  this.zero = !!specifier.zero;\n  this.width = specifier.width === undefined ? undefined : +specifier.width;\n  this.comma = !!specifier.comma;\n  this.precision = specifier.precision === undefined ? undefined : +specifier.precision;\n  this.trim = !!specifier.trim;\n  this.type = specifier.type === undefined ? \"\" : specifier.type + \"\";\n}\n\nFormatSpecifier.prototype.toString = function() {\n  return this.fill\n      + this.align\n      + this.sign\n      + this.symbol\n      + (this.zero ? \"0\" : \"\")\n      + (this.width === undefined ? \"\" : Math.max(1, this.width | 0))\n      + (this.comma ? \",\" : \"\")\n      + (this.precision === undefined ? \"\" : \".\" + Math.max(0, this.precision | 0))\n      + (this.trim ? \"~\" : \"\")\n      + this.type;\n};\n","// Trims insignificant zeros, e.g., replaces 1.2000k with 1.2k.\nexport default function(s) {\n  out: for (var n = s.length, i = 1, i0 = -1, i1; i < n; ++i) {\n    switch (s[i]) {\n      case \".\": i0 = i1 = i; break;\n      case \"0\": if (i0 === 0) i0 = i; i1 = i; break;\n      default: if (i0 > 0) { if (!+s[i]) break out; i0 = 0; } break;\n    }\n  }\n  return i0 > 0 ? s.slice(0, i0) + s.slice(i1 + 1) : s;\n}\n","import formatDecimal from \"./formatDecimal.js\";\n\nexport var prefixExponent;\n\nexport default function(x, p) {\n  var d = formatDecimal(x, p);\n  if (!d) return x + \"\";\n  var coefficient = d[0],\n      exponent = d[1],\n      i = exponent - (prefixExponent = Math.max(-8, Math.min(8, Math.floor(exponent / 3))) * 3) + 1,\n      n = coefficient.length;\n  return i === n ? coefficient\n      : i > n ? coefficient + new Array(i - n + 1).join(\"0\")\n      : i > 0 ? coefficient.slice(0, i) + \".\" + coefficient.slice(i)\n      : \"0.\" + new Array(1 - i).join(\"0\") + formatDecimal(x, Math.max(0, p + i - 1))[0]; // less than 1y!\n}\n","import formatDecimal from \"./formatDecimal.js\";\n\nexport default function(x, p) {\n  var d = formatDecimal(x, p);\n  if (!d) return x + \"\";\n  var coefficient = d[0],\n      exponent = d[1];\n  return exponent < 0 ? \"0.\" + new Array(-exponent).join(\"0\") + coefficient\n      : coefficient.length > exponent + 1 ? coefficient.slice(0, exponent + 1) + \".\" + coefficient.slice(exponent + 1)\n      : coefficient + new Array(exponent - coefficient.length + 2).join(\"0\");\n}\n","import formatPrefixAuto from \"./formatPrefixAuto.js\";\nimport formatRounded from \"./formatRounded.js\";\n\nexport default {\n  \"%\": function(x, p) { return (x * 100).toFixed(p); },\n  \"b\": function(x) { return Math.round(x).toString(2); },\n  \"c\": function(x) { return x + \"\"; },\n  \"d\": function(x) { return Math.round(x).toString(10); },\n  \"e\": function(x, p) { return x.toExponential(p); },\n  \"f\": function(x, p) { return x.toFixed(p); },\n  \"g\": function(x, p) { return x.toPrecision(p); },\n  \"o\": function(x) { return Math.round(x).toString(8); },\n  \"p\": function(x, p) { return formatRounded(x * 100, p); },\n  \"r\": formatRounded,\n  \"s\": formatPrefixAuto,\n  \"X\": function(x) { return Math.round(x).toString(16).toUpperCase(); },\n  \"x\": function(x) { return Math.round(x).toString(16); }\n};\n","export default function(x) {\n  return x;\n}\n","import exponent from \"./exponent.js\";\nimport formatGroup from \"./formatGroup.js\";\nimport formatNumerals from \"./formatNumerals.js\";\nimport formatSpecifier from \"./formatSpecifier.js\";\nimport formatTrim from \"./formatTrim.js\";\nimport formatTypes from \"./formatTypes.js\";\nimport {prefixExponent} from \"./formatPrefixAuto.js\";\nimport identity from \"./identity.js\";\n\nvar map = Array.prototype.map,\n    prefixes = [\"y\",\"z\",\"a\",\"f\",\"p\",\"n\",\"µ\",\"m\",\"\",\"k\",\"M\",\"G\",\"T\",\"P\",\"E\",\"Z\",\"Y\"];\n\nexport default function(locale) {\n  var group = locale.grouping === undefined || locale.thousands === undefined ? identity : formatGroup(map.call(locale.grouping, Number), locale.thousands + \"\"),\n      currencyPrefix = locale.currency === undefined ? \"\" : locale.currency[0] + \"\",\n      currencySuffix = locale.currency === undefined ? \"\" : locale.currency[1] + \"\",\n      decimal = locale.decimal === undefined ? \".\" : locale.decimal + \"\",\n      numerals = locale.numerals === undefined ? identity : formatNumerals(map.call(locale.numerals, String)),\n      percent = locale.percent === undefined ? \"%\" : locale.percent + \"\",\n      minus = locale.minus === undefined ? \"-\" : locale.minus + \"\",\n      nan = locale.nan === undefined ? \"NaN\" : locale.nan + \"\";\n\n  function newFormat(specifier) {\n    specifier = formatSpecifier(specifier);\n\n    var fill = specifier.fill,\n        align = specifier.align,\n        sign = specifier.sign,\n        symbol = specifier.symbol,\n        zero = specifier.zero,\n        width = specifier.width,\n        comma = specifier.comma,\n        precision = specifier.precision,\n        trim = specifier.trim,\n        type = specifier.type;\n\n    // The \"n\" type is an alias for \",g\".\n    if (type === \"n\") comma = true, type = \"g\";\n\n    // The \"\" type, and any invalid type, is an alias for \".12~g\".\n    else if (!formatTypes[type]) precision === undefined && (precision = 12), trim = true, type = \"g\";\n\n    // If zero fill is specified, padding goes after sign and before digits.\n    if (zero || (fill === \"0\" && align === \"=\")) zero = true, fill = \"0\", align = \"=\";\n\n    // Compute the prefix and suffix.\n    // For SI-prefix, the suffix is lazily computed.\n    var prefix = symbol === \"$\" ? currencyPrefix : symbol === \"#\" && /[boxX]/.test(type) ? \"0\" + type.toLowerCase() : \"\",\n        suffix = symbol === \"$\" ? currencySuffix : /[%p]/.test(type) ? percent : \"\";\n\n    // What format function should we use?\n    // Is this an integer type?\n    // Can this type generate exponential notation?\n    var formatType = formatTypes[type],\n        maybeSuffix = /[defgprs%]/.test(type);\n\n    // Set the default precision if not specified,\n    // or clamp the specified precision to the supported range.\n    // For significant precision, it must be in [1, 21].\n    // For fixed precision, it must be in [0, 20].\n    precision = precision === undefined ? 6\n        : /[gprs]/.test(type) ? Math.max(1, Math.min(21, precision))\n        : Math.max(0, Math.min(20, precision));\n\n    function format(value) {\n      var valuePrefix = prefix,\n          valueSuffix = suffix,\n          i, n, c;\n\n      if (type === \"c\") {\n        valueSuffix = formatType(value) + valueSuffix;\n        value = \"\";\n      } else {\n        value = +value;\n\n        // Perform the initial formatting.\n        var valueNegative = value < 0;\n        value = isNaN(value) ? nan : formatType(Math.abs(value), precision);\n\n        // Trim insignificant zeros.\n        if (trim) value = formatTrim(value);\n\n        // If a negative value rounds to zero during formatting, treat as positive.\n        if (valueNegative && +value === 0) valueNegative = false;\n\n        // Compute the prefix and suffix.\n        valuePrefix = (valueNegative ? (sign === \"(\" ? sign : minus) : sign === \"-\" || sign === \"(\" ? \"\" : sign) + valuePrefix;\n\n        valueSuffix = (type === \"s\" ? prefixes[8 + prefixExponent / 3] : \"\") + valueSuffix + (valueNegative && sign === \"(\" ? \")\" : \"\");\n\n        // Break the formatted value into the integer “value” part that can be\n        // grouped, and fractional or exponential “suffix” part that is not.\n        if (maybeSuffix) {\n          i = -1, n = value.length;\n          while (++i < n) {\n            if (c = value.charCodeAt(i), 48 > c || c > 57) {\n              valueSuffix = (c === 46 ? decimal + value.slice(i + 1) : value.slice(i)) + valueSuffix;\n              value = value.slice(0, i);\n              break;\n            }\n          }\n        }\n      }\n\n      // If the fill character is not \"0\", grouping is applied before padding.\n      if (comma && !zero) value = group(value, Infinity);\n\n      // Compute the padding.\n      var length = valuePrefix.length + value.length + valueSuffix.length,\n          padding = length < width ? new Array(width - length + 1).join(fill) : \"\";\n\n      // If the fill character is \"0\", grouping is applied after padding.\n      if (comma && zero) value = group(padding + value, padding.length ? width - valueSuffix.length : Infinity), padding = \"\";\n\n      // Reconstruct the final output based on the desired alignment.\n      switch (align) {\n        case \"<\": value = valuePrefix + value + valueSuffix + padding; break;\n        case \"=\": value = valuePrefix + padding + value + valueSuffix; break;\n        case \"^\": value = padding.slice(0, length = padding.length >> 1) + valuePrefix + value + valueSuffix + padding.slice(length); break;\n        default: value = padding + valuePrefix + value + valueSuffix; break;\n      }\n\n      return numerals(value);\n    }\n\n    format.toString = function() {\n      return specifier + \"\";\n    };\n\n    return format;\n  }\n\n  function formatPrefix(specifier, value) {\n    var f = newFormat((specifier = formatSpecifier(specifier), specifier.type = \"f\", specifier)),\n        e = Math.max(-8, Math.min(8, Math.floor(exponent(value) / 3))) * 3,\n        k = Math.pow(10, -e),\n        prefix = prefixes[8 + e / 3];\n    return function(value) {\n      return f(k * value) + prefix;\n    };\n  }\n\n  return {\n    format: newFormat,\n    formatPrefix: formatPrefix\n  };\n}\n","import formatLocale from \"./locale.js\";\n\nvar locale;\nexport var format;\nexport var formatPrefix;\n\ndefaultLocale({\n  decimal: \".\",\n  thousands: \",\",\n  grouping: [3],\n  currency: [\"$\", \"\"],\n  minus: \"-\"\n});\n\nexport default function defaultLocale(definition) {\n  locale = formatLocale(definition);\n  format = locale.format;\n  formatPrefix = locale.formatPrefix;\n  return locale;\n}\n","import exponent from \"./exponent.js\";\n\nexport default function(step) {\n  return Math.max(0, -exponent(Math.abs(step)));\n}\n","import exponent from \"./exponent.js\";\n\nexport default function(step, value) {\n  return Math.max(0, Math.max(-8, Math.min(8, Math.floor(exponent(value) / 3))) * 3 - exponent(Math.abs(step)));\n}\n","import exponent from \"./exponent.js\";\n\nexport default function(step, max) {\n  step = Math.abs(step), max = Math.abs(max) - step;\n  return Math.max(0, exponent(max) - exponent(step)) + 1;\n}\n","import {tickStep} from \"d3-array\";\nimport {format, formatPrefix, formatSpecifier, precisionFixed, precisionPrefix, precisionRound} from \"d3-format\";\n\nexport default function(start, stop, count, specifier) {\n  var step = tickStep(start, stop, count),\n      precision;\n  specifier = formatSpecifier(specifier == null ? \",f\" : specifier);\n  switch (specifier.type) {\n    case \"s\": {\n      var value = Math.max(Math.abs(start), Math.abs(stop));\n      if (specifier.precision == null && !isNaN(precision = precisionPrefix(step, value))) specifier.precision = precision;\n      return formatPrefix(specifier, value);\n    }\n    case \"\":\n    case \"e\":\n    case \"g\":\n    case \"p\":\n    case \"r\": {\n      if (specifier.precision == null && !isNaN(precision = precisionRound(step, Math.max(Math.abs(start), Math.abs(stop))))) specifier.precision = precision - (specifier.type === \"e\");\n      break;\n    }\n    case \"f\":\n    case \"%\": {\n      if (specifier.precision == null && !isNaN(precision = precisionFixed(step))) specifier.precision = precision - (specifier.type === \"%\") * 2;\n      break;\n    }\n  }\n  return format(specifier);\n}\n","import {ticks, tickIncrement} from \"d3-array\";\nimport continuous, {copy} from \"./continuous.js\";\nimport {initRange} from \"./init.js\";\nimport tickFormat from \"./tickFormat.js\";\n\nexport function linearish(scale) {\n  var domain = scale.domain;\n\n  scale.ticks = function(count) {\n    var d = domain();\n    return ticks(d[0], d[d.length - 1], count == null ? 10 : count);\n  };\n\n  scale.tickFormat = function(count, specifier) {\n    var d = domain();\n    return tickFormat(d[0], d[d.length - 1], count == null ? 10 : count, specifier);\n  };\n\n  scale.nice = function(count) {\n    if (count == null) count = 10;\n\n    var d = domain(),\n        i0 = 0,\n        i1 = d.length - 1,\n        start = d[i0],\n        stop = d[i1],\n        step;\n\n    if (stop < start) {\n      step = start, start = stop, stop = step;\n      step = i0, i0 = i1, i1 = step;\n    }\n\n    step = tickIncrement(start, stop, count);\n\n    if (step > 0) {\n      start = Math.floor(start / step) * step;\n      stop = Math.ceil(stop / step) * step;\n      step = tickIncrement(start, stop, count);\n    } else if (step < 0) {\n      start = Math.ceil(start * step) / step;\n      stop = Math.floor(stop * step) / step;\n      step = tickIncrement(start, stop, count);\n    }\n\n    if (step > 0) {\n      d[i0] = Math.floor(start / step) * step;\n      d[i1] = Math.ceil(stop / step) * step;\n      domain(d);\n    } else if (step < 0) {\n      d[i0] = Math.ceil(start * step) / step;\n      d[i1] = Math.floor(stop * step) / step;\n      domain(d);\n    }\n\n    return scale;\n  };\n\n  return scale;\n}\n\nexport default function linear() {\n  var scale = continuous();\n\n  scale.copy = function() {\n    return copy(scale, linear());\n  };\n\n  initRange.apply(scale, arguments);\n\n  return linearish(scale);\n}\n","export default function(domain, interval) {\n  domain = domain.slice();\n\n  var i0 = 0,\n      i1 = domain.length - 1,\n      x0 = domain[i0],\n      x1 = domain[i1],\n      t;\n\n  if (x1 < x0) {\n    t = i0, i0 = i1, i1 = t;\n    t = x0, x0 = x1, x1 = t;\n  }\n\n  domain[i0] = interval.floor(x0);\n  domain[i1] = interval.ceil(x1);\n  return domain;\n}\n","import {ticks} from \"d3-array\";\nimport {format} from \"d3-format\";\nimport nice from \"./nice.js\";\nimport {copy, transformer} from \"./continuous.js\";\nimport {initRange} from \"./init.js\";\n\nfunction transformLog(x) {\n  return Math.log(x);\n}\n\nfunction transformExp(x) {\n  return Math.exp(x);\n}\n\nfunction transformLogn(x) {\n  return -Math.log(-x);\n}\n\nfunction transformExpn(x) {\n  return -Math.exp(-x);\n}\n\nfunction pow10(x) {\n  return isFinite(x) ? +(\"1e\" + x) : x < 0 ? 0 : x;\n}\n\nfunction powp(base) {\n  return base === 10 ? pow10\n      : base === Math.E ? Math.exp\n      : function(x) { return Math.pow(base, x); };\n}\n\nfunction logp(base) {\n  return base === Math.E ? Math.log\n      : base === 10 && Math.log10\n      || base === 2 && Math.log2\n      || (base = Math.log(base), function(x) { return Math.log(x) / base; });\n}\n\nfunction reflect(f) {\n  return function(x) {\n    return -f(-x);\n  };\n}\n\nexport function loggish(transform) {\n  var scale = transform(transformLog, transformExp),\n      domain = scale.domain,\n      base = 10,\n      logs,\n      pows;\n\n  function rescale() {\n    logs = logp(base), pows = powp(base);\n    if (domain()[0] < 0) {\n      logs = reflect(logs), pows = reflect(pows);\n      transform(transformLogn, transformExpn);\n    } else {\n      transform(transformLog, transformExp);\n    }\n    return scale;\n  }\n\n  scale.base = function(_) {\n    return arguments.length ? (base = +_, rescale()) : base;\n  };\n\n  scale.domain = function(_) {\n    return arguments.length ? (domain(_), rescale()) : domain();\n  };\n\n  scale.ticks = function(count) {\n    var d = domain(),\n        u = d[0],\n        v = d[d.length - 1],\n        r;\n\n    if (r = v < u) i = u, u = v, v = i;\n\n    var i = logs(u),\n        j = logs(v),\n        p,\n        k,\n        t,\n        n = count == null ? 10 : +count,\n        z = [];\n\n    if (!(base % 1) && j - i < n) {\n      i = Math.floor(i), j = Math.ceil(j);\n      if (u > 0) for (; i <= j; ++i) {\n        for (k = 1, p = pows(i); k < base; ++k) {\n          t = p * k;\n          if (t < u) continue;\n          if (t > v) break;\n          z.push(t);\n        }\n      } else for (; i <= j; ++i) {\n        for (k = base - 1, p = pows(i); k >= 1; --k) {\n          t = p * k;\n          if (t < u) continue;\n          if (t > v) break;\n          z.push(t);\n        }\n      }\n      if (!z.length) z = ticks(u, v, n);\n    } else {\n      z = ticks(i, j, Math.min(j - i, n)).map(pows);\n    }\n\n    return r ? z.reverse() : z;\n  };\n\n  scale.tickFormat = function(count, specifier) {\n    if (specifier == null) specifier = base === 10 ? \".0e\" : \",\";\n    if (typeof specifier !== \"function\") specifier = format(specifier);\n    if (count === Infinity) return specifier;\n    if (count == null) count = 10;\n    var k = Math.max(1, base * count / scale.ticks().length); // TODO fast estimate?\n    return function(d) {\n      var i = d / pows(Math.round(logs(d)));\n      if (i * base < base - 0.5) i *= base;\n      return i <= k ? specifier(d) : \"\";\n    };\n  };\n\n  scale.nice = function() {\n    return domain(nice(domain(), {\n      floor: function(x) { return pows(Math.floor(logs(x))); },\n      ceil: function(x) { return pows(Math.ceil(logs(x))); }\n    }));\n  };\n\n  return scale;\n}\n\nexport default function log() {\n  var scale = loggish(transformer()).domain([1, 10]);\n\n  scale.copy = function() {\n    return copy(scale, log()).base(scale.base());\n  };\n\n  initRange.apply(scale, arguments);\n\n  return scale;\n}\n","var t0 = new Date,\n    t1 = new Date;\n\nexport default function newInterval(floori, offseti, count, field) {\n\n  function interval(date) {\n    return floori(date = arguments.length === 0 ? new Date : new Date(+date)), date;\n  }\n\n  interval.floor = function(date) {\n    return floori(date = new Date(+date)), date;\n  };\n\n  interval.ceil = function(date) {\n    return floori(date = new Date(date - 1)), offseti(date, 1), floori(date), date;\n  };\n\n  interval.round = function(date) {\n    var d0 = interval(date),\n        d1 = interval.ceil(date);\n    return date - d0 < d1 - date ? d0 : d1;\n  };\n\n  interval.offset = function(date, step) {\n    return offseti(date = new Date(+date), step == null ? 1 : Math.floor(step)), date;\n  };\n\n  interval.range = function(start, stop, step) {\n    var range = [], previous;\n    start = interval.ceil(start);\n    step = step == null ? 1 : Math.floor(step);\n    if (!(start < stop) || !(step > 0)) return range; // also handles Invalid Date\n    do range.push(previous = new Date(+start)), offseti(start, step), floori(start);\n    while (previous < start && start < stop);\n    return range;\n  };\n\n  interval.filter = function(test) {\n    return newInterval(function(date) {\n      if (date >= date) while (floori(date), !test(date)) date.setTime(date - 1);\n    }, function(date, step) {\n      if (date >= date) {\n        if (step < 0) while (++step <= 0) {\n          while (offseti(date, -1), !test(date)) {} // eslint-disable-line no-empty\n        } else while (--step >= 0) {\n          while (offseti(date, +1), !test(date)) {} // eslint-disable-line no-empty\n        }\n      }\n    });\n  };\n\n  if (count) {\n    interval.count = function(start, end) {\n      t0.setTime(+start), t1.setTime(+end);\n      floori(t0), floori(t1);\n      return Math.floor(count(t0, t1));\n    };\n\n    interval.every = function(step) {\n      step = Math.floor(step);\n      return !isFinite(step) || !(step > 0) ? null\n          : !(step > 1) ? interval\n          : interval.filter(field\n              ? function(d) { return field(d) % step === 0; }\n              : function(d) { return interval.count(0, d) % step === 0; });\n    };\n  }\n\n  return interval;\n}\n","import interval from \"./interval.js\";\n\nvar millisecond = interval(function() {\n  // noop\n}, function(date, step) {\n  date.setTime(+date + step);\n}, function(start, end) {\n  return end - start;\n});\n\n// An optimized implementation for this simple case.\nmillisecond.every = function(k) {\n  k = Math.floor(k);\n  if (!isFinite(k) || !(k > 0)) return null;\n  if (!(k > 1)) return millisecond;\n  return interval(function(date) {\n    date.setTime(Math.floor(date / k) * k);\n  }, function(date, step) {\n    date.setTime(+date + step * k);\n  }, function(start, end) {\n    return (end - start) / k;\n  });\n};\n\nexport default millisecond;\nexport var milliseconds = millisecond.range;\n","export var durationSecond = 1e3;\nexport var durationMinute = 6e4;\nexport var durationHour = 36e5;\nexport var durationDay = 864e5;\nexport var durationWeek = 6048e5;\n","import interval from \"./interval.js\";\nimport {durationSecond} from \"./duration.js\";\n\nvar second = interval(function(date) {\n  date.setTime(date - date.getMilliseconds());\n}, function(date, step) {\n  date.setTime(+date + step * durationSecond);\n}, function(start, end) {\n  return (end - start) / durationSecond;\n}, function(date) {\n  return date.getUTCSeconds();\n});\n\nexport default second;\nexport var seconds = second.range;\n","import interval from \"./interval.js\";\nimport {durationMinute, durationSecond} from \"./duration.js\";\n\nvar minute = interval(function(date) {\n  date.setTime(date - date.getMilliseconds() - date.getSeconds() * durationSecond);\n}, function(date, step) {\n  date.setTime(+date + step * durationMinute);\n}, function(start, end) {\n  return (end - start) / durationMinute;\n}, function(date) {\n  return date.getMinutes();\n});\n\nexport default minute;\nexport var minutes = minute.range;\n","import interval from \"./interval.js\";\nimport {durationHour, durationMinute, durationSecond} from \"./duration.js\";\n\nvar hour = interval(function(date) {\n  date.setTime(date - date.getMilliseconds() - date.getSeconds() * durationSecond - date.getMinutes() * durationMinute);\n}, function(date, step) {\n  date.setTime(+date + step * durationHour);\n}, function(start, end) {\n  return (end - start) / durationHour;\n}, function(date) {\n  return date.getHours();\n});\n\nexport default hour;\nexport var hours = hour.range;\n","import interval from \"./interval.js\";\nimport {durationDay, durationMinute} from \"./duration.js\";\n\nvar day = interval(function(date) {\n  date.setHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setDate(date.getDate() + step);\n}, function(start, end) {\n  return (end - start - (end.getTimezoneOffset() - start.getTimezoneOffset()) * durationMinute) / durationDay;\n}, function(date) {\n  return date.getDate() - 1;\n});\n\nexport default day;\nexport var days = day.range;\n","import interval from \"./interval.js\";\nimport {durationMinute, durationWeek} from \"./duration.js\";\n\nfunction weekday(i) {\n  return interval(function(date) {\n    date.setDate(date.getDate() - (date.getDay() + 7 - i) % 7);\n    date.setHours(0, 0, 0, 0);\n  }, function(date, step) {\n    date.setDate(date.getDate() + step * 7);\n  }, function(start, end) {\n    return (end - start - (end.getTimezoneOffset() - start.getTimezoneOffset()) * durationMinute) / durationWeek;\n  });\n}\n\nexport var sunday = weekday(0);\nexport var monday = weekday(1);\nexport var tuesday = weekday(2);\nexport var wednesday = weekday(3);\nexport var thursday = weekday(4);\nexport var friday = weekday(5);\nexport var saturday = weekday(6);\n\nexport var sundays = sunday.range;\nexport var mondays = monday.range;\nexport var tuesdays = tuesday.range;\nexport var wednesdays = wednesday.range;\nexport var thursdays = thursday.range;\nexport var fridays = friday.range;\nexport var saturdays = saturday.range;\n","import interval from \"./interval.js\";\n\nvar month = interval(function(date) {\n  date.setDate(1);\n  date.setHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setMonth(date.getMonth() + step);\n}, function(start, end) {\n  return end.getMonth() - start.getMonth() + (end.getFullYear() - start.getFullYear()) * 12;\n}, function(date) {\n  return date.getMonth();\n});\n\nexport default month;\nexport var months = month.range;\n","import interval from \"./interval.js\";\n\nvar year = interval(function(date) {\n  date.setMonth(0, 1);\n  date.setHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setFullYear(date.getFullYear() + step);\n}, function(start, end) {\n  return end.getFullYear() - start.getFullYear();\n}, function(date) {\n  return date.getFullYear();\n});\n\n// An optimized implementation for this simple case.\nyear.every = function(k) {\n  return !isFinite(k = Math.floor(k)) || !(k > 0) ? null : interval(function(date) {\n    date.setFullYear(Math.floor(date.getFullYear() / k) * k);\n    date.setMonth(0, 1);\n    date.setHours(0, 0, 0, 0);\n  }, function(date, step) {\n    date.setFullYear(date.getFullYear() + step * k);\n  });\n};\n\nexport default year;\nexport var years = year.range;\n","import interval from \"./interval.js\";\nimport {durationMinute} from \"./duration.js\";\n\nvar utcMinute = interval(function(date) {\n  date.setUTCSeconds(0, 0);\n}, function(date, step) {\n  date.setTime(+date + step * durationMinute);\n}, function(start, end) {\n  return (end - start) / durationMinute;\n}, function(date) {\n  return date.getUTCMinutes();\n});\n\nexport default utcMinute;\nexport var utcMinutes = utcMinute.range;\n","import interval from \"./interval.js\";\nimport {durationHour} from \"./duration.js\";\n\nvar utcHour = interval(function(date) {\n  date.setUTCMinutes(0, 0, 0);\n}, function(date, step) {\n  date.setTime(+date + step * durationHour);\n}, function(start, end) {\n  return (end - start) / durationHour;\n}, function(date) {\n  return date.getUTCHours();\n});\n\nexport default utcHour;\nexport var utcHours = utcHour.range;\n","import interval from \"./interval.js\";\nimport {durationDay} from \"./duration.js\";\n\nvar utcDay = interval(function(date) {\n  date.setUTCHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setUTCDate(date.getUTCDate() + step);\n}, function(start, end) {\n  return (end - start) / durationDay;\n}, function(date) {\n  return date.getUTCDate() - 1;\n});\n\nexport default utcDay;\nexport var utcDays = utcDay.range;\n","import interval from \"./interval.js\";\nimport {durationWeek} from \"./duration.js\";\n\nfunction utcWeekday(i) {\n  return interval(function(date) {\n    date.setUTCDate(date.getUTCDate() - (date.getUTCDay() + 7 - i) % 7);\n    date.setUTCHours(0, 0, 0, 0);\n  }, function(date, step) {\n    date.setUTCDate(date.getUTCDate() + step * 7);\n  }, function(start, end) {\n    return (end - start) / durationWeek;\n  });\n}\n\nexport var utcSunday = utcWeekday(0);\nexport var utcMonday = utcWeekday(1);\nexport var utcTuesday = utcWeekday(2);\nexport var utcWednesday = utcWeekday(3);\nexport var utcThursday = utcWeekday(4);\nexport var utcFriday = utcWeekday(5);\nexport var utcSaturday = utcWeekday(6);\n\nexport var utcSundays = utcSunday.range;\nexport var utcMondays = utcMonday.range;\nexport var utcTuesdays = utcTuesday.range;\nexport var utcWednesdays = utcWednesday.range;\nexport var utcThursdays = utcThursday.range;\nexport var utcFridays = utcFriday.range;\nexport var utcSaturdays = utcSaturday.range;\n","import interval from \"./interval.js\";\n\nvar utcMonth = interval(function(date) {\n  date.setUTCDate(1);\n  date.setUTCHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setUTCMonth(date.getUTCMonth() + step);\n}, function(start, end) {\n  return end.getUTCMonth() - start.getUTCMonth() + (end.getUTCFullYear() - start.getUTCFullYear()) * 12;\n}, function(date) {\n  return date.getUTCMonth();\n});\n\nexport default utcMonth;\nexport var utcMonths = utcMonth.range;\n","import interval from \"./interval.js\";\n\nvar utcYear = interval(function(date) {\n  date.setUTCMonth(0, 1);\n  date.setUTCHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setUTCFullYear(date.getUTCFullYear() + step);\n}, function(start, end) {\n  return end.getUTCFullYear() - start.getUTCFullYear();\n}, function(date) {\n  return date.getUTCFullYear();\n});\n\n// An optimized implementation for this simple case.\nutcYear.every = function(k) {\n  return !isFinite(k = Math.floor(k)) || !(k > 0) ? null : interval(function(date) {\n    date.setUTCFullYear(Math.floor(date.getUTCFullYear() / k) * k);\n    date.setUTCMonth(0, 1);\n    date.setUTCHours(0, 0, 0, 0);\n  }, function(date, step) {\n    date.setUTCFullYear(date.getUTCFullYear() + step * k);\n  });\n};\n\nexport default utcYear;\nexport var utcYears = utcYear.range;\n","import {\n  timeDay,\n  timeSunday,\n  timeMonday,\n  timeThursday,\n  timeYear,\n  utcDay,\n  utcSunday,\n  utcMonday,\n  utcThursday,\n  utcYear\n} from \"d3-time\";\n\nfunction localDate(d) {\n  if (0 <= d.y && d.y < 100) {\n    var date = new Date(-1, d.m, d.d, d.H, d.M, d.S, d.L);\n    date.setFullYear(d.y);\n    return date;\n  }\n  return new Date(d.y, d.m, d.d, d.H, d.M, d.S, d.L);\n}\n\nfunction utcDate(d) {\n  if (0 <= d.y && d.y < 100) {\n    var date = new Date(Date.UTC(-1, d.m, d.d, d.H, d.M, d.S, d.L));\n    date.setUTCFullYear(d.y);\n    return date;\n  }\n  return new Date(Date.UTC(d.y, d.m, d.d, d.H, d.M, d.S, d.L));\n}\n\nfunction newDate(y, m, d) {\n  return {y: y, m: m, d: d, H: 0, M: 0, S: 0, L: 0};\n}\n\nexport default function formatLocale(locale) {\n  var locale_dateTime = locale.dateTime,\n      locale_date = locale.date,\n      locale_time = locale.time,\n      locale_periods = locale.periods,\n      locale_weekdays = locale.days,\n      locale_shortWeekdays = locale.shortDays,\n      locale_months = locale.months,\n      locale_shortMonths = locale.shortMonths;\n\n  var periodRe = formatRe(locale_periods),\n      periodLookup = formatLookup(locale_periods),\n      weekdayRe = formatRe(locale_weekdays),\n      weekdayLookup = formatLookup(locale_weekdays),\n      shortWeekdayRe = formatRe(locale_shortWeekdays),\n      shortWeekdayLookup = formatLookup(locale_shortWeekdays),\n      monthRe = formatRe(locale_months),\n      monthLookup = formatLookup(locale_months),\n      shortMonthRe = formatRe(locale_shortMonths),\n      shortMonthLookup = formatLookup(locale_shortMonths);\n\n  var formats = {\n    \"a\": formatShortWeekday,\n    \"A\": formatWeekday,\n    \"b\": formatShortMonth,\n    \"B\": formatMonth,\n    \"c\": null,\n    \"d\": formatDayOfMonth,\n    \"e\": formatDayOfMonth,\n    \"f\": formatMicroseconds,\n    \"H\": formatHour24,\n    \"I\": formatHour12,\n    \"j\": formatDayOfYear,\n    \"L\": formatMilliseconds,\n    \"m\": formatMonthNumber,\n    \"M\": formatMinutes,\n    \"p\": formatPeriod,\n    \"q\": formatQuarter,\n    \"Q\": formatUnixTimestamp,\n    \"s\": formatUnixTimestampSeconds,\n    \"S\": formatSeconds,\n    \"u\": formatWeekdayNumberMonday,\n    \"U\": formatWeekNumberSunday,\n    \"V\": formatWeekNumberISO,\n    \"w\": formatWeekdayNumberSunday,\n    \"W\": formatWeekNumberMonday,\n    \"x\": null,\n    \"X\": null,\n    \"y\": formatYear,\n    \"Y\": formatFullYear,\n    \"Z\": formatZone,\n    \"%\": formatLiteralPercent\n  };\n\n  var utcFormats = {\n    \"a\": formatUTCShortWeekday,\n    \"A\": formatUTCWeekday,\n    \"b\": formatUTCShortMonth,\n    \"B\": formatUTCMonth,\n    \"c\": null,\n    \"d\": formatUTCDayOfMonth,\n    \"e\": formatUTCDayOfMonth,\n    \"f\": formatUTCMicroseconds,\n    \"H\": formatUTCHour24,\n    \"I\": formatUTCHour12,\n    \"j\": formatUTCDayOfYear,\n    \"L\": formatUTCMilliseconds,\n    \"m\": formatUTCMonthNumber,\n    \"M\": formatUTCMinutes,\n    \"p\": formatUTCPeriod,\n    \"q\": formatUTCQuarter,\n    \"Q\": formatUnixTimestamp,\n    \"s\": formatUnixTimestampSeconds,\n    \"S\": formatUTCSeconds,\n    \"u\": formatUTCWeekdayNumberMonday,\n    \"U\": formatUTCWeekNumberSunday,\n    \"V\": formatUTCWeekNumberISO,\n    \"w\": formatUTCWeekdayNumberSunday,\n    \"W\": formatUTCWeekNumberMonday,\n    \"x\": null,\n    \"X\": null,\n    \"y\": formatUTCYear,\n    \"Y\": formatUTCFullYear,\n    \"Z\": formatUTCZone,\n    \"%\": formatLiteralPercent\n  };\n\n  var parses = {\n    \"a\": parseShortWeekday,\n    \"A\": parseWeekday,\n    \"b\": parseShortMonth,\n    \"B\": parseMonth,\n    \"c\": parseLocaleDateTime,\n    \"d\": parseDayOfMonth,\n    \"e\": parseDayOfMonth,\n    \"f\": parseMicroseconds,\n    \"H\": parseHour24,\n    \"I\": parseHour24,\n    \"j\": parseDayOfYear,\n    \"L\": parseMilliseconds,\n    \"m\": parseMonthNumber,\n    \"M\": parseMinutes,\n    \"p\": parsePeriod,\n    \"q\": parseQuarter,\n    \"Q\": parseUnixTimestamp,\n    \"s\": parseUnixTimestampSeconds,\n    \"S\": parseSeconds,\n    \"u\": parseWeekdayNumberMonday,\n    \"U\": parseWeekNumberSunday,\n    \"V\": parseWeekNumberISO,\n    \"w\": parseWeekdayNumberSunday,\n    \"W\": parseWeekNumberMonday,\n    \"x\": parseLocaleDate,\n    \"X\": parseLocaleTime,\n    \"y\": parseYear,\n    \"Y\": parseFullYear,\n    \"Z\": parseZone,\n    \"%\": parseLiteralPercent\n  };\n\n  // These recursive directive definitions must be deferred.\n  formats.x = newFormat(locale_date, formats);\n  formats.X = newFormat(locale_time, formats);\n  formats.c = newFormat(locale_dateTime, formats);\n  utcFormats.x = newFormat(locale_date, utcFormats);\n  utcFormats.X = newFormat(locale_time, utcFormats);\n  utcFormats.c = newFormat(locale_dateTime, utcFormats);\n\n  function newFormat(specifier, formats) {\n    return function(date) {\n      var string = [],\n          i = -1,\n          j = 0,\n          n = specifier.length,\n          c,\n          pad,\n          format;\n\n      if (!(date instanceof Date)) date = new Date(+date);\n\n      while (++i < n) {\n        if (specifier.charCodeAt(i) === 37) {\n          string.push(specifier.slice(j, i));\n          if ((pad = pads[c = specifier.charAt(++i)]) != null) c = specifier.charAt(++i);\n          else pad = c === \"e\" ? \" \" : \"0\";\n          if (format = formats[c]) c = format(date, pad);\n          string.push(c);\n          j = i + 1;\n        }\n      }\n\n      string.push(specifier.slice(j, i));\n      return string.join(\"\");\n    };\n  }\n\n  function newParse(specifier, Z) {\n    return function(string) {\n      var d = newDate(1900, undefined, 1),\n          i = parseSpecifier(d, specifier, string += \"\", 0),\n          week, day;\n      if (i != string.length) return null;\n\n      // If a UNIX timestamp is specified, return it.\n      if (\"Q\" in d) return new Date(d.Q);\n      if (\"s\" in d) return new Date(d.s * 1000 + (\"L\" in d ? d.L : 0));\n\n      // If this is utcParse, never use the local timezone.\n      if (Z && !(\"Z\" in d)) d.Z = 0;\n\n      // The am-pm flag is 0 for AM, and 1 for PM.\n      if (\"p\" in d) d.H = d.H % 12 + d.p * 12;\n\n      // If the month was not specified, inherit from the quarter.\n      if (d.m === undefined) d.m = \"q\" in d ? d.q : 0;\n\n      // Convert day-of-week and week-of-year to day-of-year.\n      if (\"V\" in d) {\n        if (d.V < 1 || d.V > 53) return null;\n        if (!(\"w\" in d)) d.w = 1;\n        if (\"Z\" in d) {\n          week = utcDate(newDate(d.y, 0, 1)), day = week.getUTCDay();\n          week = day > 4 || day === 0 ? utcMonday.ceil(week) : utcMonday(week);\n          week = utcDay.offset(week, (d.V - 1) * 7);\n          d.y = week.getUTCFullYear();\n          d.m = week.getUTCMonth();\n          d.d = week.getUTCDate() + (d.w + 6) % 7;\n        } else {\n          week = localDate(newDate(d.y, 0, 1)), day = week.getDay();\n          week = day > 4 || day === 0 ? timeMonday.ceil(week) : timeMonday(week);\n          week = timeDay.offset(week, (d.V - 1) * 7);\n          d.y = week.getFullYear();\n          d.m = week.getMonth();\n          d.d = week.getDate() + (d.w + 6) % 7;\n        }\n      } else if (\"W\" in d || \"U\" in d) {\n        if (!(\"w\" in d)) d.w = \"u\" in d ? d.u % 7 : \"W\" in d ? 1 : 0;\n        day = \"Z\" in d ? utcDate(newDate(d.y, 0, 1)).getUTCDay() : localDate(newDate(d.y, 0, 1)).getDay();\n        d.m = 0;\n        d.d = \"W\" in d ? (d.w + 6) % 7 + d.W * 7 - (day + 5) % 7 : d.w + d.U * 7 - (day + 6) % 7;\n      }\n\n      // If a time zone is specified, all fields are interpreted as UTC and then\n      // offset according to the specified time zone.\n      if (\"Z\" in d) {\n        d.H += d.Z / 100 | 0;\n        d.M += d.Z % 100;\n        return utcDate(d);\n      }\n\n      // Otherwise, all fields are in local time.\n      return localDate(d);\n    };\n  }\n\n  function parseSpecifier(d, specifier, string, j) {\n    var i = 0,\n        n = specifier.length,\n        m = string.length,\n        c,\n        parse;\n\n    while (i < n) {\n      if (j >= m) return -1;\n      c = specifier.charCodeAt(i++);\n      if (c === 37) {\n        c = specifier.charAt(i++);\n        parse = parses[c in pads ? specifier.charAt(i++) : c];\n        if (!parse || ((j = parse(d, string, j)) < 0)) return -1;\n      } else if (c != string.charCodeAt(j++)) {\n        return -1;\n      }\n    }\n\n    return j;\n  }\n\n  function parsePeriod(d, string, i) {\n    var n = periodRe.exec(string.slice(i));\n    return n ? (d.p = periodLookup[n[0].toLowerCase()], i + n[0].length) : -1;\n  }\n\n  function parseShortWeekday(d, string, i) {\n    var n = shortWeekdayRe.exec(string.slice(i));\n    return n ? (d.w = shortWeekdayLookup[n[0].toLowerCase()], i + n[0].length) : -1;\n  }\n\n  function parseWeekday(d, string, i) {\n    var n = weekdayRe.exec(string.slice(i));\n    return n ? (d.w = weekdayLookup[n[0].toLowerCase()], i + n[0].length) : -1;\n  }\n\n  function parseShortMonth(d, string, i) {\n    var n = shortMonthRe.exec(string.slice(i));\n    return n ? (d.m = shortMonthLookup[n[0].toLowerCase()], i + n[0].length) : -1;\n  }\n\n  function parseMonth(d, string, i) {\n    var n = monthRe.exec(string.slice(i));\n    return n ? (d.m = monthLookup[n[0].toLowerCase()], i + n[0].length) : -1;\n  }\n\n  function parseLocaleDateTime(d, string, i) {\n    return parseSpecifier(d, locale_dateTime, string, i);\n  }\n\n  function parseLocaleDate(d, string, i) {\n    return parseSpecifier(d, locale_date, string, i);\n  }\n\n  function parseLocaleTime(d, string, i) {\n    return parseSpecifier(d, locale_time, string, i);\n  }\n\n  function formatShortWeekday(d) {\n    return locale_shortWeekdays[d.getDay()];\n  }\n\n  function formatWeekday(d) {\n    return locale_weekdays[d.getDay()];\n  }\n\n  function formatShortMonth(d) {\n    return locale_shortMonths[d.getMonth()];\n  }\n\n  function formatMonth(d) {\n    return locale_months[d.getMonth()];\n  }\n\n  function formatPeriod(d) {\n    return locale_periods[+(d.getHours() >= 12)];\n  }\n\n  function formatQuarter(d) {\n    return 1 + ~~(d.getMonth() / 3);\n  }\n\n  function formatUTCShortWeekday(d) {\n    return locale_shortWeekdays[d.getUTCDay()];\n  }\n\n  function formatUTCWeekday(d) {\n    return locale_weekdays[d.getUTCDay()];\n  }\n\n  function formatUTCShortMonth(d) {\n    return locale_shortMonths[d.getUTCMonth()];\n  }\n\n  function formatUTCMonth(d) {\n    return locale_months[d.getUTCMonth()];\n  }\n\n  function formatUTCPeriod(d) {\n    return locale_periods[+(d.getUTCHours() >= 12)];\n  }\n\n  function formatUTCQuarter(d) {\n    return 1 + ~~(d.getUTCMonth() / 3);\n  }\n\n  return {\n    format: function(specifier) {\n      var f = newFormat(specifier += \"\", formats);\n      f.toString = function() { return specifier; };\n      return f;\n    },\n    parse: function(specifier) {\n      var p = newParse(specifier += \"\", false);\n      p.toString = function() { return specifier; };\n      return p;\n    },\n    utcFormat: function(specifier) {\n      var f = newFormat(specifier += \"\", utcFormats);\n      f.toString = function() { return specifier; };\n      return f;\n    },\n    utcParse: function(specifier) {\n      var p = newParse(specifier += \"\", true);\n      p.toString = function() { return specifier; };\n      return p;\n    }\n  };\n}\n\nvar pads = {\"-\": \"\", \"_\": \" \", \"0\": \"0\"},\n    numberRe = /^\\s*\\d+/, // note: ignores next directive\n    percentRe = /^%/,\n    requoteRe = /[\\\\^$*+?|[\\]().{}]/g;\n\nfunction pad(value, fill, width) {\n  var sign = value < 0 ? \"-\" : \"\",\n      string = (sign ? -value : value) + \"\",\n      length = string.length;\n  return sign + (length < width ? new Array(width - length + 1).join(fill) + string : string);\n}\n\nfunction requote(s) {\n  return s.replace(requoteRe, \"\\\\$&\");\n}\n\nfunction formatRe(names) {\n  return new RegExp(\"^(?:\" + names.map(requote).join(\"|\") + \")\", \"i\");\n}\n\nfunction formatLookup(names) {\n  var map = {}, i = -1, n = names.length;\n  while (++i < n) map[names[i].toLowerCase()] = i;\n  return map;\n}\n\nfunction parseWeekdayNumberSunday(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 1));\n  return n ? (d.w = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseWeekdayNumberMonday(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 1));\n  return n ? (d.u = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseWeekNumberSunday(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.U = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseWeekNumberISO(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.V = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseWeekNumberMonday(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.W = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseFullYear(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 4));\n  return n ? (d.y = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseYear(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.y = +n[0] + (+n[0] > 68 ? 1900 : 2000), i + n[0].length) : -1;\n}\n\nfunction parseZone(d, string, i) {\n  var n = /^(Z)|([+-]\\d\\d)(?::?(\\d\\d))?/.exec(string.slice(i, i + 6));\n  return n ? (d.Z = n[1] ? 0 : -(n[2] + (n[3] || \"00\")), i + n[0].length) : -1;\n}\n\nfunction parseQuarter(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 1));\n  return n ? (d.q = n[0] * 3 - 3, i + n[0].length) : -1;\n}\n\nfunction parseMonthNumber(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.m = n[0] - 1, i + n[0].length) : -1;\n}\n\nfunction parseDayOfMonth(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.d = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseDayOfYear(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 3));\n  return n ? (d.m = 0, d.d = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseHour24(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.H = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseMinutes(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.M = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseSeconds(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.S = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseMilliseconds(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 3));\n  return n ? (d.L = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseMicroseconds(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 6));\n  return n ? (d.L = Math.floor(n[0] / 1000), i + n[0].length) : -1;\n}\n\nfunction parseLiteralPercent(d, string, i) {\n  var n = percentRe.exec(string.slice(i, i + 1));\n  return n ? i + n[0].length : -1;\n}\n\nfunction parseUnixTimestamp(d, string, i) {\n  var n = numberRe.exec(string.slice(i));\n  return n ? (d.Q = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseUnixTimestampSeconds(d, string, i) {\n  var n = numberRe.exec(string.slice(i));\n  return n ? (d.s = +n[0], i + n[0].length) : -1;\n}\n\nfunction formatDayOfMonth(d, p) {\n  return pad(d.getDate(), p, 2);\n}\n\nfunction formatHour24(d, p) {\n  return pad(d.getHours(), p, 2);\n}\n\nfunction formatHour12(d, p) {\n  return pad(d.getHours() % 12 || 12, p, 2);\n}\n\nfunction formatDayOfYear(d, p) {\n  return pad(1 + timeDay.count(timeYear(d), d), p, 3);\n}\n\nfunction formatMilliseconds(d, p) {\n  return pad(d.getMilliseconds(), p, 3);\n}\n\nfunction formatMicroseconds(d, p) {\n  return formatMilliseconds(d, p) + \"000\";\n}\n\nfunction formatMonthNumber(d, p) {\n  return pad(d.getMonth() + 1, p, 2);\n}\n\nfunction formatMinutes(d, p) {\n  return pad(d.getMinutes(), p, 2);\n}\n\nfunction formatSeconds(d, p) {\n  return pad(d.getSeconds(), p, 2);\n}\n\nfunction formatWeekdayNumberMonday(d) {\n  var day = d.getDay();\n  return day === 0 ? 7 : day;\n}\n\nfunction formatWeekNumberSunday(d, p) {\n  return pad(timeSunday.count(timeYear(d) - 1, d), p, 2);\n}\n\nfunction formatWeekNumberISO(d, p) {\n  var day = d.getDay();\n  d = (day >= 4 || day === 0) ? timeThursday(d) : timeThursday.ceil(d);\n  return pad(timeThursday.count(timeYear(d), d) + (timeYear(d).getDay() === 4), p, 2);\n}\n\nfunction formatWeekdayNumberSunday(d) {\n  return d.getDay();\n}\n\nfunction formatWeekNumberMonday(d, p) {\n  return pad(timeMonday.count(timeYear(d) - 1, d), p, 2);\n}\n\nfunction formatYear(d, p) {\n  return pad(d.getFullYear() % 100, p, 2);\n}\n\nfunction formatFullYear(d, p) {\n  return pad(d.getFullYear() % 10000, p, 4);\n}\n\nfunction formatZone(d) {\n  var z = d.getTimezoneOffset();\n  return (z > 0 ? \"-\" : (z *= -1, \"+\"))\n      + pad(z / 60 | 0, \"0\", 2)\n      + pad(z % 60, \"0\", 2);\n}\n\nfunction formatUTCDayOfMonth(d, p) {\n  return pad(d.getUTCDate(), p, 2);\n}\n\nfunction formatUTCHour24(d, p) {\n  return pad(d.getUTCHours(), p, 2);\n}\n\nfunction formatUTCHour12(d, p) {\n  return pad(d.getUTCHours() % 12 || 12, p, 2);\n}\n\nfunction formatUTCDayOfYear(d, p) {\n  return pad(1 + utcDay.count(utcYear(d), d), p, 3);\n}\n\nfunction formatUTCMilliseconds(d, p) {\n  return pad(d.getUTCMilliseconds(), p, 3);\n}\n\nfunction formatUTCMicroseconds(d, p) {\n  return formatUTCMilliseconds(d, p) + \"000\";\n}\n\nfunction formatUTCMonthNumber(d, p) {\n  return pad(d.getUTCMonth() + 1, p, 2);\n}\n\nfunction formatUTCMinutes(d, p) {\n  return pad(d.getUTCMinutes(), p, 2);\n}\n\nfunction formatUTCSeconds(d, p) {\n  return pad(d.getUTCSeconds(), p, 2);\n}\n\nfunction formatUTCWeekdayNumberMonday(d) {\n  var dow = d.getUTCDay();\n  return dow === 0 ? 7 : dow;\n}\n\nfunction formatUTCWeekNumberSunday(d, p) {\n  return pad(utcSunday.count(utcYear(d) - 1, d), p, 2);\n}\n\nfunction formatUTCWeekNumberISO(d, p) {\n  var day = d.getUTCDay();\n  d = (day >= 4 || day === 0) ? utcThursday(d) : utcThursday.ceil(d);\n  return pad(utcThursday.count(utcYear(d), d) + (utcYear(d).getUTCDay() === 4), p, 2);\n}\n\nfunction formatUTCWeekdayNumberSunday(d) {\n  return d.getUTCDay();\n}\n\nfunction formatUTCWeekNumberMonday(d, p) {\n  return pad(utcMonday.count(utcYear(d) - 1, d), p, 2);\n}\n\nfunction formatUTCYear(d, p) {\n  return pad(d.getUTCFullYear() % 100, p, 2);\n}\n\nfunction formatUTCFullYear(d, p) {\n  return pad(d.getUTCFullYear() % 10000, p, 4);\n}\n\nfunction formatUTCZone() {\n  return \"+0000\";\n}\n\nfunction formatLiteralPercent() {\n  return \"%\";\n}\n\nfunction formatUnixTimestamp(d) {\n  return +d;\n}\n\nfunction formatUnixTimestampSeconds(d) {\n  return Math.floor(+d / 1000);\n}\n","import formatLocale from \"./locale.js\";\n\nvar locale;\nexport var timeFormat;\nexport var timeParse;\nexport var utcFormat;\nexport var utcParse;\n\ndefaultLocale({\n  dateTime: \"%x, %X\",\n  date: \"%-m/%-d/%Y\",\n  time: \"%-I:%M:%S %p\",\n  periods: [\"AM\", \"PM\"],\n  days: [\"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\"],\n  shortDays: [\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\"],\n  months: [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"],\n  shortMonths: [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"]\n});\n\nexport default function defaultLocale(definition) {\n  locale = formatLocale(definition);\n  timeFormat = locale.format;\n  timeParse = locale.parse;\n  utcFormat = locale.utcFormat;\n  utcParse = locale.utcParse;\n  return locale;\n}\n","import {bisector, tickStep} from \"d3-array\";\nimport {timeYear, timeMonth, timeWeek, timeDay, timeHour, timeMinute, timeSecond, timeMillisecond} from \"d3-time\";\nimport {timeFormat} from \"d3-time-format\";\nimport continuous, {copy} from \"./continuous.js\";\nimport {initRange} from \"./init.js\";\nimport nice from \"./nice.js\";\n\nvar durationSecond = 1000,\n    durationMinute = durationSecond * 60,\n    durationHour = durationMinute * 60,\n    durationDay = durationHour * 24,\n    durationWeek = durationDay * 7,\n    durationMonth = durationDay * 30,\n    durationYear = durationDay * 365;\n\nfunction date(t) {\n  return new Date(t);\n}\n\nfunction number(t) {\n  return t instanceof Date ? +t : +new Date(+t);\n}\n\nexport function calendar(year, month, week, day, hour, minute, second, millisecond, format) {\n  var scale = continuous(),\n      invert = scale.invert,\n      domain = scale.domain;\n\n  var formatMillisecond = format(\".%L\"),\n      formatSecond = format(\":%S\"),\n      formatMinute = format(\"%I:%M\"),\n      formatHour = format(\"%I %p\"),\n      formatDay = format(\"%a %d\"),\n      formatWeek = format(\"%b %d\"),\n      formatMonth = format(\"%B\"),\n      formatYear = format(\"%Y\");\n\n  var tickIntervals = [\n    [second,  1,      durationSecond],\n    [second,  5,  5 * durationSecond],\n    [second, 15, 15 * durationSecond],\n    [second, 30, 30 * durationSecond],\n    [minute,  1,      durationMinute],\n    [minute,  5,  5 * durationMinute],\n    [minute, 15, 15 * durationMinute],\n    [minute, 30, 30 * durationMinute],\n    [  hour,  1,      durationHour  ],\n    [  hour,  3,  3 * durationHour  ],\n    [  hour,  6,  6 * durationHour  ],\n    [  hour, 12, 12 * durationHour  ],\n    [   day,  1,      durationDay   ],\n    [   day,  2,  2 * durationDay   ],\n    [  week,  1,      durationWeek  ],\n    [ month,  1,      durationMonth ],\n    [ month,  3,  3 * durationMonth ],\n    [  year,  1,      durationYear  ]\n  ];\n\n  function tickFormat(date) {\n    return (second(date) < date ? formatMillisecond\n        : minute(date) < date ? formatSecond\n        : hour(date) < date ? formatMinute\n        : day(date) < date ? formatHour\n        : month(date) < date ? (week(date) < date ? formatDay : formatWeek)\n        : year(date) < date ? formatMonth\n        : formatYear)(date);\n  }\n\n  function tickInterval(interval, start, stop) {\n    if (interval == null) interval = 10;\n\n    // If a desired tick count is specified, pick a reasonable tick interval\n    // based on the extent of the domain and a rough estimate of tick size.\n    // Otherwise, assume interval is already a time interval and use it.\n    if (typeof interval === \"number\") {\n      var target = Math.abs(stop - start) / interval,\n          i = bisector(function(i) { return i[2]; }).right(tickIntervals, target),\n          step;\n      if (i === tickIntervals.length) {\n        step = tickStep(start / durationYear, stop / durationYear, interval);\n        interval = year;\n      } else if (i) {\n        i = tickIntervals[target / tickIntervals[i - 1][2] < tickIntervals[i][2] / target ? i - 1 : i];\n        step = i[1];\n        interval = i[0];\n      } else {\n        step = Math.max(tickStep(start, stop, interval), 1);\n        interval = millisecond;\n      }\n      return interval.every(step);\n    }\n\n    return interval;\n  }\n\n  scale.invert = function(y) {\n    return new Date(invert(y));\n  };\n\n  scale.domain = function(_) {\n    return arguments.length ? domain(Array.from(_, number)) : domain().map(date);\n  };\n\n  scale.ticks = function(interval) {\n    var d = domain(),\n        t0 = d[0],\n        t1 = d[d.length - 1],\n        r = t1 < t0,\n        t;\n    if (r) t = t0, t0 = t1, t1 = t;\n    t = tickInterval(interval, t0, t1);\n    t = t ? t.range(t0, t1 + 1) : []; // inclusive stop\n    return r ? t.reverse() : t;\n  };\n\n  scale.tickFormat = function(count, specifier) {\n    return specifier == null ? tickFormat : format(specifier);\n  };\n\n  scale.nice = function(interval) {\n    var d = domain();\n    return (interval = tickInterval(interval, d[0], d[d.length - 1]))\n        ? domain(nice(d, interval))\n        : scale;\n  };\n\n  scale.copy = function() {\n    return copy(scale, calendar(year, month, week, day, hour, minute, second, millisecond, format));\n  };\n\n  return scale;\n}\n\nexport default function() {\n  return initRange.apply(calendar(timeYear, timeMonth, timeWeek, timeDay, timeHour, timeMinute, timeSecond, timeMillisecond, timeFormat).domain([new Date(2000, 0, 1), new Date(2000, 0, 2)]), arguments);\n}\n","import {calendar} from \"./time.js\";\nimport {utcFormat} from \"d3-time-format\";\nimport {utcYear, utcMonth, utcWeek, utcDay, utcHour, utcMinute, utcSecond, utcMillisecond} from \"d3-time\";\nimport {initRange} from \"./init.js\";\n\nexport default function() {\n  return initRange.apply(calendar(utcYear, utcMonth, utcWeek, utcDay, utcHour, utcMinute, utcSecond, utcMillisecond, utcFormat).domain([Date.UTC(2000, 0, 1), Date.UTC(2000, 0, 2)]), arguments);\n}\n","import {\n  scaleLinear,\n  scaleLog,\n  scaleTime,\n  scaleUtc,\n  scaleBand\n} from \"d3-scale\";\n//\nimport {\n  positionTop,\n  positionRight,\n  positionBottom,\n  positionLeft,\n  axisTypeOrdinal,\n  axisTypeTime,\n  axisTypeUtc,\n  axisTypeLinear,\n  axisTypeLog\n} from \"../utils/Constants.js\";\nimport Utils from \"../utils/Utils\";\n\nimport Bar from \"../seriesTypes/Bar\";\n\nconst scales = {\n  [axisTypeLinear]: scaleLinear,\n  [axisTypeLog]: scaleLog,\n  [axisTypeTime]: scaleTime,\n  [axisTypeUtc]: scaleUtc,\n  [axisTypeOrdinal]: scaleBand\n};\n\nconst detectVertical = d => [positionLeft, positionRight].indexOf(d) > -1;\nconst detectRTL = d => [positionTop, positionRight].indexOf(d) > -1;\n\nexport default function buildAxisLinear({\n  axis: {\n    primary,\n    type,\n    invert,\n    position,\n    primaryAxisID,\n    min: userMin = undefined,\n    max: userMax = undefined,\n    hardMin = undefined,\n    hardMax = undefined,\n    base = undefined,\n    tickCount = \"auto\",\n    minTickCount = 0,\n    maxTickCount = Infinity,\n    tickValues = null,\n    format: userFormat = null,\n    tickSizeInner = 6,\n    tickSizeOuter = 6,\n    tickPadding = 14,\n    maxLabelRotation = 50,\n    labelRotationStep = 5,\n    innerPadding = 0.2,\n    outerPadding = 0.1,\n    showGrid = null,\n    showTicks = true,\n    show = true,\n    stacked = false,\n    id: userID\n  },\n  materializedData,\n  gridHeight,\n  gridWidth,\n  axisDimensions\n}) {\n  if (!position) {\n    throw new Error(`Chart axes must have a valid 'position' property`);\n  }\n  // Detect some settings\n  const valueKey = primary ? \"primary\" : \"secondary\";\n  const groupKey = !primary && \"primary\";\n  const AxisIDKey = `${valueKey}AxisID`;\n  const vertical = detectVertical(position);\n  const RTL = detectRTL(position); // Right to left OR top to bottom\n\n  const id = userID || `${position}_${type}`;\n\n  // TODO: Any sorting needs to happen here, else the min/max's might not line up correctly\n\n  // First we need to find unique values, min/max values and negative/positive totals\n  const uniqueVals = [];\n  let min;\n  let max;\n  let negativeTotalByKey = {};\n  let positiveTotalByKey = {};\n  let domain;\n\n  const axisDimension =\n    axisDimensions && axisDimensions[position] && axisDimensions[position][id];\n\n  // Loop through each series\n  for (\n    let seriesIndex = 0;\n    seriesIndex < materializedData.length;\n    seriesIndex++\n  ) {\n    if (\n      materializedData[seriesIndex][AxisIDKey] &&\n      materializedData[seriesIndex][AxisIDKey] !== id\n    ) {\n      continue;\n    }\n    // Loop through each datum\n    for (\n      let datumIndex = 0;\n      datumIndex < materializedData[seriesIndex].datums.length;\n      datumIndex++\n    ) {\n      const datum = materializedData[seriesIndex].datums[datumIndex];\n      let value;\n      const key = groupKey ? datum[groupKey] : datumIndex;\n      // For ordinal scales, unique the values\n      if (type === axisTypeOrdinal) {\n        if (uniqueVals.indexOf() === -1) {\n          uniqueVals.push(\n            materializedData[seriesIndex].datums[datumIndex][valueKey]\n          );\n        }\n      } else if (type === axisTypeTime || type === axisTypeUtc) {\n        value = +datum[valueKey];\n      } else {\n        value = datum[valueKey];\n      }\n\n      // Add to stack total\n      if (stacked) {\n        if (value > 0) {\n          positiveTotalByKey[key] =\n            typeof positiveTotalByKey[key] !== \"undefined\"\n              ? positiveTotalByKey[key] + value\n              : value;\n        } else {\n          negativeTotalByKey[key] =\n            typeof negativeTotalByKey[key] !== \"undefined\"\n              ? negativeTotalByKey[key] + value\n              : value;\n        }\n      } else {\n        // Find min/max\n        min = typeof min !== \"undefined\" ? Math.min(min, value) : value;\n        max = typeof max !== \"undefined\" ? Math.max(max, value) : value;\n      }\n    }\n  }\n\n  if (type === axisTypeOrdinal) {\n    domain = uniqueVals;\n  } else if (stacked) {\n    domain = [\n      Math.min(0, ...Object.values(negativeTotalByKey)),\n      Math.max(0, ...Object.values(positiveTotalByKey))\n    ];\n  } else {\n    domain = [min, max];\n  }\n\n  // Now we need to figure out the range\n  let range = [0, vertical ? gridHeight : gridWidth]; // axes by default read from top to bottom and left to right\n  if (vertical && !primary) {\n    // Vertical secondary ranges get inverted by default\n    range.reverse();\n  }\n\n  // Give the scale a home\n  let scale;\n\n  // If this is an ordinal or other primary axis, it needs to be able to display bars.\n  let bandScale;\n  let barSize = 0;\n  let cursorSize = 0;\n  let stepSize = 0;\n\n  let seriesBandScale = d => d;\n  let seriesBarSize = 1;\n\n  if (type === axisTypeOrdinal || primary) {\n    // Calculate a band axis that is similar and pass down the bandwidth\n    // just in case.\n    bandScale = scaleBand()\n      .domain(\n        materializedData\n          .reduce(\n            (prev, current) =>\n              current.datums.length > prev.length ? current.datums : prev,\n            []\n          )\n          .map(d => d.primary)\n      )\n      .rangeRound(range, 0.1)\n      .padding(0);\n\n    bandScale.paddingOuter(outerPadding).paddingInner(innerPadding);\n    barSize = bandScale.bandwidth();\n\n    if (type === axisTypeOrdinal) {\n      cursorSize = barSize;\n    }\n\n    // barSize = bandScale.bandwidth()\n    stepSize = bandScale.step();\n\n    // Create a seriesBandScale in case this axis isn't stacked\n    seriesBandScale = scaleBand()\n      .paddingInner(innerPadding / 2)\n      .domain(\n        materializedData.filter(d => d.Component === Bar).map((d, i) => i)\n      )\n      .rangeRound([0, barSize]);\n\n    seriesBarSize = seriesBandScale.bandwidth();\n  }\n\n  if (type === axisTypeOrdinal) {\n    // If it's ordinal, just assign the bandScale we made\n    scale = bandScale;\n  } else {\n    // Otherwise, create a new scale of the appropriate type\n    scale = scales[type]();\n  }\n\n  // Set base, min, and max\n  if (typeof base === \"number\") {\n    domain[0] = Math.min(domain[0], base);\n    domain[1] = Math.max(domain[1], base);\n  }\n  if (typeof defaultMin === \"number\") {\n    domain[0] = Math.min(domain[0], userMin);\n  }\n  if (typeof defaultMax === \"number\") {\n    domain[1] = Math.max(domain[1], userMax);\n  }\n\n  // Set the domain\n  scale.domain(domain);\n\n  // If we're not using an ordinal scale, round the ticks to \"nice\" values\n  if (type !== axisTypeOrdinal) {\n    scale.nice();\n  }\n\n  // If hard min and max are set, override any \"nice\" rounding values\n  if (typeof hardMin === \"number\") {\n    scale.domain([hardMin, scale.domain()[1]]);\n  }\n  if (typeof hardMax === \"number\") {\n    scale.domain([scale.domain()[0], hardMax]);\n  }\n\n  // Invert if necessary\n  if (invert) {\n    scale.domain([...scale.domain()].reverse());\n  }\n\n  // Now set the range\n  scale.range(range);\n\n  const scaleFormat = scale.tickFormat ? scale.tickFormat() : Utils.identity\n\n  const format = userFormat ? (...args) => userFormat(scaleFormat(...args)) : scaleFormat\n\n  // Pass down the axis config (including the scale itself) for posterity\n  const axis = {\n    id,\n    primary,\n    type,\n    invert,\n    position,\n    primaryAxisID,\n    hardMin,\n    hardMax,\n    base,\n    tickCount,\n    minTickCount,\n    maxTickCount,\n    tickValues,\n    tickSizeInner,\n    tickSizeOuter,\n    tickPadding,\n    maxLabelRotation,\n    labelRotationStep,\n    innerPadding,\n    outerPadding,\n    showGrid,\n    showTicks,\n    show,\n    stacked,\n    scale,\n    uniqueVals,\n    vertical,\n    RTL,\n    barSize,\n    cursorSize,\n    stepSize,\n    seriesBandScale,\n    seriesBarSize,\n    domain,\n    range,\n    max:\n      position === positionBottom\n        ? -gridHeight\n        : position === positionLeft\n        ? gridWidth\n        : position === positionTop\n        ? gridHeight\n        : -gridWidth,\n    directionMultiplier:\n      position === positionTop || position === positionLeft ? -1 : 1,\n    transform: !vertical ? Utils.translateX : Utils.translateY,\n    ticks:\n      tickValues || scale.ticks\n        ? scale.ticks(\n            tickCount === \"auto\"\n              ? axisDimension\n                ? axisDimension.tickCount\n                : 10\n              : tickCount\n          )\n        : scale.domain(),\n    format,\n    spacing: Math.max(tickSizeInner, 0) + tickPadding\n  };\n\n  if (type === axisTypeOrdinal) {\n    axis.gridOffset = -(axis.stepSize * innerPadding) / 2;\n    axis.tickOffset = axis.barSize / 2;\n    axis.barOffset = 0;\n  } else {\n    axis.tickOffset = 0;\n    axis.barOffset = -axis.barSize / 2;\n  }\n\n  return axis;\n}\n","// import buildAxisPie from './buildAxis.pie'\nimport buildAxisLinear from \"./buildAxis.linear\";\n\nexport default function(config) {\n  // if (config.type === 'pie') {\n  // return buildAxisPie(config)\n  // }\n  return buildAxisLinear(config);\n}\n","import React from 'react'\nimport PropTypes from 'prop-types'\n//\nimport buildAxis from '../../utils/buildAxis'\n\nimport {\n  axisTypeOrdinal,\n  axisTypeTime,\n  axisTypeUtc,\n  axisTypeLinear,\n  axisTypeLog,\n  positionTop,\n  positionRight,\n  positionBottom,\n  positionLeft\n} from '../../utils/Constants'\n\nexport const axisShape = PropTypes.shape({\n  primary: PropTypes.bool,\n  type: PropTypes.oneOf([\n    axisTypeOrdinal,\n    axisTypeTime,\n    axisTypeUtc,\n    axisTypeLinear,\n    axisTypeLog\n  ]).isRequired,\n  invert: PropTypes.bool,\n  position: PropTypes.oneOf([\n    positionTop,\n    positionRight,\n    positionBottom,\n    positionLeft\n  ]),\n  primaryAxisID: PropTypes.any,\n  min: PropTypes.any,\n  max: PropTypes.any,\n  hardMin: PropTypes.any,\n  hardMax: PropTypes.any,\n  base: PropTypes.any,\n  ticks: PropTypes.any,\n  tickValues: PropTypes.any,\n  format: PropTypes.func,\n  tickSizeInner: PropTypes.number,\n  tickSizeOuter: PropTypes.number,\n  tickPadding: PropTypes.number,\n  maxLabelRotation: PropTypes.number,\n  innerPadding: PropTypes.number,\n  outerPadding: PropTypes.number,\n  showGrid: PropTypes.bool,\n  showTicks: PropTypes.bool,\n  show: PropTypes.bool,\n  stacked: PropTypes.bool,\n  id: PropTypes.any\n})\n\nexport default ({\n  axes,\n  materializedData,\n  gridHeight,\n  gridWidth,\n  axisDimensions\n}) => {\n  // Detect axes changes and build axes\n  let prePrimaryAxes = axes.filter(d => d.primary)\n  let preSecondaryAxes = axes.filter(d => !d.primary)\n\n  const primaryAxesHashes = JSON.stringify(prePrimaryAxes)\n  const secondaryAxesHashes = JSON.stringify(preSecondaryAxes)\n\n  // Calculate primary axes\n  const primaryAxes = React.useMemo(\n    () => {\n      return prePrimaryAxes.map((axis, i) => {\n        return buildAxis({\n          axis,\n          materializedData,\n          gridWidth,\n          gridHeight,\n          axisDimensions\n        })\n      })\n    },\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    [primaryAxesHashes, materializedData, gridHeight, gridWidth]\n  )\n  // Calculate secondary axes\n  const secondaryAxes = React.useMemo(\n    () => {\n      return preSecondaryAxes.map((axis, i) => {\n        return buildAxis({\n          axis,\n          primaryAxes,\n          materializedData,\n          gridWidth,\n          gridHeight,\n          axisDimensions\n        })\n      })\n    },\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    [secondaryAxesHashes, materializedData, gridHeight, gridWidth]\n  )\n\n  // Make sure we're mapping x and y to the correct axes\n  const xKey = primaryAxes.find(d => d.vertical) ? 'secondary' : 'primary'\n  const yKey = primaryAxes.find(d => d.vertical) ? 'primary' : 'secondary'\n  const xAxes = primaryAxes.find(d => d.vertical) ? secondaryAxes : primaryAxes\n  const yAxes = primaryAxes.find(d => d.vertical) ? primaryAxes : secondaryAxes\n\n  return {\n    primaryAxes,\n    secondaryAxes,\n    xKey,\n    yKey,\n    xAxes,\n    yAxes\n  }\n}\n","import React from 'react'\n//\nimport Utils from '../../utils/Utils'\n\nimport {\n  groupingSingle,\n  groupingSeries,\n  groupingPrimary,\n  groupingSecondary\n} from '../../utils/Constants'\n\nconst defaultColors = [\n  '#4ab5eb',\n  '#fc6868',\n  '#DECF3F',\n  '#60BD68',\n  '#FAA43A',\n  '#c63b89',\n  '#1aaabe',\n  '#734fe9',\n  '#1828bd',\n  '#cd82ad'\n]\n\nexport default ({\n  materializedData,\n  primaryAxes,\n  secondaryAxes,\n  yAxes,\n  yKey,\n  xAxes,\n  xKey,\n  grouping\n}) => {\n  // Make stackData\n  return React.useMemo(() => {\n    // We need materializedData and both axes to continue\n    if (!primaryAxes.length || !secondaryAxes.length) {\n      throw new Error('A primary and secondary axis is required!')\n    }\n\n    // If the axes are ready, let's decorate the materializedData for visual plotting\n    // \"totals\" are kept per secondaryAxis and used for bases if secondaryAxis stacking is enabled\n    const scaleTotals = secondaryAxes.map(() => ({}))\n    materializedData.forEach(series => {\n      const axisIndex = Utils.getAxisIndexByAxisID(\n        secondaryAxes,\n        series.secondaryAxisID\n      )\n      series.datums.forEach(datum => {\n        scaleTotals[axisIndex][datum.primary] = {\n          negative: 0,\n          positive: 0\n        }\n      })\n    })\n\n    // Determine the correct primary and secondary values for each axis\n    // Also calculate bases and totals if either axis is stacked\n    let stackData = materializedData.map(series => {\n      const primaryAxisIndex = Utils.getAxisIndexByAxisID(\n        primaryAxes,\n        series.primaryAxisID\n      )\n      const primaryAxis = primaryAxes[primaryAxisIndex]\n      const secondaryAxisIndex = Utils.getAxisIndexByAxisID(\n        secondaryAxes,\n        series.secondaryAxisID\n      )\n      const secondaryAxis = secondaryAxes[secondaryAxisIndex]\n      return {\n        ...series,\n        primaryAxis,\n        secondaryAxis,\n        datums: series.datums.map(d => {\n          const datum = {\n            ...d,\n            primaryAxis,\n            secondaryAxis,\n            xValue: d[xKey],\n            yValue: d[yKey],\n            baseValue: 0\n          }\n          if (secondaryAxis.stacked) {\n            const start = scaleTotals[secondaryAxisIndex][d.primary]\n            // Stack the x or y values (according to axis positioning)\n            if (primaryAxis.vertical) {\n              // Is this a valid point?\n              const validPoint = Utils.isValidPoint(datum.xValue)\n              // Should we use positive or negative base?\n              const totalKey = datum.xValue >= 0 ? 'positive' : 'negative'\n              // Assign the base\n              datum.baseValue = start[totalKey]\n              // Add the value for a total\n              datum.totalValue =\n                datum.baseValue + (validPoint ? datum.xValue : 0)\n              // Update the totals\n              scaleTotals[secondaryAxisIndex][d.primary][totalKey] =\n                datum.totalValue\n              // Make the total the new value\n              datum.xValue = validPoint ? datum.totalValue : null\n            } else {\n              // Is this a valid point?\n              const validPoint = Utils.isValidPoint(datum.yValue)\n              // Should we use positive or negative base?\n              const totalKey = datum.yValue >= 0 ? 'positive' : 'negative'\n              // Assign the base\n              datum.baseValue = start[totalKey]\n              // Add the value to the base\n              datum.totalValue =\n                datum.baseValue + (validPoint ? datum.yValue : 0)\n              // Update the totals\n              scaleTotals[secondaryAxisIndex][d.primary][totalKey] =\n                datum.totalValue\n              // Make the total the new value\n              datum.yValue = validPoint ? datum.totalValue : null\n            }\n          }\n          return datum\n        })\n      }\n    })\n\n    stackData.forEach(series => {\n      series.datums.forEach(datum => {\n        datum.series = series\n      })\n    })\n\n    // Use the plotDatum method on each series\n    stackData.forEach((series, i) => {\n      if (!series.Component.plotDatum) {\n        throw new Error(\n          `Could not find a [SeriesType].plotDatum() static method for the series Component above (index: ${i})`\n        )\n      }\n\n      const primaryAxisIndex = Utils.getAxisIndexByAxisID(\n        primaryAxes,\n        series.primaryAxisID\n      )\n      const secondaryAxisIndex = Utils.getAxisIndexByAxisID(\n        secondaryAxes,\n        series.secondaryAxisID\n      )\n\n      const primaryAxis = primaryAxes[primaryAxisIndex]\n      const secondaryAxis = secondaryAxes[secondaryAxisIndex]\n\n      const xAxisIndex = Utils.getAxisIndexByAxisID(\n        xAxes,\n        series[`${xKey}AxisID`]\n      )\n      const yAxisIndex = Utils.getAxisIndexByAxisID(\n        yAxes,\n        series[`${yKey}AxisID`]\n      )\n\n      const xAxis = xAxes[xAxisIndex]\n      const yAxis = yAxes[yAxisIndex]\n\n      series.datums = series.datums.map(d => {\n        // Data for cartesian charts\n        const result = series.Component.plotDatum(d, {\n          primaryAxis,\n          secondaryAxis,\n          xAxis,\n          yAxis\n        })\n\n        return result || d\n      })\n    })\n\n    // Do any data grouping ahead of time using\n    if ([groupingSingle, groupingSeries].includes(grouping)) {\n      for (let seriesIndex = 0; seriesIndex < stackData.length; seriesIndex++) {\n        const series = stackData[seriesIndex]\n        for (\n          let datumIndex = 0;\n          datumIndex < series.datums.length;\n          datumIndex++\n        ) {\n          const datum = series.datums[datumIndex]\n          datum.group =\n            grouping === groupingSeries ? datum.series.datums : [datum]\n        }\n      }\n    } else if ([groupingPrimary, groupingSecondary].includes(grouping)) {\n      const datumsByGrouping = {}\n\n      for (let seriesIndex = 0; seriesIndex < stackData.length; seriesIndex++) {\n        const series = stackData[seriesIndex]\n\n        for (\n          let datumIndex = 0;\n          datumIndex < series.datums.length;\n          datumIndex++\n        ) {\n          const datum = series.datums[datumIndex]\n          if (!datum.defined) {\n            continue\n          }\n          const axisKey = String(\n            grouping === groupingPrimary ? datum.primary : datum.secondary\n          )\n\n          datumsByGrouping[axisKey] = datumsByGrouping[axisKey] || []\n          datumsByGrouping[axisKey].push(datum)\n        }\n      }\n\n      for (let seriesIndex = 0; seriesIndex < stackData.length; seriesIndex++) {\n        const series = stackData[seriesIndex]\n        for (\n          let datumIndex = 0;\n          datumIndex < series.datums.length;\n          datumIndex++\n        ) {\n          const datum = series.datums[datumIndex]\n          const axisKey = String(\n            grouping === groupingPrimary ? datum.primary : datum.secondary\n          )\n\n          datum.group = datumsByGrouping[axisKey]\n        }\n      }\n    }\n\n    // Not we need to precalculate all of the possible status styles by\n    // calling the seemingly 'live' getSeriesStyle, and getDatumStyle callbacks ;)\n    stackData = stackData.map((series, i) => {\n      if (!series.Component.buildStyles) {\n        throw new Error(\n          `Could not find a SeriesType.buildStyles() static method for the series Component above (index: ${i})`\n        )\n      }\n      const result = series.Component.buildStyles(series, {\n        defaultColors\n      })\n\n      return result || series\n    })\n\n    return stackData\n  }, [\n    primaryAxes,\n    secondaryAxes,\n    materializedData,\n    grouping,\n    xKey,\n    yKey,\n    xAxes,\n    yAxes\n  ])\n}\n","import React from \"react\";\n//\n//\nimport {\n  groupingSeries,\n  groupingPrimary,\n  groupingSecondary\n} from \"../utils/Constants\";\n\nconst showCount = 10;\n\nfunction getSecondaryFormatter(datum, formatSecondary) {\n  return (\n    formatSecondary ||\n    datum.secondaryAxis.format ||\n    (val => (Math.floor(val) < val ? Math.round(val * 100) / 100 : val))\n  );\n}\n\nexport default function TooltipRenderer(props) {\n  const {\n    datum,\n    grouping,\n    primaryAxis,\n    secondaryAxis,\n    formatSecondary,\n    formatTertiary,\n    getStyle,\n    dark\n  } = props;\n\n  if (!datum) {\n    return null;\n  }\n\n  const resolvedFormatTertiary =\n    formatTertiary ||\n    (val => (Math.floor(val) < val ? Math.round(val * 100) / 100 : val));\n\n  const sortedGroupDatums = [...datum.group].sort((a, b) => {\n    if (\n      (!primaryAxis.stacked && grouping === groupingSeries) ||\n      grouping === groupingSecondary\n    ) {\n      if (a.primaryCoord > b.primaryCoord) {\n        return -1;\n      } else if (a.primaryCoord < b.primaryCoord) {\n        return 1;\n      }\n    } else if (!secondaryAxis.stacked) {\n      if (a.secondaryCoord > b.secondaryCoord) {\n        return -1;\n      } else if (a.secondaryCoord < b.secondaryCoord) {\n        return 1;\n      }\n    }\n    return a.seriesIndex > b.seriesIndex ? 1 : -1;\n  });\n\n  if (grouping === groupingPrimary) {\n    sortedGroupDatums.reverse();\n  }\n\n  if (secondaryAxis.invert) {\n    sortedGroupDatums.reverse();\n  }\n\n  const resolvedShowCount = showCount % 2 === 0 ? showCount : showCount + 1;\n  const length = sortedGroupDatums.length;\n\n  // Get the focused series' index\n  const activeIndex = sortedGroupDatums.findIndex(d => d === datum);\n  // Get the start by going back half of the showCount\n  let start = activeIndex > -1 ? activeIndex - resolvedShowCount / 2 : 0;\n  // Make sure it's at least 0\n  start = Math.max(start, 0);\n  // Use the start and add the showCount to get the end\n  let end = activeIndex > -1 ? start + resolvedShowCount : length;\n  // Don't let the end go passed the length\n  end = Math.min(end, length);\n  // Double check we aren't clipping the start\n  start = Math.max(end - resolvedShowCount, 0);\n  // Slice the datums by start and end\n  const visibleSortedGroupDatums = sortedGroupDatums.slice(start, end);\n  // Detect if we have previous items\n  const hasPrevious = start > 0;\n  // Or next items\n  const hasNext = end < length;\n\n  return (\n    <div>\n      <div\n        style={{\n          marginBottom: \"3px\",\n          textAlign: \"center\"\n        }}\n      >\n        {grouping === groupingSeries ? (\n          <strong>{datum.seriesLabel}</strong>\n        ) : grouping === groupingSecondary ? (\n          <strong>{datum.secondaryAxis.format(datum.secondary)}</strong>\n        ) : (\n          <strong>{datum.primaryAxis.format(datum.primary)}</strong>\n        )}\n      </div>\n      <table\n        style={{\n          whiteSpace: \"nowrap\"\n        }}\n      >\n        <tbody>\n          {hasPrevious ? (\n            <tr\n              style={{\n                opacity: 0.8\n              }}\n            >\n              <td />\n              <td>...</td>\n              <td />\n            </tr>\n          ) : null}\n          {visibleSortedGroupDatums.map((sortedDatum, i) => {\n            const active = sortedDatum === datum;\n            const resolvedSecondaryFormat = getSecondaryFormatter(\n              sortedDatum,\n              formatSecondary\n            );\n\n            return (\n              <tr\n                key={i}\n                style={{\n                  opacity: active ? 1 : 0.8,\n                  fontWeight: active && \"bold\"\n                }}\n              >\n                <td\n                  style={{\n                    display: \"flex\",\n                    alignItems: \"center\",\n                    justifyContent: \"center\",\n                    marginRight: \"5px\"\n                  }}\n                >\n                  <svg width=\"16\" height=\"16\">\n                    <circle\n                      cx=\"8\"\n                      cy=\"8\"\n                      r=\"7\"\n                      style={{\n                        ...getStyle(sortedDatum),\n                        stroke: dark ? \"black\" : \"white\",\n                        strokeWidth: active ? 2 : 1\n                      }}\n                    />\n                  </svg>\n                </td>\n                {grouping === groupingSeries ? (\n                  <React.Fragment>\n                    <td>{primaryAxis.format(sortedDatum.primary)}: &nbsp;</td>\n                    <td\n                      style={{\n                        textAlign: \"right\"\n                      }}\n                    >\n                      {resolvedSecondaryFormat(sortedDatum.secondary)}\n                      {sortedDatum.r\n                        ? ` (${resolvedFormatTertiary(sortedDatum.r)})`\n                        : null}\n                    </td>\n                  </React.Fragment>\n                ) : grouping === groupingSecondary ? (\n                  <React.Fragment>\n                    <td>{sortedDatum.seriesLabel}: &nbsp;</td>\n                    <td\n                      style={{\n                        textAlign: \"right\"\n                      }}\n                    >\n                      {primaryAxis.format(sortedDatum.primary)}\n                      {sortedDatum.r\n                        ? ` (${resolvedFormatTertiary(sortedDatum.r)})`\n                        : null}\n                    </td>\n                  </React.Fragment>\n                ) : (\n                  <React.Fragment>\n                    <td>{sortedDatum.seriesLabel}: &nbsp;</td>\n                    <td\n                      style={{\n                        textAlign: \"right\"\n                      }}\n                    >\n                      {resolvedSecondaryFormat(sortedDatum.secondary)}\n                      {sortedDatum.r\n                        ? ` (${resolvedFormatTertiary(sortedDatum.r)})`\n                        : null}\n                    </td>\n                  </React.Fragment>\n                )}\n              </tr>\n            );\n          })}\n          {hasNext ? (\n            <tr\n              style={{\n                opacity: 0.8\n              }}\n            >\n              <td />\n              <td>...</td>\n              <td />\n            </tr>\n          ) : null}\n          {secondaryAxis && secondaryAxis.stacked && datum.group.length > 1 ? (\n            <tr>\n              <td\n                style={{\n                  paddingTop: \"5px\"\n                }}\n              >\n                <div\n                  style={{\n                    width: \"12px\",\n                    height: \"12px\",\n                    backgroundColor: dark\n                      ? \"rgba(0, 26, 39, 0.3)\"\n                      : \"rgba(255,255,255,.2)\",\n                    borderRadius: \"50px\"\n                  }}\n                />\n              </td>\n              <td\n                style={{\n                  paddingTop: \"5px\"\n                }}\n              >\n                Total: &nbsp;\n              </td>\n              <td\n                style={{\n                  paddingTop: \"5px\"\n                }}\n              >\n                {secondaryAxis.format(\n                  [...datum.group].reverse()[0].totalValue\n                )}\n              </td>\n            </tr>\n          ) : null}\n        </tbody>\n      </table>\n    </div>\n  );\n}\n","import React from 'react'\nimport PropTypes from 'prop-types'\n//\nimport Utils from '../../utils/Utils'\n\nimport TooltipRenderer from '../TooltipRenderer'\n\nimport {\n  alignAuto,\n  alignRight,\n  alignTopRight,\n  alignBottomRight,\n  alignLeft,\n  alignTopLeft,\n  alignBottomLeft,\n  alignTop,\n  alignBottom,\n  anchorPointer,\n  anchorClosest,\n  anchorCenter,\n  anchorTop,\n  anchorBottom,\n  anchorLeft,\n  anchorRight,\n  anchorGridTop,\n  anchorGridBottom,\n  anchorGridLeft,\n  anchorGridRight\n} from '../../utils/Constants'\n\nconst alignPropType = PropTypes.oneOf([\n  alignAuto,\n  alignRight,\n  alignTopRight,\n  alignBottomRight,\n  alignLeft,\n  alignTopLeft,\n  alignBottomLeft,\n  alignTop,\n  alignBottom\n])\n\nexport const tooltipShape = PropTypes.oneOfType([\n  PropTypes.oneOf([true]),\n  PropTypes.shape({\n    align: alignPropType,\n    alignPriority: PropTypes.arrayOf(alignPropType),\n    padding: PropTypes.number,\n    tooltipArrowPadding: PropTypes.number,\n    anchor: PropTypes.oneOf([\n      anchorPointer,\n      anchorClosest,\n      anchorCenter,\n      anchorTop,\n      anchorBottom,\n      anchorLeft,\n      anchorRight,\n      anchorGridTop,\n      anchorGridBottom,\n      anchorGridLeft,\n      anchorGridRight\n    ]),\n    render: PropTypes.func.required,\n    onChange: PropTypes.func\n  })\n])\n\nexport default ({ focused, tooltip, pointer, gridWidth, gridHeight }) => {\n  return React.useMemo(() => {\n    if (!tooltip) {\n      return null\n    }\n    // Default tooltip props\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    tooltip = {\n      align: alignAuto,\n      alignPriority: [\n        alignRight,\n        alignTopRight,\n        alignBottomRight,\n        alignLeft,\n        alignTopLeft,\n        alignBottomLeft,\n        alignTop,\n        alignBottom\n      ],\n      padding: 5,\n      tooltipArrowPadding: 7,\n      anchor: 'closest',\n      render: TooltipRenderer,\n      onChange: () => {},\n      ...tooltip\n    }\n    let anchor = {}\n    let show = true\n\n    // If there is a focused datum, default the focus to its x and y\n    if (focused) {\n      anchor = focused.anchor\n    } else {\n      show = false\n    }\n\n    if (tooltip.anchor === 'pointer') {\n      // Support pointer-bound focus\n      anchor = pointer\n    } else if (tooltip.anchor === 'closest') {\n      // Do nothing, this is already calculated\n    } else if (focused) {\n      // Support manual definition of focus point using relative multiFocus strategy\n      const multiFocus = Array.isArray(tooltip.anchor)\n        ? [...tooltip.anchor]\n        : [tooltip.anchor]\n      anchor = Utils.getMultiAnchor({\n        anchor: multiFocus,\n        points: focused.group,\n        gridWidth,\n        gridHeight\n      })\n    }\n\n    anchor = anchor\n      ? {\n          horizontalPadding: anchor.horizontalPadding || 0,\n          verticalPadding: anchor.verticalPadding || 0,\n          ...anchor\n        }\n      : anchor\n\n    return {\n      ...tooltip,\n      anchor,\n      show\n    }\n  }, [focused, gridHeight, gridWidth, pointer, tooltip])\n}\n","import React from 'react'\nimport PropTypes from 'prop-types'\n\nimport Utils from '../../utils/Utils'\n\nexport const cursorShape = PropTypes.oneOfType([\n  PropTypes.oneOf([true]),\n  PropTypes.shape({\n    render: PropTypes.func,\n    snap: PropTypes.bool,\n    showLine: PropTypes.bool,\n    showLabel: PropTypes.bool,\n    axisID: PropTypes.any,\n    onChange: PropTypes.func\n  })\n])\n\nconst defaultCursorProps = {\n  render: ({ formattedValue }) => <span>{formattedValue}</span>,\n  snap: true,\n  showLine: true,\n  showLabel: true,\n  axisID: undefined,\n  onChange: () => {}\n}\n\nexport default ({\n  primaryCursor,\n  secondaryCursor,\n  primaryAxes,\n  secondaryAxes,\n  focused,\n  pointer,\n  gridWidth,\n  gridHeight,\n  stackData\n}) => {\n  return [primaryCursor, secondaryCursor].map((cursor, i) => {\n    const cursorValue = cursor && cursor.value\n\n    return React.useMemo(() => {\n      if (!cursor) {\n        return\n      }\n      const primary = i === 0\n      // eslint-disable-next-line react-hooks/exhaustive-deps\n      cursor = {\n        ...defaultCursorProps,\n        ...cursor,\n        primary\n      }\n\n      let value\n      let show = false\n\n      // Determine the axis to use\n      const axis = Utils.getAxisByAxisID(\n        primary ? primaryAxes : secondaryAxes,\n        cursor.axisID || focused\n          ? focused.series[primary ? 'primaryAxisID' : 'secondaryAxisID']\n          : undefined\n      )\n\n      const siblingAxis = primary ? secondaryAxes[0] : primaryAxes[0]\n\n      // Resolve the invert function\n      const invert = axis.scale.invert || (d => d)\n\n      // If the pointer is active, try to show\n      if (pointer.active) {\n        // Default to cursor x and y\n        let x = pointer.x\n        let y = pointer.y\n        // If the cursor isn't in the grid, don't display\n        if (x < -1 || x > gridWidth + 1 || y < -1 || y > gridHeight + 1) {\n          show = false\n        } else {\n          show = true\n        }\n\n        // Implement snapping\n        if (axis.type === 'ordinal' || cursor.snap) {\n          if (!focused) {\n            show = false\n          } else {\n            if (axis.vertical) {\n              value = focused.yValue\n            } else {\n              value = focused.xValue\n            }\n          }\n        } else if (axis.vertical) {\n          value = invert(y)\n        } else {\n          value = invert(x)\n        }\n      } else {\n        show = false\n      }\n\n      let resolvedShow = show\n      let resolvedValue = value\n\n      if (typeof cursor.value !== 'undefined' && cursor.value !== null) {\n        resolvedValue = cursor.value\n\n        if (typeof cursor.show !== 'undefined') {\n          resolvedShow = cursor.show\n        } else {\n          resolvedShow = true\n        }\n\n        if (typeof axis.scale(resolvedValue) === 'undefined') {\n          resolvedShow = false\n        }\n      }\n\n      return {\n        ...cursor,\n        axis,\n        siblingAxis,\n        show,\n        value,\n        resolvedShow,\n        resolvedValue\n      }\n    }, [stackData, pointer, cursorValue])\n  })\n}\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\n//\nimport ChartContext from \"../utils/ChartContext\";\nimport Utils from \"../utils/Utils\";\n\nimport useHyperResponsive from \"../hooks/useHyperResponsive\";\nimport useLatestRef from \"../hooks/useLatestRef\";\nimport useLatest from \"../hooks/useLatest\";\nimport usePrevious from \"../hooks/usePrevious\";\n\nimport ChartInner from \"./ChartInner\";\n\nimport calculateMaterializeData from \"./pipeline/calculateMaterializeData\";\nimport calculateSeriesOptions, {\n  seriesPropType\n} from \"./pipeline/calculateSeriesOptions\";\nimport calculateSeriesTypes from \"./pipeline/calculateSeriesTypes\";\nimport calculateDimensions from \"./pipeline/calculateDimensions\";\nimport calculateAxes, { axisShape } from \"./pipeline/calculateAxes\";\nimport calculateStackData from \"./pipeline/calculateStackData\";\nimport calculateTooltip, { tooltipShape } from \"./pipeline/calculateTooltip\";\nimport calculateCursors, { cursorShape } from \"./pipeline/calculateCursors\";\n\nimport {\n  groupingSingle,\n  groupingSeries,\n  groupingPrimary,\n  groupingSecondary,\n  focusAuto,\n  focusElement,\n  focusClosest\n} from \"../utils/Constants\";\n\nconst defaultProps = {\n  getDatums: d => (Array.isArray(d) ? d : d.datums || d.data),\n  getLabel: (d, i) => d.label || `Series ${i + 1}`,\n  getSeriesID: (d, i) => i,\n  getPrimary: d => (Array.isArray(d) ? d[0] : d.primary || d.x),\n  getSecondary: d => (Array.isArray(d) ? d[1] : d.secondary || d.y),\n  getR: d => (Array.isArray(d) ? d[2] : d.radius || d.r),\n  getPrimaryAxisID: s => s.primaryAxisID,\n  getSecondaryAxisID: s => s.secondaryAxisID,\n  getSeriesStyle: series => ({ color: series.originalSeries.color }),\n  getDatumStyle: () => ({}),\n  getSeriesOrder: d => d,\n  onHover: () => {},\n  grouping: groupingPrimary,\n  focus: focusAuto,\n  showVoronoi: false\n};\n\nexport default function Chart({\n  data,\n  grouping,\n  focus,\n  showVoronoi,\n  dark,\n  series,\n  axes,\n  primaryCursor,\n  secondaryCursor,\n  tooltip,\n  brush,\n  renderSVG,\n  getDatums,\n  getLabel,\n  getSeriesID,\n  getPrimary,\n  getSecondary,\n  getR,\n  getPrimaryAxisID,\n  getSecondaryAxisID,\n  getSeriesStyle,\n  getDatumStyle,\n  onClick,\n  onFocus,\n  onHover,\n  getSeriesOrder,\n  ...rest\n}) {\n  let [\n    { focused, element, axisDimensions, offset: offsetState, padding, pointer },\n    setChartState\n  ] = React.useState({\n    focused: null,\n    element: null,\n    axisDimensions: {},\n    padding: {},\n    offset: {},\n    pointer: {}\n  });\n\n  const onClickRef = useLatestRef(onClick);\n  const onFocusRef = useLatestRef(onFocus);\n  const onHoverRef = useLatestRef(onHover);\n\n  const responsiveElRef = React.useRef();\n  const [{ width, height }] = useHyperResponsive(responsiveElRef);\n\n  getSeriesID = React.useCallback(\n    Utils.normalizeGetter(getSeriesID),\n    [getSeriesID]\n  );\n  getLabel = React.useCallback(Utils.normalizeGetter(getLabel), [getLabel]);\n  getPrimaryAxisID = React.useCallback(\n    Utils.normalizeGetter(getPrimaryAxisID),\n    [getPrimaryAxisID]\n  );\n  getSecondaryAxisID = React.useCallback(\n    Utils.normalizeGetter(getSecondaryAxisID),\n    [getSecondaryAxisID]\n  );\n  getDatums = React.useCallback(Utils.normalizeGetter(getDatums), [getDatums]);\n  getPrimary = React.useCallback(Utils.normalizeGetter(getPrimary), [getPrimary]);\n  getSecondary = React.useCallback(\n    Utils.normalizeGetter(getSecondary),\n    [getSecondary]\n  );\n  getR = React.useCallback(Utils.normalizeGetter(getR), [getR]);\n\n  let materializedData = calculateMaterializeData({\n    data,\n    getSeriesID,\n    getLabel,\n    getPrimaryAxisID,\n    getSecondaryAxisID,\n    getDatums,\n    getPrimary,\n    getSecondary,\n    getR\n  });\n\n  const seriesOptions = calculateSeriesOptions({\n    materializedData,\n    series\n  });\n\n  materializedData = calculateSeriesTypes({\n    materializedData,\n    seriesOptions\n  });\n\n  const { offset, gridX, gridY, gridWidth, gridHeight } = calculateDimensions({\n    width,\n    height,\n    axisDimensions,\n    padding,\n    offset: offsetState\n  });\n\n  const {\n    primaryAxes,\n    secondaryAxes,\n    xKey,\n    yKey,\n    xAxes,\n    yAxes\n  } = calculateAxes({\n    axes,\n    materializedData,\n    gridHeight,\n    gridWidth,\n    axisDimensions\n  });\n\n  const stackData = calculateStackData({\n    materializedData,\n    primaryAxes,\n    secondaryAxes,\n    yAxes,\n    yKey,\n    xAxes,\n    xKey,\n    grouping\n  });\n\n  pointer = React.useMemo(\n    () => {\n      return {\n        ...pointer,\n        axisValues: [...primaryAxes, ...secondaryAxes].map(axis => ({\n          axis,\n          value: axis.scale.invert\n            ? axis.scale.invert(pointer[axis.vertical ? \"y\" : \"x\"])\n            : null\n        }))\n      };\n    },\n    [pointer, primaryAxes, secondaryAxes]\n  );\n\n  focused = React.useMemo(\n    () => {\n      // Get the closest focus datum out of the datum group\n      if (focused || element) {\n        let resolvedFocus = focus;\n\n        if (focus === focusAuto) {\n          if (element) {\n            resolvedFocus = focusElement;\n          } else {\n            resolvedFocus = focusClosest;\n          }\n        }\n\n        if (resolvedFocus === focusElement && element) {\n          return element;\n        } else if (resolvedFocus === focusClosest) {\n          return Utils.getClosestPoint(pointer, focused.group);\n        }\n      }\n      return null;\n    },\n    [element, focus, focused, pointer]\n  );\n\n  // keep the previous focused value around for animations\n  const latestFocused = useLatest(focused, focused);\n\n  // Calculate Tooltip\n  tooltip = calculateTooltip({\n    focused,\n    tooltip,\n    pointer,\n    gridWidth,\n    gridHeight\n  });\n\n  // Cursors\n  [primaryCursor, secondaryCursor] = calculateCursors({\n    primaryCursor,\n    secondaryCursor,\n    primaryAxes,\n    secondaryAxes,\n    focused,\n    pointer,\n    gridWidth,\n    gridHeight,\n    stackData\n  });\n\n  React.useEffect(\n    () => {\n      if (onFocusRef.current) {\n        onFocusRef.current(focused);\n      }\n    },\n    [onFocusRef, focused]\n  );\n\n  React.useEffect(\n    () => {\n      if (onHoverRef.current) {\n        onHoverRef.current(pointer);\n      }\n    },\n    [onHoverRef, pointer]\n  );\n\n  const previousDragging = usePrevious(pointer.dragging);\n\n  React.useEffect(\n    () => {\n      if (brush && previousDragging && !pointer.dragging) {\n        if (Math.abs(pointer.sourceX - pointer.x) < 20) {\n          return;\n        }\n        brush.onSelect({\n          pointer: pointer.released,\n          start: primaryAxes[0].scale.invert(pointer.sourceX),\n          end: primaryAxes[0].scale.invert(pointer.x)\n        });\n      }\n    },\n    [\n      brush,\n      pointer,\n      pointer.released,\n      pointer.sourceX,\n      pointer.x,\n      previousDragging,\n      primaryAxes\n    ]\n  );\n\n  // Decorate the chartState with computed values (or ones we just\n  // want to pass down through context)\n  const chartState = React.useMemo(\n    () => ({\n      focused,\n      latestFocused,\n      pointer,\n      tooltip,\n      axisDimensions,\n      offset,\n      padding,\n      width,\n      height,\n      brush,\n      grouping,\n      showVoronoi,\n      materializedData,\n      stackData,\n      primaryAxes,\n      secondaryAxes,\n      primaryCursor,\n      secondaryCursor,\n      gridX,\n      gridY,\n      gridWidth,\n      gridHeight,\n      dark,\n      renderSVG,\n      xKey,\n      yKey,\n      xAxes,\n      yAxes,\n      onClickRef,\n      getSeriesStyle,\n      getDatumStyle,\n      seriesOptions,\n      getSeriesOrder\n    }),\n    [\n      axisDimensions,\n      brush,\n      dark,\n      focused,\n      getDatumStyle,\n      getSeriesOrder,\n      getSeriesStyle,\n      gridHeight,\n      gridWidth,\n      gridX,\n      gridY,\n      grouping,\n      height,\n      latestFocused,\n      materializedData,\n      offset,\n      onClickRef,\n      padding,\n      pointer,\n      primaryAxes,\n      primaryCursor,\n      renderSVG,\n      secondaryAxes,\n      secondaryCursor,\n      seriesOptions,\n      showVoronoi,\n      stackData,\n      tooltip,\n      width,\n      xAxes,\n      xKey,\n      yAxes,\n      yKey\n    ]\n  );\n\n  const chartStateContextValue = React.useMemo(\n    () => [chartState, setChartState],\n    [chartState, setChartState]\n  );\n\n  return (\n    <ChartContext.Provider value={chartStateContextValue}>\n      <ChartInner\n        ref={responsiveElRef}\n        {...rest}\n        onClick={e => {\n          if (onClickRef.current) {\n            onClickRef.current(focused);\n          }\n        }}\n      />\n    </ChartContext.Provider>\n  );\n}\n\nChart.propTypes = {\n  data: PropTypes.any.isRequired,\n  focus: PropTypes.oneOf([focusAuto, focusClosest, focusElement]).isRequired,\n  grouping: PropTypes.oneOf([\n    groupingSingle,\n    groupingSeries,\n    groupingPrimary,\n    groupingSecondary\n  ]).isRequired,\n  showVoronoi: PropTypes.bool,\n  dark: PropTypes.bool,\n  series: seriesPropType,\n  axes: PropTypes.arrayOf(axisShape),\n  primaryCursor: cursorShape,\n  secondaryCursor: cursorShape,\n  tooltip: tooltipShape,\n  renderSVG: PropTypes.func,\n  getDatums: PropTypes.func.isRequired,\n  getLabel: PropTypes.func.isRequired,\n  getSeriesID: PropTypes.func.isRequired,\n  getPrimary: PropTypes.func.isRequired,\n  getSecondary: PropTypes.func.isRequired,\n  getR: PropTypes.func.isRequired,\n  getPrimaryAxisID: PropTypes.func.isRequired,\n  getSecondaryAxisID: PropTypes.func.isRequired,\n  getSeriesOrder: PropTypes.func.isRequired,\n  getSeriesStyle: PropTypes.func,\n  getDatumStyle: PropTypes.func,\n  onClick: PropTypes.func,\n  onFocus: PropTypes.func,\n  onHover: PropTypes.func\n};\n\nChart.defaultProps = defaultProps;\n"]},"metadata":{},"sourceType":"script"}